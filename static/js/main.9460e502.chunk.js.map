{"version":3,"sources":["assets/logo_white.png","assets/placeholder.png","assets/bnb.svg","assets/wordmark_white.png","assets/logo.png","contexts/LocalStorage.js","Theme/index.js","apollo/client.js","constants/index.js","apollo/queries.js","utils/tokenLists.ts","contexts/Application.js","utils/index.js","contexts/PairData.js","contexts/GlobalData.js","contexts/TokenData.js","utils/returns.ts","contexts/User.js","components/Row/index.js","components/Column/index.js","components/LocalLoader/index.js","components/Link/index.js","components/index.js","components/TokenLogo/index.js","components/DoubleLogo/index.js","hooks/index.ts","components/Popover/index.tsx","components/QuestionHelper/index.tsx","components/FormattedName/index.js","components/PairList/index.js","components/TokenList/index.js","components/DropdownSelect/index.js","components/TxnList/index.js","components/TradingviewChart/index.js","components/ButtonStyled/index.js","components/GlobalChart/index.js","components/Search/index.js","components/Panel/index.js","components/UniPrice/index.js","components/GlobalStats/index.js","pages/GlobalPage.js","components/CandleChart/index.js","components/TokenChart/index.js","components/Copy/index.js","components/Warning/index.js","pages/TokenPage.js","components/PairChart/index.js","pages/PairPage.js","components/UserChart/index.js","components/PairReturnsChart/index.js","components/PositionList/index.js","pages/AccountPage.js","pages/AllTokensPage.js","pages/AllPairsPage.js","components/AccountSearch/index.js","components/PinnedData/index.js","components/Title/index.js","components/Toggle/index.tsx","components/SideNav/index.js","components/LPList/index.js","pages/AccountLookup.js","App.js","index.js"],"names":["module","exports","UPDATABLE_KEYS","LocalStorageContext","createContext","useLocalStorageContext","useContext","reducer","state","type","payload","key","value","some","k","Error","init","defaultLocalStorage","parsed","JSON","parse","window","localStorage","getItem","Provider","children","useReducer","undefined","dispatch","updateKey","useCallback","useMemo","Updater","useEffect","setItem","stringify","Math","floor","Date","now","useDarkModeManager","isDarkMode","toggleDarkMode","usePathDismissed","path","newPaths","useSavedPairs","address","token0Address","token1Address","token0Symbol","token1Symbol","newList","useSavedTokens","symbol","theme","darkMode","color","customColor","textColor","panelColor","backgroundColor","bscswapYellow","concreteGray","inputBackground","shadowColor","mercuryGray","text1","text2","text3","text4","text5","white","bg1","bg2","bg3","bg4","bg5","bg6","modalBG","advancedBG","onlyLight","divider","primary1","primary2","primary3","primary4","primary5","primaryText1","secondary1","secondary2","secondary3","shadow1","red1","green1","yellow1","yellow2","link","blue","background","TextWrapper","styled","Text","TYPE","props","fontWeight","fontSize","ThemedBackground","div","a","attrs","target","rel","GlobalStyle","createGlobalStyle","client","ApolloClient","HttpLink","uri","cache","InMemoryCache","shouldBatch","healthClient","blockClient","timeframeOptions","WEEK","MONTH","ALL_TIME","SUPPORTED_LIST_URLS__NO_ENS","OVERVIEW_TOKEN_BLACKLIST","PAIR_BLACKLIST","FEE_WARNING_TOKENS","SUBGRAPH_HEALTH","gql","GET_BLOCK","GET_BLOCKS","timestamps","queryString","map","timestamp","PRICES_BY_BLOCK","tokenAddress","blocks","block","number","TOP_LPS_PER_PAIRS","HOURLY_PAIR_RATES","pairAddress","SHARE_VALUE","BNB_PRICE","USER_MINTS_BUNRS_PER_PAIR","USER_HISTORY","USER_POSITIONS","USER_TRANSACTIONS","PAIR_CHART","PAIR_DAY_DATA_BULK","pairs","startTimestamp","pairsString","pair","GLOBAL_CHART","GLOBAL_DATA","GLOBAL_TXNS","ALL_TOKENS","TOKEN_SEARCH","PAIR_SEARCH","ALL_PAIRS","PairFields","PAIRS_CURRENT","PAIR_DATA","PAIRS_BULK","PAIRS_HISTORICAL_BULK","TOKEN_CHART","TokenFields","TOKENS_CURRENT","TOKENS_DYNAMIC","TOKEN_DATA","FILTERED_TRANSACTIONS","uriToHttp","split","toLowerCase","substr","hash","match","name","tokenListValidator","Ajv","allErrors","compile","schema","getTokenList","listUrl","urls","i","length","url","isLast","response","fetch","console","debug","ok","json","validationErrors","errors","reduce","memo","error","add","dataPath","message","dayjs","extend","utc","ApplicationContext","useApplicationContext","currency","newTimeFrame","web3","supportedTokens","INITIAL_STATE","CURRENCY","TIME_KEY","update","updateTimeframe","updateSessionStart","updateWeb3","updateSupportedTokens","updateLatestBlock","useLatestBlock","latestBlock","query","res","data","indexingStatusForCurrentVersion","chains","log","useTimeframe","useListedTokens","fetchedTokens","tokensSoFar","newTokens","Promise","resolve","tokens","allFetched","formatted","t","fetchList","toFormat","_Decimal","getTimeframe","timeWindow","utcStartTime","utcEndTime","subtract","endOf","unix","startOf","getPoolLink","remove","getSwapLink","getAstroLink","localNumber","val","Numeral","format","BigNumber","set","EXPONENTIAL_AT","toNiceDate","date","getTimestampsForChanges","utcCurrentTime","splitQuery","localClient","vars","list","skipCount","fetchedData","allFound","skip","end","sliced","slice","fetchPolicy","result","Object","keys","getBlockFromTimestamp","variables","timestampFrom","timestampTo","getBlocksFromTimestamps","push","getShareValueOverTime","utcSevenDaysBack","getTimestampRange","row","values","sharePriceUsd","parseFloat","reserveUSD","totalSupply","reserve0","reserve1","token0DerivedBNB","token0","derivedBNB","token1DerivedBNB","token1","roiUsd","bnbPrice","token0PriceUSD","token1PriceUSD","brow","index","timestamp_from","period_length","periods","toNiceDateYear","isAddress","ethers","utils","getAddress","toK","num","tx","priceFormatter","Intl","NumberFormat","style","minimumFractionDigits","formattedNum","usd","isNaN","toFixed","Number","toLocaleString","usdString","formattedPercent","percent","fixedPercent","get2DayPercentChange","valueNow","value24HoursAgo","value48HoursAgo","currentChange","previousChange","adjustedPercentChange","isFinite","getPercentChange","safeAccess","object","accumulator","currentValue","PairDataContext","usePairDataContext","topPairs","added","id","transactions","txns","chartData","hourlyData","updateTopPairs","updatePairTxns","updateChartData","updateHourlyData","getBulkPairData","pairList","t1","t2","tWeek","b1","b2","bWeek","allPairs","current","all","oneDayResult","twoDayResult","oneWeekResult","oneDayData","obj","cur","twoDayData","oneWeekData","oneDayHistory","newData","twoDayHistory","oneWeekHistory","parseData","pairData","oneDayBlock","volumeUSD","oneDayVolumeUSD","volumeChangeUSD","untrackedVolumeUSD","oneDayVolumeUntracked","volumeChangeUntracked","oneWeekVolumeUSD","trackedReserveUSD","trackedReserveBNB","liquidityChangeUSD","createdAtBlockNumber","getPairTransactions","mints","burns","swaps","getPairChartData","startTime","concat","pairDayDatas","dayIndexSet","Set","dayIndexArray","forEach","dayData","dailyVolumeUSD","latestLiquidityUSD","currentDayIndex","nextDay","has","dayString","sort","b","parseInt","getHourlyRateData","time","filter","rate0","token0Price","rate1","token1Price","formattedHistoryRate0","formattedHistoryRate1","open","close","useBnbPrice","formattedPairs","getData","usePairData","fetchData","useAllPairData","weekOfYear","GlobalDataContext","useGlobalDataContext","globalData","daily","weekly","oneDayPrice","bnbPriceChange","allTokens","topLps","updateTransactions","updateChart","updateBnbPrice","updateAllPairsInBscswap","updateAllTokensInBscswap","updateTopLps","getGlobalData","oldBnbPrice","utcOneDayBack","utcTwoDaysBack","utcOneWeekBack","utcTwoWeeksBack","twoDayBlock","oneWeekBlock","twoWeekBlock","bscswapFactories","twoWeekResult","twoWeekData","totalVolumeUSD","txCount","oneDayTxns","txnChange","totalLiquidityUSD","totalLiquidityBNB","oneWeekVolume","weeklyVolumeChange","getChartData","oldestDateToFetch","weeklyData","bscswapDayDatas","latestDayDats","mostLiquidTokens","startIndexWeekly","currentWeek","entry","week","weeklyVolumeUSD","getGlobalTransactions","transaction","mint","burn","swap","getBnbPrice","bnbPriceOneDay","priceChangeBNB","resultOneDay","currentPrice","bundles","oneDayBackPrice","getAllPairsOnBscswap","getAllTokensOnBscswap","useGlobalData","useGlobalChartData","useState","oldestDateFetch","setOldestDateFetched","activeWindow","chartDataDaily","chartDataWeekly","newChartData","newWeeklyData","bnbPriceOld","newPrice","priceChange","checkForBnbPrice","TokenDataContext","useTokenDataContext","topTokens","token","interval","updateTopTokens","updateTokenTxns","updateAllPairs","updatePriceData","getTopTokens","tradeVolumeUSD","currentLiquidityUSD","totalLiquidity","oldLiquidityUSD","priceChangeUSD","priceUSD","oneDayVolumeBNB","tradeVolume","bulkResults","getTokenData","oneDayVolumeUT","volumeChangeUT","getTokenTransactions","allPairsFormatted","getTokenPairs","getIntervalTokenData","formattedHistory","getTokenChartData","tokenAddr","tokenDayDatas","latestPriceUSD","latestPairDatas","mostLiquidPairs","useTokenData","tokenData","then","useTokenPriceData","currentTime","windowSize","useAllTokenData","priceOverrides","formatPricesForEarlyTimestamps","position","includes","getPrincipalForUserPerPair","user","amount0","amount1","results","mintToken0","mintToken1","amountUSD","burnToken0","burnToken1","getMetricsForPositionWindow","positionT0","positionT1","t0Ownership","liquidityTokenBalance","liquidityTokenTotalSupply","t1Ownership","token0_amount_t0","token1_amount_t0","token0_amount_t1","token1_amount_t1","sqrK_t0","sqrt","priceRatioT1","token0_amount_no_fees","token1_amount_no_fees","no_fees_usd","difference_fees_token1","difference_fees_usd","assetValueT0","assetValueT1","imp_loss_usd","bscswap_return","netValueT0","hodleReturn","netReturn","bscswapReturn","impLoss","fees","getHistoricalPairReturns","startDateTimestamp","currentPairData","pairSnapshots","currentBNBPrice","createdAtTimestamp","dayIndex","round","sortedPositions","dayTimestamps","shareValues","shareValuesFormatted","share","netFees","dayTimestamp","timestampCeiling","dailyChanges","snapshot","localReturns","currentLiquidityValue","localFees","usdValue","getLPReturnsOnPair","snapshots","principal","currentPosition","net","return","bscswap","sum","UserContext","useUserContext","account","positions","historyData","updatePositions","updateUserSnapshots","updateUserPairReturns","useUserSnapshots","allResults","found","liquidityPositionSnapshots","useUserPositionChart","setStartDateTimestamp","useStartTimestamp","currentSnapshot","Row","Box","align","padding","border","borderRadius","justify","RowBetween","AutoRow","wrap","gap","RowFixed","Column","AutoColumn","rotate","keyframes","Loader","fill","height","css","LocalLoader","src","require","alt","Link","external","rest","CustomLink","RouterLink","lighten","darken","BasicLink","Divider","IconWrapper","Hover","fade","StyledIcon","EmptyCard","PageWrapper","span","ul","li","isActive","ContentWrapper","ContentWrapperLarge","FullWrapper","BAD_IMAGES","Inline","Image","img","size","StyledEthereumLogo","TokenLogo","header","setError","PlaceHolder","EthereumLogo","boxShadow","onError","event","preventDefault","DoubleTokenLogo","a0","a1","margin","TokenWrapper","sizeraw","toString","HigherLogo","CoveredLogo","useColor","setColor","Vibrant","from","getPalette","err","palette","detectedHex","hex","AAscore","shade","PopoverContainer","show","transparentize","ReferenceElement","Arrow","Popover","content","placement","referenceElement","setReferenceElement","popperElement","setPopperElement","arrowElement","setArrowElement","usePopper","strategy","modifiers","options","offset","element","styles","attributes","callback","delay","savedCallback","useRef","tick","setInterval","clearInterval","useInterval","ref","popper","className","arrow","QuestionWrapper","TooltipContainer","Tooltip","text","QuestionHelper","disabled","setShow","marginLeft","onClick","onMouseEnter","onMouseLeave","adjustSize","FormattedName","maxCharacters","showHover","setShowHover","PageButtons","faded","List","DashGrid","ListWrapper","ClickableText","DataText","Flex","SORT_FIELD","FIELD_TO_VALUE","withRouter","disbaleLinks","maxItems","below600","useMedia","below740","below1080","page","setPage","maxPage","setMaxPage","ITEMS_PER_PAGE","sortDirection","setSortDirection","sortedColumn","setSortedColumn","extraPages","ListItem","liquidity","volume","apy","focus","area","marginRight","width","whiteSpace","to","addressA","addressB","pairA","pairB","center","alignItems","justifyContent","e","p","LIQ","VOL","SYMBOL","NAME","PRICE","CHANGE","itemMax","below680","formattedTokens","filteredList","item","NAMe","Wrapper","Dropdown","ArrowStyled","DropdownSelect","active","setActive","showDropdown","toggleDropdown","option","SortText","button","TXN_TYPE","ALL","SWAP","ADD","REMOVE","TxnList","symbol0Override","symbol1Override","filteredItems","setFilteredItems","txFilter","setTxFilter","toggleCurrency","useCurrentCurrency","newTxns","newTxn","token0Amount","token1Amount","sender","netToken0","amount0In","amount0Out","netToken1","amount1In","amount1Out","abs","filtered","below780","href","symbol0","symbol1","formattedS0","formattedS1","getTransactionType","valueBNB","inSeconds","diff","inMinutes","inHours","inDays","formatTime","pl","CHART_TYPES","TradingViewChart","base","baseChange","field","title","useWeekly","chartCreated","setChartCreated","dataPrev","usePrevious","tooltip","document","getElementById","removeChild","resize","formattedData","topScale","previousTheme","setLastBarText","toolTip","innerHTML","formattedPercentChange","chart","createChart","layout","rightPriceScale","scaleMargins","top","bottom","borderVisible","timeScale","grid","horzLines","visible","vertLines","crosshair","horzLine","labelVisible","vertLine","localization","series","addHistogramSeries","priceFormat","lineColor","lineWidth","addAreaSeries","topColor","bottomColor","setData","createElement","setAttribute","appendChild","display","left","percentChange","subscribeCrosshairMove","param","point","x","y","dateStr","year","month","day","price","seriesPrices","get","fitContent","scrollToPosition","Base","RebassButton","ButtonLight","ButtonDropdown","ButtonFaded","ope","ButtonDark","OptionButton","CHART_VIEW","VOLUME","LIQUIDITY","VOLUME_WINDOW","GlobalChart","chartView","setChartView","volumeWindow","setVolumeWindow","dailyData","chartDataFiltered","currentData","below800","isClient","container","clientWidth","setWidth","handleResize","addEventListener","removeEventListener","aspect","zIndex","Container","small","Input","input","large","SearchIconLarge","SearchIcon","CloseIcon","X","Menu","hide","MenuItem","Heading","Gray","Blue","Search","useAllTokensInBscswap","allTokenData","useAllPairsInBscswap","allPairData","showMenu","toggleMenu","setValue","toggleShadow","toggleBottomShadow","below700","below470","below410","searchedTokens","setSearchedTokens","searchedPairs","setSearchedPairs","escapeRegExp","string","replace","toUpperCase","asSymbol","as0","as1","asAddress","foundTokens","asName","searchedToken","included","uniqueTokens","searchedPair","uniquePairs","pairsFound","filteredTokenList","tokenA","tokenB","tokenEntryKey","RegExp","m","filteredPairList","tokensShown","setTokensShown","pairsShown","setPairsShown","onDismiss","wrapperRef","menuRef","handleClick","contains","shadow","placeholder","onChange","onFocus","panelPseudo","Panel","RebassBox","hover","grouped","rounded","last","PriceCard","formatPercent","rawPercent","UniPrice","daiPair","busdPair","usdtPair","daiPerBnb","busdPerBnb","usdtPerBnb","Header","Medium","GlobalStats","below1295","below1180","below1024","below400","below816","showPriceCard","setShowPriceCard","pairCount","formattedBnbPrice","oneDayFees","mr","ListOptions","GridRow","useGlobalTransactions","querySelector","scrollTo","behavior","paddingBottom","mb","lineHeight","minHeight","marginTop","marginBottom","CandleStickChart","valueFormatter","low","high","min","max","mode","CrosshairMode","Normal","borderColor","candleSeries","addCandlestickSeries","upColor","downColor","borderDownColor","borderUpColor","wickDownColor","wickUpColor","ChartWrapper","PriceOption","LINE_PRICE","DATA_FREQUENCY","TokenChart","chartFilter","setChartFilter","frequency","setFrequency","addressPrev","checkForChartData","useTokenChartData","setTimeWindow","prevWindow","hourlyWeek","hourlyMonth","hourlyAll","dailyWeek","dailyMonth","dailyAll","priceData","domain","dataMin","right","barCategoryGap","x1","y1","x2","y2","stopColor","stopOpacity","tickLine","axisLine","tickMargin","minTickGap","tickFormatter","dataKey","orientation","yAxisId","cursor","formatter","labelFormatter","label","labelStyle","paddingTop","contentStyle","wrapperStyle","stackId","strokeWidth","dot","stroke","opacity","CopyIcon","TransactionStatusText","flexRowNoWrap","CopyHelper","toCopy","timeout","isCopied","setIsCopied","staticCopy","didCopy","copy","setTimeout","clearTimeout","useCopyClipboard","setCopied","WarningWrapper","StyledWarningIcon","AlertTriangle","Warning","textContent","mt","ml","minWidth","DashboardWrapper","PanelWrapper","TokenDetailsLayout","WarningGrouping","history","fetchedPairsList","stale","setStale","fetched","setFetched","newFetched","unfetched","newPairData","fetchNewPairData","useDataForList","tokenPairs","useTokenPairs","tokenTxns","TOKEN_PAIRS_KEY","checkForTxns","useTokenTransactions","usingUtVolume","setUsingUtVolume","volumeChange","liquidityChange","txnChangeFormatted","below500","LENGTH","formattedSymbol","location","pathname","dismissed","markAsDismissed","savedTokens","addToken","listedTokens","flexWrap","alingItems","alignSelf","gridColumn","gridRow","OptionsRow","RATE0","RATE1","PairChart","base0","base1","clientHeight","setHeight","usePairChartData","useHourlyRateData","hourlyRate0","hourlyRate1","formattedSymbol0","formattedSymbol1","below1600","FixedPanel","HoverSpan","pairTxns","usePairTransactions","usingTracked","setUsingTracked","token0USD","token1USD","token0Rate","token1Rate","below900","savedPairs","addPair","flexDirection","UserChart","setFormattedHistory","ownershipPerPair","relevantPositions","lpTokenBalance","dailyUSD","dayDatasForThisPair","mostRecent","totalUSD","valueUSD","useUserLiquidityChart","PairReturnsChart","strokeDasharray","VALUE","BSCSWAP_RETURN","poolOwnership","positionsSorted","p0","p1","PRINCIPAL","HODL","hodl","AccountWrapper","DropdownWrapper","Flyout","MenuRow","AccountPage","useUserTransactions","liquidityPositions","positionData","returnData","formattedPositions","useUserPositions","transactionCount","totalSwappedUSD","total","showWarning","setShowWarning","hideLPContent","setShowDropdown","activePosition","setActivePosition","dynamicPositions","aggregateFees","positionValue","AllTokensPage","AllPairsPage","AccountLink","accountValue","setAccountValue","newAccounts","indexOf","splice","useSavedAccounts","savedAccounts","addAccount","removeAccount","RightColumn","SavedButton","ScrollableDiv","setSavedOpen","removePair","removeToken","TitleWrapper","UniIcon","Title","useHistory","Logo","Wordmark","StyledToggle","Toggle","toggle","isMobile","Option","activeText","DesktopWrapper","MobileWrapper","HeaderText","Polling","PollingDot","seconds","sessionStart","setSeconds","useSessionStart","isDark","lps","lp","pairName","lpList","topLpLists","sorted","shorter","useTopLps","AppWrapper","Right","Center","LayoutWrapper","savedOpen","App","globalChartData","exacts","strict","render","params","accountAddress","GOOGLE_ANALYTICS_ID","process","REACT_APP_GOOGLE_ANALYTICS_ID","ReactGA","initialize","customBrowserType","testMode","ReactDOM"],"mappings":"uGAAAA,EAAOC,QAAU,IAA0B,wC,kBCA3CD,EAAOC,QAAU,s6L,oBCAjBD,EAAOC,QAAU,IAA0B,iC,kBCA3CD,EAAOC,QAAU,k/P,kLCAjBD,EAAOC,QAAU,IAA0B,kC,qICcrCC,EAAiB,CAFL,YALM,kBACD,iBAEH,cADC,gBASfC,EAAsBC,0BAE5B,SAASC,IACP,OAAOC,qBAAWH,GAGpB,SAASI,EAAQC,EAAjB,GAA4C,IAAlBC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QAC9B,OAAQD,GACN,IAVe,aAUG,IACRE,EAAeD,EAAfC,IAAKC,EAAUF,EAAVE,MACb,GAAKV,EAAeW,MAAK,SAAAC,GAAC,OAAIA,IAAMH,KAGlC,OAAO,eACFH,EADL,eAEGG,EAAMC,IAJT,MAAMG,MAAM,mDAAD,OAAoDJ,EAApD,OAQf,QACE,MAAMI,MAAM,2DAAD,OAA4DN,EAA5D,QAKjB,SAASO,IAAQ,IAAD,EACRC,GAAmB,mBAxCX,UACQ,GAuCG,cAhCT,aAkCD,GAFU,cArCH,kBAwCD,IAHI,cApCJ,iBAwCD,IAJK,cAnCN,eAwCD,IALO,cAlCP,cAwCD,IANQ,GASzB,IACE,IAAMC,EAASC,KAAKC,MAAMC,OAAOC,aAAaC,QApDlC,YAqDZ,OAlDoB,IAkDhBL,EAAM,QAEDD,EAEA,eAAKA,EAAZ,GAAoCC,GAEtC,SACA,OAAOD,GAII,SAASO,EAAT,GAAiC,IAAbC,EAAY,EAAZA,SAAY,EACnBC,qBAAWnB,OAASoB,EAAWX,GADZ,mBACtCR,EADsC,KAC/BoB,EAD+B,KAGvCC,EAAYC,uBAAY,SAACnB,EAAKC,GAClCgB,EAAS,CAAEnB,KAtDI,aAsDcC,QAAS,CAAEC,MAAKC,aAC5C,IAEH,OACE,kBAACT,EAAoBqB,SAArB,CAA8BZ,MAAOmB,mBAAQ,iBAAM,CAACvB,EAAO,CAAEqB,gBAAc,CAACrB,EAAOqB,KAChFJ,GAKA,SAASO,IAAW,IAAD,EACR3B,IAATG,EADiB,oBAOxB,OAJAyB,qBAAU,WACRZ,OAAOC,aAAaY,QAlFR,UAkFyBf,KAAKgB,UAAL,eAAoB3B,EAApB,eA9EtB,aA8E+D4B,KAAKC,MAAMC,KAAKC,MAAQ,YAGjG,KAGF,SAASC,IAAsB,IAAD,EACJnC,IADI,mBAC5BG,EAD4B,KACnBqB,EADmB,KACnBA,UACZY,EAAajC,EAAK,UAChBkC,EAAiBZ,uBACrB,SAAAlB,GACEiB,EAnFY,aAmFmB,IAAVjB,IAA6B,IAAVA,EAAiBA,GAAS6B,KAEpE,CAACZ,EAAWY,IAEd,MAAO,CAACA,EAAYC,GAGf,SAASC,EAAiBC,GAAO,IAAD,IACNvC,IADM,mBAC9BG,EAD8B,KACrBqB,EADqB,KACrBA,UAQhB,MAAO,CAPY,OAAGrB,QAAH,IAAGA,OAAH,YAAGA,EAAK,uBAAR,aAAG,EAA2BoC,GACjD,WACE,IAAIC,EAAQ,OAAGrC,QAAH,IAAGA,OAAH,EAAGA,EAAK,gBACpBqC,EAASD,IAAQ,EACjBf,EArGoB,kBAqGOgB,KA4BxB,SAASC,IAAiB,IAAD,EACCzC,IADD,mBACvBG,EADuB,KACdqB,EADc,KACdA,UAqBhB,MAAO,CApBS,OAAGrB,QAAH,IAAGA,OAAH,EAAGA,EAAK,YAExB,SAAiBuC,EAASC,EAAeC,EAAeC,EAAcC,GACpE,IAAIC,EAAO,OAAG5C,QAAH,IAAGA,OAAH,EAAGA,EAAK,YACnB4C,EAAQL,GAAW,CACjBA,UACAC,gBACAC,gBACAC,eACAC,gBAEFtB,EA3IgB,cA2IOuB,IAGzB,SAAoBL,GAClB,IAAIK,EAAO,OAAG5C,QAAH,IAAGA,OAAH,EAAGA,EAAK,YACnB4C,EAAQL,GAAW,KACnBlB,EAjJgB,cAiJOuB,KAMpB,SAASC,IAAkB,IAAD,EACAhD,IADA,mBACxBG,EADwB,KACfqB,EADe,KACfA,UAiBhB,MAAO,CAhBU,OAAGrB,QAAH,IAAGA,OAAH,EAAGA,EAAK,aAEzB,SAAkBuC,EAASO,GACzB,IAAIF,EAAO,OAAG5C,QAAH,IAAGA,OAAH,EAAGA,EAAK,aACnB4C,EAAQL,GAAW,CACjBO,UAEFzB,EAjKiB,eAiKOuB,IAG1B,SAAqBL,GACnB,IAAIK,EAAO,OAAG5C,QAAH,IAAGA,OAAH,EAAGA,EAAK,aACnB4C,EAAQL,GAAW,KACnBlB,EAvKiB,eAuKOuB,K,8yECpK5B,IAAMG,EAAQ,SAACC,EAAUC,GAAX,MAAsB,CAClCC,YAAaD,EACbE,UAAWH,EAAWC,EAAQ,QAE9BG,WAAuB,yBACvBC,gBAAiBL,EAAW,UAAY,UAExCM,cAAeN,EAAW,UAAY,QAEtCO,aAAcP,EAAW,UAAY,UACrCQ,gBAAiBR,EAAW,UAAY,UACxCS,YAAaT,EAAW,OAAS,UACjCU,YAAaV,EAAW,UAAY,UAEpCW,MAAOX,EAAW,UAAY,UAC9BY,MAAOZ,EAAW,UAAY,UAC9Ba,MAAOb,EAAW,UAAY,UAC9Bc,MAAOd,EAAW,UAAY,UAC9Be,MAAOf,EAAW,UAAY,UAG9BgB,MAAO,UAGPC,IAAKjB,EAAW,UAAY,UAC5BkB,IAAKlB,EAAW,UAAY,UAC5BmB,IAAKnB,EAAW,UAAY,UAC5BoB,IAAKpB,EAAW,UAAY,UAC5BqB,IAAKrB,EAAW,UAAY,UAC5BsB,IAAKtB,EAAW,OAAS,UAGzBuB,QAASvB,EAAW,mBAAqB,kBACzCwB,WAAYxB,EAAW,kBAAoB,wBAC3CyB,UAAWzB,EAAW,UAAY,cAClC0B,QAAS1B,EAAW,0BAA4B,0BAGhD2B,SAAU3B,EAAW,UAAY,UACjC4B,SAAU5B,EAAW,UAAY,UACjC6B,SAAU7B,EAAW,UAAY,UACjC8B,SAAU9B,EAAW,YAAc,UACnC+B,SAAU/B,EAAW,YAAc,UAGnCgC,aAAchC,EAAW,UAAY,UAGrCiC,WAAYjC,EAAW,UAAY,UACnCkC,WAAYlC,EAAW,YAAc,UACrCmC,WAAYnC,EAAW,YAAc,UAErCoC,QAASpC,EAAW,OAAS,UAG7BqC,KAAM,UACNC,OAAQ,UACRC,QAAS,UACTC,QAAS,UACTC,KAAM,UACNC,KAAM,SAENC,WAAY3C,EAAW,QAAH,+DAGhB4C,EAAcC,kBAAOC,IAAPD,CAAH,KACN,gBAAG5C,EAAH,EAAGA,MAAH,SAAUF,MAAkBE,MAG1B8C,EAAO,SACbC,GACH,OAAO,kBAACJ,EAAD,eAAaK,WAAY,IAAKC,SAAU,GAAIjD,MAAO,SAAa+C,KAF9DD,EAAO,SAKbC,GACH,OAAO,kBAACJ,EAAD,eAAaK,WAAY,IAAKC,SAAU,GAAIjD,MAAO,SAAa+C,KAN9DD,EAAO,SASZC,GACJ,OAAO,kBAACJ,EAAD,eAAaK,WAAY,IAAKC,SAAU,GAAIjD,MAAO,SAAa+C,KAV9DD,EAAO,SAaXC,GACL,OAAO,kBAACJ,EAAD,eAAaK,WAAY,IAAKhD,MAAO,SAAa+C,KAdhDD,EAAO,SAiBNC,GACV,OAAO,kBAACJ,EAAD,eAAaK,WAAY,IAAKhD,MAAO,QAASiD,SAAU,IAAQF,KAlB9DD,EAAO,SAqBZC,GACJ,OAAO,kBAACJ,EAAD,eAAaK,WAAY,IAAKhD,MAAO,QAASiD,SAAU,IAAQF,KAkC9DG,GA1BQN,UAAOO,IAAV,KAMEP,UAAOQ,EAAEC,MAAM,CACjCC,OAAQ,SACRC,IAAK,uBAFaX,CAAH,KAMN,qBAAG9C,MAAkB4B,YAcAkB,UAAOO,IAAV,KASb,gBAAG/C,EAAH,EAAGA,gBAAH,oDAC2BA,EAD3B,yCAUHoD,EAAcC,4BAAH,KAcA,qBAAG3D,MAAkBuB,O,mDCtKhCqC,EAAS,IAAIC,IAAa,CACrCnB,KAAM,IAAIoB,IAAS,CACjBC,IAAK,yEAEPC,MAAO,IAAIC,IACXC,aAAa,IAGFC,EAAe,IAAIN,IAAa,CAC3CnB,KAAM,IAAIoB,IAAS,CACjBC,IAAK,oDAEPC,MAAO,IAAIC,IACXC,aAAa,IAGFE,EAAc,IAAIP,IAAa,CAC1CnB,KAAM,IAAIoB,IAAS,CACjBC,IAAK,6EAEPC,MAAO,IAAIC,M,iBCpBAI,EAAmB,CAC9BC,KAAM,SACNC,MAAO,UAGPC,SAAU,YAICC,EAA8B,CACzC,0CAIWC,GAA2B,CACtC,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,8CAIWC,GAAiB,CAC5B,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,6CACA,8CAMWC,GAAqB,G,64VC3F3B,IAAMC,GAAkBC,IAAH,MAiBfC,GAAYD,IAAH,MAeTE,GAAa,SAAAC,GACxB,IAAIC,EAAc,iBAQlB,OAPAA,GAAeD,EAAWE,KAAI,SAAAC,GAC5B,MAAM,IAAN,OAAWA,EAAX,8FAA0GA,EAA1G,2BAAsIA,EACpI,IADF,iCAKFF,GAAe,IACRJ,IAAII,IAqBAG,GAAkB,SAACC,EAAcC,GAC5C,IAAIL,EAAc,iBAkBlB,OAjBAA,GAAeK,EAAOJ,KACpB,SAAAK,GAAK,yBACAA,EAAMJ,UADN,sBAC6BE,EAD7B,+BACgEE,EAAMC,OADtE,+CAMPP,GAAe,IACfA,GAAeK,EAAOJ,KACpB,SAAAK,GAAK,yBACAA,EAAMJ,UADN,6CACoDI,EAAMC,OAD1D,6CAOPP,GAAe,IACRJ,IAAII,IAGAQ,GAAoBZ,IAAH,MAcjBa,GAAoB,SAACC,EAAaL,GAC7C,IAAIL,EAAc,iBAWlB,OAVAA,GAAeK,EAAOJ,KACpB,SAAAK,GAAK,yBACAA,EAAMJ,UADN,sBAC6BQ,EAD7B,+BAC+DJ,EAAMC,OADrE,qEAQPP,GAAe,IACRJ,IAAII,IAGAW,GAAc,SAACD,EAAaL,GACvC,IAAIL,EAAc,iBA2BlB,OA1BAA,GAAeK,EAAOJ,KACpB,SAAAK,GAAK,yBACAA,EAAMJ,UADN,qBAC4BQ,EAD5B,+BAC8DJ,EAAMC,OADpE,4MAePP,GAAe,IACfA,GAAeK,EAAOJ,KACpB,SAAAK,GAAK,yBACAA,EAAMJ,UADN,6CACoDI,EAAMC,OAD1D,6CAOPP,GAAe,IACRJ,IAAII,IAGAY,GAAY,SAAAN,GACvB,IAAMN,EAAcM,EAAK,4DDlJF,ICkJE,8BAGiCA,EAHjC,iHDlJF,ICkJE,2DAgBzB,OAAOV,IAAII,IAcAa,GAA4BjB,IAAH,MAyCzBkB,IARiBlB,IAAH,MAQCA,IAAH,OA2BZmB,GAAiBnB,IAAH,MAyBdoB,GAAoBpB,IAAH,MAuEjBqB,GAAarB,IAAH,MA2BVsB,IAdgBtB,IAAH,MAcQ,SAACuB,EAAOC,GACxC,IAAIC,EAAW,IACfF,EAAMlB,KAAI,SAAAqB,GACR,OAAQD,GAAW,WAAQC,EAAR,QAGrB,IAAMtB,EAAW,2HADjBqB,GAAe,IACE,sBAEqGD,EAFrG,iMAcjB,OAAOxB,IAAII,KAGAuB,GAAe3B,IAAH,MAcZ4B,GAAc,SAAAlB,GACzB,IAAMN,EAAW,qEAEVM,EAAK,2BAAuBA,EAAvB,QAFK,kCDvZY,6CCuZZ,4MAcjB,OAAOV,IAAII,IAGAyB,GAAc7B,IAAH,MAuEX8B,GAAa9B,IAAH,MAWV+B,GAAe/B,IAAH,MAuBZgC,GAAchC,IAAH,MA4CXiC,GAAYjC,IAAH,MAkBhBkC,GAAU,ucAgCHC,GAAgBnC,IAAH,MAQboC,GAAY,SAACtB,EAAaJ,GACrC,IAAMN,EAAW,gBACb8B,GADa,4CAGLxB,EAAK,0BAAsBA,EAAtB,QAHA,0BAGqDI,EAHrD,iDAOjB,OAAOd,IAAII,IAGAiC,GAAarC,IAAH,KACnBkC,IAQSI,GAAwB,SAAC5B,EAAOa,GAC3C,IAAIE,EAAW,IACfF,EAAMlB,KAAI,SAAAqB,GACR,OAAQD,GAAW,WAAQC,EAAR,QAGrB,IAAItB,EAAW,kEADfqB,GAAe,IACA,8BAEuDf,EAFvD,0KAWf,OAAOV,IAAII,IAGAmC,GAAcvC,IAAH,MA2BlBwC,GAAW,yLAcJC,GAAiBzC,IAAH,KACvBwC,IAQSE,GAAiB,SAAAhC,GAC5B,IAAMN,EAAW,gBACboC,GADa,8DAGY9B,EAHZ,8GAQjB,OAAOV,IAAII,IAGAuC,GAAa,SAACnC,EAAcE,GACvC,IAAMN,EAAW,gBACboC,GADa,8CAGJ9B,EAAK,2BAAuBA,EAAvB,QAHD,wBAGqDF,EAHrD,wFAMoBA,EANpB,iIASoBA,EATpB,8FAcjB,OAAOR,IAAII,IAGAwC,GAAwB5C,IAAH,M,8ECvuBlC,SAAS6C,GAAU5D,GAAwB,IAAD,IAExC,OADiBA,EAAI6D,MAAM,KAAK,GAAGC,eAEjC,IAAK,QACH,MAAO,CAAC9D,GACV,IAAK,OACH,MAAO,CAAC,QAAUA,EAAI+D,OAAO,GAAI/D,GACnC,IAAK,OACH,IAAMgE,EAAI,UAAGhE,EAAIiE,MAAM,8BAAb,aAAG,EAAmC,GAChD,MAAO,CAAC,oCAAD,OAAqCD,EAArC,oCAAsEA,EAAtE,MACT,IAAK,OACH,IAAME,EAAI,UAAGlE,EAAIiE,MAAM,8BAAb,aAAG,EAAmC,GAChD,MAAO,CAAC,oCAAD,OAAqCC,EAArC,oCAAsEA,EAAtE,MACT,QACE,MAAO,IAIb,IAAMC,GAAqB,I,QAAIC,GAAI,CAAEC,WAAW,IAAQC,QAAQC,IAMjD,SAAeC,GAA9B,mC,8CAAe,WAA4BC,GAA5B,+BAAAlF,EAAA,sDACPmF,EAAOd,GAAUa,GACdE,EAAI,EAFA,YAEGA,EAAID,EAAKE,QAFZ,wBAGLC,EAAMH,EAAKC,GACXG,EAASH,IAAMD,EAAKE,OAAS,EAC/BG,OALO,oBAOQC,MAAMH,GAPd,OAOTE,EAPS,4DASTE,QAAQC,MAAM,uBAAwBT,EAAtC,OACIK,EAVK,uBAUS,IAAIrL,MAAJ,kCAAqCgL,IAV9C,kDAcNM,EAASI,GAdH,qBAeLL,EAfK,uBAeS,IAAIrL,MAAJ,kCAAqCgL,IAf9C,gEAmBQM,EAASK,OAnBjB,WAmBLA,EAnBK,OAoBNjB,GAAmBiB,GApBb,uBAqBHC,EArBG,oBAsBPlB,GAAmBmB,cAtBZ,aAsBP,EAA2BC,QAAe,SAACC,EAAMC,GAAW,IAAD,EACnDC,EAAG,UAAMD,EAAME,SAAZ,sBAAwBF,EAAMG,eAA9B,QAAyC,IAClD,OAAOJ,EAAKZ,OAAS,EAAd,UAAqBY,EAArB,aAA8BE,GAA9B,UAAyCA,KAC/C,WAzBI,QAyBG,gBACN,IAAIjM,MAAJ,wCAA2C4L,IA1BxC,iCA4BJD,GA5BI,QAEoBT,IAFpB,6BA8BP,IAAIlL,MAAM,mCA9BH,2D,sBCxBfoM,KAAMC,OAAOC,MAEb,IAcMC,GAAqBlN,0BAE3B,SAASmN,KACP,OAAOjN,qBAAWgN,IAGpB,SAAS/M,GAAQC,EAAjB,GAA4C,IAAlBC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QAC9B,OAAQD,GACN,IAtBW,SAsBG,IACJ+M,EAAa9M,EAAb8M,SACR,OAAO,eACFhN,EADL,eAfW,WAiBGgN,IAGhB,IA5BqB,mBA4BG,IACdC,EAAiB/M,EAAjB+M,aACR,OAAO,eACFjN,EADL,eAvBW,WAyBGiN,IAGhB,IAlCyB,uBAkCG,IAClB9E,EAAcjI,EAAdiI,UACR,OAAO,eACFnI,EADL,eA5BgB,gBA8BGmI,IAGrB,IAxCgB,cAwCG,IACT+E,EAAShN,EAATgN,KACR,OAAO,eACFlN,EADL,eAlCO,OAoCGkN,IAIZ,IA9CwB,sBA8CG,IACjB3E,EAAUrI,EAAVqI,MACR,OAAO,eACFvI,EADL,eAzCe,eA2CGuI,IAIpB,IAvD6B,2BAuDG,IACtB4E,EAAoBjN,EAApBiN,gBACR,OAAO,eACFnN,EADL,eAtDmB,mBAwDGmN,IAIxB,QACE,MAAM5M,MAAM,mDAAD,OAAoDN,EAApD,QAKjB,IAAMmN,GAAgB,CACpBC,SAAU,MACVC,SAAUlG,EAAiBG,UAGd,SAASvG,GAAT,GAAiC,IAAbC,EAAY,EAAZA,SAAY,EACnBC,qBAAWnB,GAASqN,IADD,mBACtCpN,EADsC,KAC/BoB,EAD+B,KAEvCmM,EAASjM,uBAAY,SAAA0L,GACzB5L,EAAS,CACPnB,KAlFS,SAmFTC,QAAS,CACP8M,gBAGH,IAGGQ,EAAkBlM,uBAAY,SAAA2L,GAClC7L,EAAS,CACPnB,KA3FmB,mBA4FnBC,QAAS,CACP+M,oBAGH,IAGGQ,EAAqBnM,uBAAY,SAAA6G,GACrC/G,EAAS,CACPnB,KApGuB,uBAqGvBC,QAAS,CACPiI,iBAGH,IAEGuF,EAAapM,uBAAY,SAAA4L,GAC7B9L,EAAS,CACPnB,KA5Gc,cA6GdC,QAAS,CACPgN,YAGH,IAEGS,EAAwBrM,uBAAY,SAAA6L,GACxC/L,EAAS,CACPnB,KApH2B,2BAqH3BC,QAAS,CACPiN,uBAGH,IAEGS,EAAoBtM,uBAAY,SAAAiH,GACpCnH,EAAS,CACPnB,KA5HsB,sBA6HtBC,QAAS,CACPqI,aAGH,IAEH,OACE,kBAACuE,GAAmB9L,SAApB,CACEZ,MAAOmB,mBACL,iBAAM,CACJvB,EACA,CAAEuN,SAAQE,qBAAoBD,kBAAiBE,aAAYC,wBAAuBC,wBAEpF,CAAC5N,EAAOuN,EAAQC,EAAiBE,EAAYD,EAAoBE,EAAuBC,KAGzF3M,GAKA,SAAS4M,KAAkB,IAAD,EACQd,KADR,mBACxB/M,EADwB,KACf4N,EADe,KACfA,kBAEVE,EAAW,OAAG9N,QAAH,IAAGA,OAAH,EAAGA,EAAK,aAqBzB,OAnBAyB,qBAAU,WAAM,4CACd,8BAAA4E,EAAA,+EAEsBa,EAAa6G,MAAM,CACnCA,MAAOnG,KAHb,OAEUoG,EAFV,QAKUzF,EAAQyF,EAAIC,KAAKC,gCAAgCC,OAAO,GAAGL,YAAYtF,SAE3EoF,EAAkBrF,GAPxB,gDAUIwD,QAAQqC,IAAR,MAVJ,0DADc,sBAcTN,GAdU,WAAD,wBAeZhC,KAED,CAACgC,EAAaF,IAEVE,EAeF,SAASO,KAAgB,IAAD,EACQtB,KADR,mBACtB/M,EADsB,KACbwN,EADa,KACbA,gBAEhB,MAAO,CADc,OAAGxN,QAAH,IAAGA,OAAH,EAAGA,EAAK,SACJwN,GAoEpB,SAASc,KAAmB,IAAD,EACWvB,KADX,mBACzB/M,EADyB,KAChB2N,EADgB,KAChBA,sBACVR,EAAe,OAAGnN,QAAH,IAAGA,OAAH,EAAGA,EAAK,iBAiB7B,OAfAyB,qBAAU,WAAM,4CACd,8BAAA4E,EAAA,sEAC2BmB,EAA4B6E,OAA5B,uCAAmC,WAAOkC,EAAe5C,GAAtB,iBAAAtF,EAAA,sEAChCkI,EADgC,cACpDC,EADoD,gBAElClD,GAAaK,GAFqB,cAEpD8C,EAFoD,yBAGnDC,QAAQC,QAAR,uBAAoBH,GAApB,aAAoCC,EAAUG,WAHK,2CAAnC,wDAItBF,QAAQC,QAAQ,KALrB,OACQE,EADR,OAMMC,EANN,OAMkBD,QANlB,IAMkBA,OANlB,EAMkBA,EAAY3G,KAAI,SAAA6G,GAAC,OAAIA,EAAExM,QAAQqI,iBAC/C+C,EAAsBmB,GAPxB,4CADc,sBAUT3B,GAVU,WAAD,wBAWZ6B,KAED,CAACrB,EAAuBR,IAEpBA,E,uFCpRO8B,KAASC,MAIlB,SAASC,GAAaC,GAC3B,IAEIC,EAFEC,EAAa3C,KAAME,MAGzB,OAAQuC,GACN,KAAKhI,EAAiBC,KACpBgI,EACEC,EACGC,SAAS,EAAG,QACZC,MAAM,OACNC,OAAS,EACd,MACF,KAAKrI,EAAiBE,MACpB+H,EACEC,EACGC,SAAS,EAAG,SACZC,MAAM,OACNC,OAAS,EACd,MACF,KAAKrI,EAAiBG,SACpB8H,EACEC,EACGC,SAAS,EAAG,QACZC,MAAM,OACNC,OAAS,EACd,MACF,QACEJ,EACEC,EACGC,SAAS,EAAG,QACZG,QAAQ,QACRD,OAAS,EAGlB,OAAOJ,EAGF,SAASM,GAAYnN,GAAsD,IAAvCC,EAAsC,uDAAtB,KAAMmN,EAAgB,wDAC/E,OAAKnN,EAQD,0BACCmN,EAAM,gBADP,WAEsB,+CAAlBpN,EAAiE,MAAQA,EAF7E,YAGoB,+CAAlBC,EAAiE,MAAQA,GAT3E,0BACCmN,EAAM,gBADP,WAEsB,+CAAlBpN,EAAiE,MAAQA,EAF7E,IAE8F,OAa7F,SAASqN,GAAYrN,GAAsC,IAAvBC,EAAsB,uDAAN,KACzD,OAAKA,EAGG,4CAAN,OACoB,+CAAlBD,EAAiE,MAAQA,EAD3E,2BAEqC,+CAAlBC,EAAiE,MAAQA,GAJtF,4CAAN,OAAmDD,GAQhD,SAASsN,GAAanH,GAC3B,MAAM,+CAAN,OAAsDA,GAGjD,SAASoH,GAAYC,GAC1B,OAAOC,KAAQD,GAAKE,OAAO,OAzE7BC,aAAUC,IAAI,CAAEC,eAAgB,KAChC1D,KAAMC,OAAOC,MA2EN,IAAMyD,GAAa,SAAAC,GAExB,OADQ5D,KAAME,IAAIF,KAAM8C,KAAKc,IAAOL,OAAO,WActC,SAASM,KACd,IAAMC,EAAiB9D,OAavB,MAAO,CAZI8D,EACRlB,SAAS,EAAG,OACZG,QAAQ,UACRD,OACQgB,EACRlB,SAAS,EAAG,OACZG,QAAQ,UACRD,OACWgB,EACXlB,SAAS,EAAG,QACZG,QAAQ,UACRD,QAIE,SAAeiB,GAAtB,yC,8CAAO,WAA0B3C,EAAO4C,EAAaC,EAAMC,GAApD,uCAAAxK,EAAA,sDAA0DyK,EAA1D,+BAAsE,IACvEC,EAAc,GACdC,GAAW,EACXC,EAAO,EAHN,UAKGD,EALH,wBAMCE,EAAML,EAAKnF,OACXuF,EAAOH,EAAYD,EAAKnF,SAC1BwF,EAAMD,EAAOH,GAEXK,EAASN,EAAKO,MAAMH,EAAMC,GAV3B,UAWgBP,EAAY5C,MAAM,CACnCA,MAAOA,EAAK,WAAL,eAAS6C,GAAT,QAAeO,KACtBE,YAAa,gBAbZ,QAWCC,EAXD,OAeHP,EAAW,eACNA,EADM,GAENO,EAAOrD,MAERsD,OAAOC,KAAKF,EAAOrD,MAAMvC,OAASoF,GAAaG,EAAOH,EAAYD,EAAKnF,OACzEsF,GAAW,EAEXC,GAAQH,EAtBP,gDA0BEC,GA1BF,6C,sBAkCA,SAAeU,GAAtB,mC,8CAAO,WAAqCtJ,GAArC,qBAAA9B,EAAA,sEACcc,EAAY4G,MAAM,CACnCA,MAAOjG,GACP4J,UAAW,CACTC,cAAexJ,EACfyJ,YAAazJ,EAAY,KAE3BkJ,YAAa,gBAPV,cACDC,EADC,gCASEA,QATF,IASEA,OATF,YASEA,EAAQrD,YATV,uBASE,EAAc3F,cAThB,uBASE,EAAuB,UATzB,aASE,EAA2BE,QAT7B,4C,sBAmBA,SAAeqJ,GAAtB,mC,8CAAO,WAAuC7J,GAAvC,iCAAA3B,EAAA,yDAAmDyK,EAAnD,+BAA+D,IACzC,KAAb,OAAV9I,QAAU,IAAVA,OAAA,EAAAA,EAAY0D,QADX,yCAEI,IAFJ,uBAKmBgF,GAAW3I,GAAYZ,EAAa,GAAIa,EAAY8I,GALvE,OAQL,GAHIC,EALC,OAODzI,EAAS,GACTyI,EACF,IAAShC,KAAKgC,EACRA,EAAYhC,GAAGrD,OAAS,GAC1BpD,EAAOwJ,KAAK,CACV3J,UAAW4G,EAAEpE,MAAM,KAAK,GACxBnC,OAAQuI,EAAYhC,GAAG,GAAf,SAbX,yBAkBEzG,GAlBF,4C,sBAiDA,SAAeyJ,GAAtB,qC,8CAAO,WAAqCpJ,EAAaX,GAAlD,qCAAA3B,EAAA,6DACA2B,IACGyI,EAAiB9D,OACjBqF,EAAmBvB,EAAelB,SAAS,EAAG,OAAOE,OAC3DzH,EAAaiK,GAAkBD,EAAkB,MAAO,IAJrD,SAQgBH,GAAwB7J,GARxC,cAQCM,EARD,gBAWc3B,EAAOoH,MAAM,CAC9BA,MAAOnF,GAAYD,EAAaL,GAChC+I,YAAa,gBAbV,OAiBL,IAASa,KANLZ,EAXC,OAgBDa,EAAS,GACb,OAAgBb,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAQrD,KAClB9F,EAAY+J,EAAIvH,MAAM,KAAK,GAC3ByH,EAAgBC,WAAU,UAACf,EAAOrD,KAAKiE,UAAb,aAAC,EAAkBI,YAAcD,WAAU,UAACf,EAAOrD,KAAKiE,UAAb,aAAC,EAAkBK,aACxFpK,GACFgK,EAAOL,KAAK,CACV3J,YACAiK,gBACAG,YAAajB,EAAOrD,KAAKiE,GAAKK,YAC9BC,SAAUlB,EAAOrD,KAAKiE,GAAKM,SAC3BC,SAAUnB,EAAOrD,KAAKiE,GAAKO,SAC3BH,WAAYhB,EAAOrD,KAAKiE,GAAKI,WAC7BI,iBAAkBpB,EAAOrD,KAAKiE,GAAKS,OAAOC,WAC1CC,iBAAkBvB,EAAOrD,KAAKiE,GAAKY,OAAOF,WAC1CG,OAAQZ,GAAUA,EAAO,GAAKC,EAAgBD,EAAO,GAAP,cAA6B,EAC3Ea,SAAU,EACVC,eAAgB,EAChBC,eAAgB,IAOtB,IAASC,KADLC,EAAQ,EACZ,OAAiB9B,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAQrD,KACPkF,EAAKxI,MAAM,KAAK,KAE9BwH,EAAOiB,GAAOJ,SAAW1B,EAAOrD,KAAKkF,GAAMH,SAC3Cb,EAAOiB,GAAOH,eAAiB3B,EAAOrD,KAAKkF,GAAMH,SAAWb,EAAOiB,GAAOV,iBAC1EP,EAAOiB,GAAOF,eAAiB5B,EAAOrD,KAAKkF,GAAMH,SAAWb,EAAOiB,GAAOP,iBAC1EO,GAAS,GA9CR,yBAkDEjB,GAlDF,6C,sBA4DA,SAASF,GAAkBoB,EAAgBC,EAAeC,GAE/D,IADA,IAAIvL,EAAa,GACRyD,EAAI,EAAGA,GAAK8H,EAAS9H,IAC5BzD,EAAW8J,KAAKuB,EAAiB5H,EAAI6H,GAEvC,OAAOtL,EAGF,IAAMwL,GAAiB,SAAAjD,GAAI,OAAI5D,KAAME,IAAIF,KAAM8C,KAAKc,IAAOL,OAAO,kBAE5DuD,GAAY,SAAArT,GACvB,IACE,OAAOsT,UAAOC,MAAMC,WAAWxT,EAAMwK,eACrC,SACA,OAAO,IAIEiJ,GAAM,SAAAC,GACjB,OAAO7D,KAAQ6D,GAAK5D,OAAO,YAOhB1E,GACM,SAAAuI,GAAE,uCAA8BA,EAA9B,MA+BjBC,GAAiB,IAAIC,KAAKC,aAAa,QAAS,CAClDC,MAAO,WACPnH,SAAU,MACVoH,sBAAuB,IASZC,GAAe,SAAC7L,GAAkD,IAA1C8L,EAAyC,gHAC5E,GAAIC,MAAM/L,IAAsB,KAAXA,QAA4BrH,IAAXqH,EACpC,OAAO8L,EAAM,KAAO,EAEtB,IAAIR,EAAMzB,WAAW7J,GAErB,GAAIsL,EAAM,IACR,OAAQQ,EAAM,IAAM,IAAMT,GAAIC,EAAIU,QAAQ,IAG5C,GAAY,IAARV,EACF,OAAIQ,EACK,KAEF,EAGT,GAAIR,EAAM,MAAUA,EAAM,EACxB,OAAOQ,EAAM,YAAc,WAG7B,GAAIR,EAAM,IACR,OAAOQ,EACH,IAAMG,OAAOpC,WAAWyB,GAAKU,QAAQ,IAAIE,iBACzC,GAAKD,OAAOpC,WAAWyB,GAAKU,QAAQ,IAAIE,iBAG9C,GAAIJ,EAAK,CACP,GAAIR,EAAM,GACR,MAAO,IAAMW,OAAOpC,WAAWyB,GAAKU,QAAQ,IAE5C,IAAIG,EAAYX,GAAe9D,OAAO4D,GACtC,MAAO,IAAMa,EAAUvD,MAAM,EAAGuD,EAAUjJ,QAI9C,OAAO+I,OAAOpC,WAAWyB,GAAKU,QAAQ,KAcjC,SAASI,GAAiBC,GAA8B,wDAE7D,KADAA,EAAUxC,WAAWwC,KACO,IAAZA,EACd,OAAO,kBAAC,IAAD,CAAM5O,WAAY,KAAlB,MAGT,GAAI4O,EAAU,MAAUA,EAAU,EAChC,OACE,kBAAC,IAAD,CAAM5O,WAAY,IAAKhD,MAAM,SAC1B,aAKP,GAAI4R,EAAU,GAAKA,GAAW,KAC5B,OACE,kBAAC,IAAD,CAAM5O,WAAY,IAAKhD,MAAM,OAC1B,aAKP,IAK0B,EALtB6R,EAAeD,EAAQL,QAAQ,GACnC,MAAqB,SAAjBM,EACK,KAELA,EAAe,EACbA,EAAe,IACV,kBAAC,IAAD,CAAM7O,WAAY,IAAKhD,MAAM,SAA7B,qBAA0C4R,SAA1C,aAA0C,EAASL,QAAQ,GAAGE,iBAA9D,MAEA,kBAAC,IAAD,CAAMzO,WAAY,IAAKhD,MAAM,SAA7B,WAA0C6R,EAA1C,MAGF,kBAAC,IAAD,CAAM7O,WAAY,IAAKhD,MAAM,OAA7B,UAAuC6R,EAAvC,MAUJ,IAAMC,GAAuB,SAACC,EAAUC,EAAiBC,GAE9D,IAAIC,EAAgB9C,WAAW2C,GAAY3C,WAAW4C,GAClDG,EAAiB/C,WAAW4C,GAAmB5C,WAAW6C,GAExDG,EAAyBhD,WAAW8C,EAAgBC,GAAkB/C,WAAW+C,GAAmB,IAE1G,OAAIb,MAAMc,KAA2BC,SAASD,GACrC,CAACF,EAAe,GAElB,CAACA,EAAeE,IAQZE,GAAmB,SAACP,EAAUC,GACzC,IAAMI,GACFhD,WAAW2C,GAAY3C,WAAW4C,IAAoB5C,WAAW4C,GAAoB,IACzF,OAAIV,MAAMc,KAA2BC,SAASD,GACrC,EAEFA,G,yBCnbF,SAASG,GAAWC,EAAQrT,GACjC,OAAOqT,EACHrT,EAAKiK,QACH,SAACqJ,EAAaC,GAAd,OAAgCD,GAAeA,EAAYC,GAAgBD,EAAYC,GAAgB,OACvGF,GAEF,KARN9I,KAAMC,OAAOC,MAWb,IAAM+I,GAAkBhW,0BAExB,SAASiW,KACP,OAAO/V,qBAAW8V,IAGpB,SAAS7V,GAAQC,EAAjB,GAA4C,IAAlBC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QAC9B,OAAQD,GACN,IAzBW,SAyBG,IACJ0I,EAAsBzI,EAAtByI,YAAasF,EAAS/N,EAAT+N,KACrB,OAAO,eACFjO,EADL,eAEG2I,EAFH,sBAGO3I,QAHP,IAGOA,OAHP,EAGOA,EAAQ2I,GAHf,GAIOsF,KAKT,IAjCqB,mBAiCG,IACd6H,EAAa5V,EAAb4V,SACJC,EAAQ,GAIZ,OAHAD,EAAS5N,KAAI,SAAAqB,GACX,OAAQwM,EAAMxM,EAAKyM,IAAMzM,KAEpB,eACFvJ,EADL,GAEK+V,GAIP,IA/CqB,mBA+CG,IACdxT,EAA0BrC,EAA1BqC,QAAS0T,EAAiB/V,EAAjB+V,aACjB,OAAO,eACFjW,EADL,eAEGuC,EAFH,eAGQiT,GAAWxV,EAAO,CAACuC,KAAa,GAHxC,CAII2T,KAAMD,MAIZ,IAxDsB,oBAwDG,IACf1T,EAAuBrC,EAAvBqC,QAAS4T,EAAcjW,EAAdiW,UACjB,OAAO,eACFnW,EADL,eAEGuC,EAFH,eAGQiT,GAAWxV,EAAO,CAACuC,KAAa,GAHxC,CAII4T,gBAKN,IAjEuB,qBAiEG,IAAD,EACf5T,EAAoCrC,EAApCqC,QAAS6T,EAA2BlW,EAA3BkW,WAAYhH,EAAelP,EAAfkP,WAC7B,OAAO,eACFpP,EADL,eAEGuC,EAFH,sBAGOvC,QAHP,IAGOA,OAHP,EAGOA,EAAQuC,GAHf,CAII6T,WAAW,eAAD,OACLpW,QADK,IACLA,OADK,YACLA,EAAQuC,UADH,aACL,EAAkB6T,WADb,eAEPhH,EAAagH,QAMtB,QACE,MAAM7V,MAAM,mDAAD,OAAoDN,EAApD,QAKF,SAASe,GAAT,GAAiC,IAAbC,EAAY,EAAZA,SAAY,EACnBC,qBAAWnB,GAAS,IADD,mBACtCC,EADsC,KAC/BoB,EAD+B,KAIvCmM,EAASjM,uBAAY,SAACqH,EAAasF,GACvC7M,EAAS,CACPnB,KA/FS,SAgGTC,QAAS,CACPyI,cACAsF,YAGH,IAEGoI,EAAiB/U,uBAAY,SAAAwU,GACjC1U,EAAS,CACPnB,KAtGmB,mBAuGnBC,QAAS,CACP4V,gBAGH,IAEGQ,EAAiBhV,uBAAY,SAACiB,EAAS0T,GAC3C7U,EAAS,CACPnB,KAjHmB,mBAkHnBC,QAAS,CAAEqC,UAAS0T,oBAErB,IAEGM,EAAkBjV,uBAAY,SAACiB,EAAS4T,GAC5C/U,EAAS,CACPnB,KAvHoB,oBAwHpBC,QAAS,CAAEqC,UAAS4T,iBAErB,IAEGK,EAAmBlV,uBAAY,SAACiB,EAAS6T,EAAYhH,GACzDhO,EAAS,CACPnB,KA5HqB,qBA6HrBC,QAAS,CAAEqC,UAAS6T,aAAYhH,kBAEjC,IAEH,OACE,kBAACwG,GAAgB5U,SAAjB,CACEZ,MAAOmB,mBAAQ,iBAAM,CAACvB,EAAO,CAAEuN,SAAQ+I,iBAAgBC,kBAAiBF,iBAAgBG,uBAAqB,CAC3GxW,EACAuN,EACA+I,EACAC,EACAF,EACAG,KAGDvV,G,SAKQwV,G,mFAAf,WAA+BC,EAAU1D,GAAzC,2DAAA3M,EAAA,+DAC0BmK,KAD1B,mBACSmG,EADT,KACaC,EADb,KACiBC,EADjB,cAEkEhF,GAAwB,CAAC8E,EAAIC,EAAIC,IAFnG,0CAEiBC,EAFjB,KAEStO,OAAwBuO,EAFjC,KAEyBvO,OAAwBwO,EAFjD,KAEyCxO,OAFzC,mBAKwB7B,EAAOoH,MAAM,CAC/BA,MAAO7D,GACPwH,UAAW,CACTuF,SAAUP,GAEZrF,YAAa,gBAVnB,eAKQ6F,EALR,iBAa4DxI,QAAQyI,IAC9D,CAACL,EAAIC,EAAIC,GAAO9O,IAAhB,uCAAoB,WAAMK,GAAN,eAAAlC,EAAA,6DACdiL,EAAS3K,EAAOoH,MAAM,CACxBA,MAAO5D,GAAsB5B,EAAOmO,GACpCrF,YAAa,gBAHG,kBAKXC,GALW,2CAApB,wDAdN,2CAaS8F,EAbT,KAauBC,EAbvB,KAaqCC,EAbrC,KAuBQC,EAvBR,OAuBqBH,QAvBrB,IAuBqBA,OAvBrB,YAuBqBA,EAAcnJ,YAvBnC,aAuBqB,EAAoB7E,MAAMiD,QAAO,SAACmL,EAAKC,EAAKhM,GAC3D,OAAO,eAAK+L,EAAZ,eAAkBC,EAAIzB,GAAKyB,MAC1B,IAECC,EA3BR,OA2BqBL,QA3BrB,IA2BqBA,OA3BrB,YA2BqBA,EAAcpJ,YA3BnC,aA2BqB,EAAoB7E,MAAMiD,QAAO,SAACmL,EAAKC,EAAKhM,GAC3D,OAAO,eAAK+L,EAAZ,eAAkBC,EAAIzB,GAAKyB,MAC1B,IAECE,EA/BR,OA+BsBL,QA/BtB,IA+BsBA,OA/BtB,YA+BsBA,EAAerJ,YA/BrC,aA+BsB,EAAqB7E,MAAMiD,QAAO,SAACmL,EAAKC,EAAKhM,GAC7D,OAAO,eAAK+L,EAAZ,eAAkBC,EAAIzB,GAAKyB,MAC1B,IAjCP,UAmCyB/I,QAAQyI,IAC3BD,GACEA,EAAQjJ,KAAK7E,MAAMlB,IAAnB,uCAAuB,WAAMqB,GAAN,2BAAAlD,EAAA,yDACjB4H,EAAO1E,EACPqO,EAFiB,OAEDL,QAFC,IAEDA,OAFC,EAEDA,EAAahO,EAAKyM,IAFjB,gCAICrP,EAAOoH,MAAM,CAC/BA,MAAO9D,GAAUV,EAAKyM,GAAIc,GAC1BzF,YAAa,gBANI,OAIfwG,EAJe,OAQnBD,EAAgBC,EAAQ5J,KAAK7E,MAAM,GARhB,UAUjB0O,EAViB,OAUDJ,QAVC,IAUDA,OAVC,EAUDA,EAAanO,EAAKyM,IAVjB,kCAYCrP,EAAOoH,MAAM,CAC/BA,MAAO9D,GAAUV,EAAKyM,GAAIe,GAC1B1F,YAAa,gBAdI,QAYfwG,EAZe,OAgBnBC,EAAgBD,EAAQ5J,KAAK7E,MAAM,GAhBhB,WAkBjB2O,EAlBiB,OAkBAJ,QAlBA,IAkBAA,OAlBA,EAkBAA,EAAcpO,EAAKyM,IAlBnB,kCAoBCrP,EAAOoH,MAAM,CAC/BA,MAAO9D,GAAUV,EAAKyM,GAAIgB,GAC1B3F,YAAa,gBAtBI,QAoBfwG,EApBe,OAwBnBE,EAAiBF,EAAQ5J,KAAK7E,MAAM,GAxBjB,eA0BrB6E,EAAO+J,GAAU/J,EAAM2J,EAAeE,EAAeC,EAAgB/E,EAAU8D,GA1B1D,kBA2Bd7I,GA3Bc,4CAAvB,wDArCR,eAmCQgK,EAnCR,yBAmEWA,GAnEX,kCAqEIlM,QAAQqC,IAAR,MArEJ,2D,sBAyEA,SAAS4J,GAAU/J,EAAMsJ,EAAYG,EAAYC,EAAa3E,EAAUkF,GAAc,IAAD,MAExCnD,GAAoB,OAC7D9G,QAD6D,IAC7DA,OAD6D,EAC7DA,EAAMkK,WACI,OAAVZ,QAAU,IAAVA,OAAA,EAAAA,EAAYY,WAAYZ,EAAWY,UAAY,GACrC,OAAVT,QAAU,IAAVA,OAAA,EAAAA,EAAYS,WAAYT,EAAWS,UAAY,GALkC,mBAE5EC,EAF4E,KAE3DC,EAF2D,OAO5BtD,GAAoB,OACzE9G,QADyE,IACzEA,OADyE,EACzEA,EAAMqK,oBACI,OAAVf,QAAU,IAAVA,OAAA,EAAAA,EAAYe,oBAAqBjG,WAAU,OAACkF,QAAD,IAACA,OAAD,EAACA,EAAYe,oBAAsB,GACpE,OAAVZ,QAAU,IAAVA,OAAA,EAAAA,EAAYY,oBAAZ,OAAiCZ,QAAjC,IAAiCA,OAAjC,EAAiCA,EAAYY,mBAAqB,GAVe,mBAO5EC,EAP4E,KAOrDC,EAPqD,KAY7EC,EAAmBpG,WAAWsF,GAAkB,OAAJ1J,QAAI,IAAJA,OAAA,EAAAA,EAAMkK,YAAN,OAAkBR,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAaQ,WAAYlK,EAAKkK,WA+BlG,OA5BAlK,EAAKmK,gBAAkB/F,WAAW+F,GAClCnK,EAAKwK,iBAAmBA,EACxBxK,EAAKoK,gBAAkBA,EACvBpK,EAAKsK,sBAAwBA,EAC7BtK,EAAKuK,sBAAwBA,EAG7BvK,EAAKyK,kBAAoBzK,EAAK0K,kBAAoB3F,EAClD/E,EAAK2K,mBAAqBrD,GAAiBtH,EAAKqE,WAAN,OAAkBiF,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAYjF,aAGnEiF,GAActJ,GAAQA,EAAK4K,qBAAuBX,IACrDjK,EAAKmK,gBAAkB/F,WAAWpE,EAAKkK,aAEpCZ,GAActJ,IACjBA,EAAKmK,gBAAkB/F,WAAWpE,EAAKkK,aAEpCR,GAAe1J,IAClBA,EAAKwK,iBAAmBpG,WAAWpE,EAAKkK,YAEjB,gDAAjB,OAAJlK,QAAI,IAAJA,OAAA,YAAAA,EAAM0E,cAAN,eAAcqD,MAChB/H,EAAK0E,OAAO3H,KAAO,gBACnBiD,EAAK0E,OAAO7P,OAAS,OAEE,gDAAjB,OAAJmL,QAAI,IAAJA,OAAA,YAAAA,EAAM6E,cAAN,eAAckD,MAChB/H,EAAK6E,OAAO9H,KAAO,gBACnBiD,EAAK6E,OAAOhQ,OAAS,OAEhBmL,EAGT,IAAM6K,GAAmB,uCAAG,WAAMnQ,GAAN,iBAAAtC,EAAA,6DACpB4P,EAAe,GADK,kBAILtP,EAAOoH,MAAM,CAC9BA,MAAOtD,GACPiH,UAAW,CACTuF,SAAU,CAACtO,IAEb0I,YAAa,aATS,OAIpBC,EAJoB,OAWxB2E,EAAa8C,MAAQzH,EAAOrD,KAAK8K,MACjC9C,EAAa+C,MAAQ1H,EAAOrD,KAAK+K,MACjC/C,EAAagD,MAAQ3H,EAAOrD,KAAKgL,MAbT,kDAexBlN,QAAQqC,IAAR,MAfwB,iCAkBnB6H,GAlBmB,0DAAH,sDAqBnBiD,GAAgB,uCAAG,WAAMvQ,GAAN,yCAAAtC,EAAA,sDACnB4H,EAAO,GACLqB,EAAa3C,KAAME,MACrBwC,EAAeC,EAAWC,SAAS,EAAG,QAAQG,QAAQ,UACtDyJ,EAAY9J,EAAaI,OAAS,EAJf,SAOjBuB,GAAW,EACXC,EAAO,EARU,UASbD,EATa,kCAUArK,EAAOoH,MAAM,CAC9BA,MAAO7E,GACPwI,UAAW,CACT/I,YAAaA,EACbsI,QAEFI,YAAa,gBAhBI,QAUfC,EAVe,OAkBnBL,GAAQ,IACRhD,EAAOA,EAAKmL,OAAO9H,EAAOrD,KAAKoL,cAC3B/H,EAAOrD,KAAKoL,aAAa3N,OAAS,MACpCsF,GAAW,GArBM,uBAoCrB,GAXIsI,EAAc,IAAIC,IAClBC,EAAgB,GACL,MACfvL,EAAKwL,SAAQ,SAACC,EAASjO,GAErB6N,EAAY9M,KAAKyB,EAAKxC,GAAG8E,KAHZ,OAG2BiE,QAAQ,IAChDgF,EAAc1H,KAAK7D,EAAKxC,IACxBiO,EAAQC,eAAiBtH,WAAWqH,EAAQC,gBAC5CD,EAAQpH,WAAaD,WAAWqH,EAAQpH,eAGtCrE,EAAK,GAKP,IAHI9F,EAAY8F,EAAK,GAAGsC,KAAOtC,EAAK,GAAGsC,KAAO4I,EAC1CS,EAAqB3L,EAAK,GAAGqE,WAC7Bc,EAAQ,EACLjL,EAAYmH,EAAWG,OAdjB,OAgBPoK,IADEC,EAAU3R,EAfL,cAgB8BqM,QAAQ,GAC5C8E,EAAYS,IAAIF,IAQnBD,EAAqBJ,EAAcpG,GAAOd,WAC1Cc,GAAgB,GARhBnF,EAAK6D,KAAK,CACRvB,KAAMuJ,EACNE,UAAWF,EACXH,eAAgB,EAChBrH,WAAYsH,IAMhBzR,EAAY2R,EAIhB7L,EAAOA,EAAKgM,MAAK,SAAC5T,EAAG6T,GAAJ,OAAWC,SAAS9T,EAAEkK,MAAQ4J,SAASD,EAAE3J,MAAQ,GAAK,KA3DlD,kDA6DrBxE,QAAQqC,IAAR,MA7DqB,iCAgEhBH,GAhEgB,0DAAH,sDAmEhBmM,GAAiB,uCAAG,WAAOzR,EAAawQ,EAAWrL,GAA/B,yCAAAzH,EAAA,sDAOtB,IAPsB,SAEhBiJ,EAAa3C,KAAME,MACrBwN,EAAOlB,EAGLnR,EAAa,GACZqS,GAAQ/K,EAAWG,OAAS,MACjCzH,EAAW8J,KAAKuI,GAChBA,GAAQ,KATY,GAaI,IAAtBrS,EAAW0D,OAbO,yCAcb,IAda,uBAoBPmG,GAAwB7J,EAAY,KApB7B,WAoBtBM,EApBsB,SAuBY,KAAb,QAAN,EAAAA,SAAA,eAAQoD,QAvBD,0CAwBb,IAxBa,eA2BlBoC,IACFxF,EAASA,EAAOgS,QAAO,SAAAJ,GACrB,OAAO7H,WAAW6H,EAAE1R,SAAW6J,WAAWvE,OA7BxB,UAiCD4C,GAAWhI,GAAmB/B,EAAQ,CAACgC,GAAcL,EAAQ,KAjC5D,QAqCtB,IAAS4J,KAJHZ,EAjCgB,OAoClBa,EAAS,GACGb,GACVnJ,EAAY+J,EAAIvH,MAAM,KAAK,KAE7BwH,EAAOL,KAAK,CACV3J,YACAoS,MAAOlI,WAAU,UAACf,EAAOY,UAAR,aAAC,EAAasI,aAC/BC,MAAOpI,WAAU,UAACf,EAAOY,UAAR,aAAC,EAAawI,eASrC,IAJIC,EAAwB,GACxBC,EAAwB,GAGnBnP,EAAI,EAAGA,EAAI0G,EAAOzG,OAAS,EAAGD,IACrCkP,EAAsB7I,KAAK,CACzB3J,UAAWgK,EAAO1G,GAAGtD,UACrB0S,KAAMxI,WAAWF,EAAO1G,GAAG8O,OAC3BO,MAAOzI,WAAWF,EAAO1G,EAAI,GAAG8O,SAElCK,EAAsB9I,KAAK,CACzB3J,UAAWgK,EAAO1G,GAAGtD,UACrB0S,KAAMxI,WAAWF,EAAO1G,GAAGgP,OAC3BK,MAAOzI,WAAWF,EAAO1G,EAAI,GAAGgP,SA7Dd,yBAiEf,CAACE,EAAuBC,IAjET,yCAmEtB7O,QAAQqC,IAAR,MAnEsB,kBAoEf,CAAC,GAAI,KApEU,0DAAH,0DAwEhB,SAAS5M,KAAW,IAAD,EACOqU,KAApBQ,EADa,oBACbA,eADa,EAEL0E,KAAZ/H,EAFiB,oBAwBxB,OArBAvR,qBAAU,WAAM,4CACd,kCAAA4E,EAAA,sEAIYM,EAAOoH,MAAM,CACrBA,MAAO/D,GACPqH,YAAa,gBANjB,uBAGYjI,EAHZ,EAGI6E,KAAQ7E,MAOJ4R,EAAiB5R,EAAMlB,KAAI,SAAAqB,GAC/B,OAAOA,EAAKyM,MAXhB,SAeuBS,GAAgBuE,EAAgBhI,GAfvD,QAeM8C,EAfN,SAgBcO,EAAeP,GAhB7B,4CADc,sBAmBd9C,GAnBe,WAAD,wBAmBFiI,KACX,CAACjI,EAAUqD,IACP,KA0FF,SAAS6E,GAAYvS,GAAc,IAAD,EACXkN,KADW,mBAChC7V,EADgC,KACvBuN,EADuB,KACvBA,OADuB,EAEpBwN,KAAZ/H,EAFgC,oBAGjCiF,EAAQ,OAAGjY,QAAH,IAAGA,OAAH,EAAGA,EAAQ2I,GAczB,OAZAlH,qBAAU,WAAM,4CACd,4BAAA4E,EAAA,yDACO4R,IAAYtP,EADnB,gCAEqB8N,GAAgB,CAAC9N,GAAcqK,GAFpD,QAEQ/E,EAFR,SAGYV,EAAO5E,EAAasF,EAAK,IAHrC,4CADc,uBAOTgK,GAAYtP,GAAeqK,GAAYS,GAAU9K,IAPvC,WAAD,wBAQZwS,KAED,CAACxS,EAAasP,EAAU1K,EAAQyF,IAE5BiF,GAAY,GAwCd,SAASmD,KAAkB,IAAD,EACfvF,KAChB,OAF+B,qBAEf,GCrlBlBlJ,KAAMC,OAAOC,MACbF,KAAMC,OAAOyO,MAEb,IAAMC,GAAoB1b,0BAE1B,SAAS2b,KACP,OAAOzb,qBAAWwb,IAGpB,SAASvb,GAAQC,EAAjB,GAA4C,IAAlBC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QAC9B,OAAQD,GACN,IArBW,SAqBG,IACJgO,EAAS/N,EAAT+N,KACR,OAAO,eACFjO,EADL,CAEEwb,WAAYvN,IAGhB,IA3BgB,cA2BG,IACTgI,EAAiB/V,EAAjB+V,aACR,OAAO,eACFjW,EADL,CAEEiW,iBAGJ,IAjCiB,eAiCG,IACVwF,EAAkBvb,EAAlBub,MAAOC,EAAWxb,EAAXwb,OACf,OAAO,eACF1b,EADL,CAEEmW,UAAW,CACTsF,QACAC,YAIN,IA1CqB,mBA0CG,IAAD,EACb1I,EAA0C9S,EAA1C8S,SAAU2I,EAAgCzb,EAAhCyb,YAAaC,EAAmB1b,EAAnB0b,eAC/B,OAAO,EAAP,iBA3CgB,gBA4CG5I,GADnB,4BAEE2I,GAFF,+BAGEC,GAHF,EAOF,IAjDgC,8BAiDG,IACzB3E,EAAa/W,EAAb+W,SACR,OAAO,eACFjX,EADL,CAEEiX,aAIJ,IAxDiC,+BAwDG,IAC1B4E,EAAc3b,EAAd2b,UACR,OAAO,eACF7b,EADL,CAEE6b,cAIJ,IA/DmB,iBA+DG,IACZC,EAAW5b,EAAX4b,OACR,OAAO,eACF9b,EADL,CAEE8b,WAGJ,QACE,MAAMvb,MAAM,mDAAD,OAAoDN,EAApD,QAKF,SAASe,GAAT,GAAiC,IAAbC,EAAY,EAAZA,SAAY,EACnBC,qBAAWnB,GAAS,IADD,mBACtCC,EADsC,KAC/BoB,EAD+B,KAEvCmM,EAASjM,uBAAY,SAAA2M,GACzB7M,EAAS,CACPnB,KAvFS,SAwFTC,QAAS,CACP+N,YAGH,IAEG8N,EAAqBza,uBAAY,SAAA2U,GACrC7U,EAAS,CACPnB,KA/Fc,cAgGdC,QAAS,CACP+V,oBAGH,IAEG+F,EAAc1a,uBAAY,SAACma,EAAOC,GACtCta,EAAS,CACPnB,KAvGe,eAwGfC,QAAS,CACPub,QACAC,cAGH,IAEGO,EAAiB3a,uBAAY,SAAC0R,EAAU2I,EAAaC,GACzDxa,EAAS,CACPnB,KAhHmB,mBAiHnBC,QAAS,CACP8S,WACA2I,cACAC,sBAGH,IAEGM,EAA0B5a,uBAAY,SAAA2V,GAC1C7V,EAAS,CACPnB,KAzH8B,8BA0H9BC,QAAS,CACP+W,gBAGH,IAEGkF,EAA2B7a,uBAAY,SAAAua,GAC3Cza,EAAS,CACPnB,KAjI+B,+BAkI/BC,QAAS,CACP2b,iBAGH,IAEGO,EAAe9a,uBAAY,SAAAwa,GAC/B1a,EAAS,CACPnB,KAzIiB,iBA0IjBC,QAAS,CACP4b,cAGH,IACH,OACE,kBAACR,GAAkBta,SAAnB,CACEZ,MAAOmB,mBACL,iBAAM,CACJvB,EACA,CACEuN,SACAwO,qBACAC,cACAC,iBACAG,eACAF,0BACAC,+BAGJ,CACEnc,EACAuN,EACAwO,EACAK,EACAJ,EACAC,EACAC,EACAC,KAIHlb,G,SAYQob,G,mFAAf,WAA6BrJ,EAAUsJ,GAAvC,iFAAAjW,EAAA,6DAEM4H,EAAO,GACPsJ,EAAa,GACbG,EAAa,GAJnB,SAQUjH,EAAiB9D,OACjB4P,EAAgB9L,EAAelB,SAAS,EAAG,OAAOE,OAClD+M,EAAiB/L,EAAelB,SAAS,EAAG,OAAOE,OACnDgN,EAAiBhM,EAAelB,SAAS,EAAG,QAAQE,OACpDiN,EAAkBjM,EAAelB,SAAS,EAAG,QAAQE,OAZ/D,UAeuEoC,GAAwB,CACzF0K,EACAC,EACAC,EACAC,IAnBN,2CAeSxE,EAfT,KAesByE,EAftB,KAemCC,EAfnC,KAeiDC,EAfjD,eAuBuBlW,EAAOoH,MAAM,CAC9BA,MAAOtE,KACP4H,YAAa,gBAzBnB,eAuBQC,EAvBR,OA2BIrD,EAAOqD,EAAOrD,KAAK6O,iBAAiB,GA3BxC,UA8B6BnW,EAAOoH,MAAM,CACpCA,MAAOtE,GAAW,OAACyO,QAAD,IAACA,OAAD,EAACA,EAAa1P,QAChC6I,YAAa,gBAhCnB,eA8BQ+F,EA9BR,OAkCIG,EAAaH,EAAanJ,KAAK6O,iBAAiB,GAlCpD,UAoC6BnW,EAAOoH,MAAM,CACpCA,MAAOtE,GAAW,OAACkT,QAAD,IAACA,OAAD,EAACA,EAAanU,QAChC6I,YAAa,gBAtCnB,eAoCQgG,EApCR,OAwCIK,EAAaL,EAAapJ,KAAK6O,iBAAiB,GAxCpD,UA0C8BnW,EAAOoH,MAAM,CACrCA,MAAOtE,GAAW,OAACmT,QAAD,IAACA,OAAD,EAACA,EAAcpU,QACjC6I,YAAa,gBA5CnB,eA0CQiG,EA1CR,OA8CUK,EAAcL,EAAcrJ,KAAK6O,iBAAiB,GA9C5D,UAgD8BnW,EAAOoH,MAAM,CACrCA,MAAOtE,GAAW,OAACoT,QAAD,IAACA,OAAD,EAACA,EAAcrU,QACjC6I,YAAa,gBAlDnB,QAgDQ0L,EAhDR,OAoDUC,EAAcD,EAAc9O,KAAK6O,iBAAiB,GAEpD7O,GAAQsJ,GAAcG,IAAa,EACI3C,GACvC9G,EAAKgP,eACL1F,EAAW0F,eAAiB1F,EAAW0F,eAAiB,EACxDvF,EAAWuF,eAAiBvF,EAAWuF,eAAiB,GAJtB,mBAC/B7E,EAD+B,KACdC,EADc,OAOJtD,GAC9B9G,EAAKiP,QACL3F,EAAW2F,QAAU3F,EAAW2F,QAAU,EAC1CxF,EAAWwF,QAAUxF,EAAWwF,QAAU,GAVR,mBAO7BC,EAP6B,KAOjBC,EAPiB,KAcpCnP,EAAKoP,kBAAoBpP,EAAKqP,kBAAoBtK,EAC5C4F,EAAqBrD,GACzBtH,EAAKqP,kBAAoBtK,EACzBuE,EAAW+F,kBAAoBhB,GAIjCrO,EAAKmK,gBAAkBA,EACvBnK,EAAKoK,gBAAkBA,EACvBpK,EAAK2K,mBAAqBA,EAC1B3K,EAAKkP,WAAaA,EAClBlP,EAAKmP,UAAYA,EAGbJ,IAAc,EAC4BjI,GAC1C9G,EAAKgP,eACLtF,EAAYsF,eACZD,EAAYC,gBAJC,mBACRM,EADQ,KACOC,EADP,KAOfvP,EAAKsP,cAAgBA,EACrBtP,EAAKuP,mBAAqBA,IA1FlC,kDA8FIzR,QAAQqC,IAAR,MA9FJ,iCAiGSH,GAjGT,2D,sBAyGA,IAAMwP,GAAY,uCAAG,WAAMC,GAAN,6CAAArX,EAAA,sDACf4H,EAAO,GACP0P,EAAa,GACXrO,EAAa3C,KAAME,MACrBoE,EAAO,EACPD,GAAW,EALI,mBAQTA,EARS,iCASIrK,EAAOoH,MAAM,CAC9BA,MAAOvE,GACPkI,UAAW,CACTyH,UAAWuE,EACXzM,QAEFI,YAAa,gBAfA,OASXC,EATW,OAiBfL,GAAQ,IACRhD,EAAOA,EAAKmL,OAAO9H,EAAOrD,KAAK2P,iBAC3BtM,EAAOrD,KAAK2P,gBAAgBlS,OAAS,MACvCsF,GAAW,GApBE,uBAwBjB,GAAI/C,EAkBF,IAjBIqL,EAAc,IAAIC,IAClBC,EAAgB,GACL,MAGfvL,EAAKwL,SAAQ,SAACC,EAASjO,GAErB6N,EAAY9M,KAAKyB,EAAKxC,GAAG8E,KALZ,OAK2BiE,QAAQ,IAChDgF,EAAc1H,KAAK7D,EAAKxC,IACxBiO,EAAQC,eAAiBtH,WAAWqH,EAAQC,mBAI1CxR,EAAY8F,EAAK,GAAGsC,KAAOtC,EAAK,GAAGsC,KAAOmN,EAC1C9D,EAAqB3L,EAAK,GAAGoP,kBAC7BQ,EAAgB5P,EAAK,GAAG6P,iBACxB1K,EAAQ,EACLjL,EAAYmH,EAAWG,OAff,OAiBToK,IADEC,EAAU3R,EAhBH,cAiB4BqM,QAAQ,GAC5C8E,EAAYS,IAAIF,IAQnBD,EAAqBJ,EAAcpG,GAAOiK,kBAC1CQ,EAAgBrE,EAAcpG,GAAO0K,iBACrC1K,GAAgB,GAThBnF,EAAK6D,KAAK,CACRvB,KAAMuJ,EACNH,eAAgB,EAChB0D,kBAAmBzD,EACnBkE,iBAAkBD,IAOtB1V,EAAY2R,EAKhB7L,EAAOA,EAAKgM,MAAK,SAAC5T,EAAG6T,GAAJ,OAAWC,SAAS9T,EAAEkK,MAAQ4J,SAASD,EAAE3J,MAAQ,GAAK,KACnEwN,GAAoB,EACpBC,GAAe,EACnB/P,EAAKwL,SAAQ,SAACwE,EAAOxS,GAAO,IAAD,EACnByS,EAAOvR,KAAME,IAAIF,KAAM8C,KAAKxB,EAAKxC,GAAG8E,OAAO2N,OAC7CA,IAASF,IACXA,EAAcE,EACdH,KAEFJ,EAAWI,GAAoBJ,EAAWI,IAAqB,GAC/DJ,EAAWI,GAAkBxN,KAAOtC,EAAKxC,GAAG8E,KAC5CoN,EAAWI,GAAkBI,iBAC3B,UAACR,EAAWI,GAAkBI,uBAA9B,QAAiD,GAAKlQ,EAAKxC,GAAGkO,kBA1EjD,kDA6EjB5N,QAAQqC,IAAR,MA7EiB,iCA+EZ,CAACH,EAAM0P,IA/EK,0DAAH,sDAqFZS,GAAqB,uCAAG,gCAAA/X,EAAA,6DACxB4P,EAAe,GADS,kBAIPtP,EAAOoH,MAAM,CAC9BA,MAAOrE,GACP2H,YAAa,gBANW,OAItBC,EAJsB,OAQ1B2E,EAAa8C,MAAQ,GACrB9C,EAAa+C,MAAQ,GACrB/C,EAAagD,MAAQ,IACf,OAAN3H,QAAM,IAANA,OAAA,YAAAA,EAAQrD,YAAR,eAAcgI,eACZ3E,EAAOrD,KAAKgI,aAAa/N,KAAI,SAAAmW,GAgB3B,OAfIA,EAAYtF,MAAMrN,OAAS,GAC7B2S,EAAYtF,MAAM7Q,KAAI,SAAAoW,GACpB,OAAOrI,EAAa8C,MAAMjH,KAAKwM,MAG/BD,EAAYrF,MAAMtN,OAAS,GAC7B2S,EAAYrF,MAAM9Q,KAAI,SAAAqW,GACpB,OAAOtI,EAAa+C,MAAMlH,KAAKyM,MAG/BF,EAAYpF,MAAMvN,OAAS,GAC7B2S,EAAYpF,MAAM/Q,KAAI,SAAAsW,GACpB,OAAOvI,EAAagD,MAAMnH,KAAK0M,OAG5B,KA5Be,kDA+B1BzS,QAAQqC,IAAR,MA/B0B,iCAkCrB6H,GAlCqB,0DAAH,qDAwCrBwI,GAAW,uCAAG,sDAAApY,EAAA,6DACZoK,EAAiB9D,OACjB4P,EAAgB9L,EACnBlB,SAAS,EAAG,OACZG,QAAQ,UACRD,OAECuD,EAAW,EACX0L,EAAiB,EACjBC,EAAiB,EATH,kBAYQlN,GAAsB8K,GAZ9B,cAYZrE,EAZY,iBAaGvR,EAAOoH,MAAM,CAC9BA,MAAOlF,KACPwI,YAAa,gBAfC,eAaZC,EAbY,iBAiBS3K,EAAOoH,MAAM,CACpCA,MAAOlF,GAAUqP,GACjB7G,YAAa,gBAnBC,QAiBZuN,EAjBY,OAqBVC,EArBU,OAqBKvN,QArBL,IAqBKA,OArBL,YAqBKA,EAAQrD,YArBb,uBAqBK,EAAc6Q,QAAQ,UArB3B,aAqBK,EAA0B9L,SACzC+L,EAtBU,OAsBQH,QAtBR,IAsBQA,OAtBR,YAsBQA,EAAc3Q,YAtBtB,uBAsBQ,EAAoB6Q,QAAQ,UAtBpC,aAsBQ,EAAgC9L,SACxD2L,EAAiBpJ,GAAiBsJ,EAAcE,GAChD/L,EAAW6L,EACXH,EAAiBK,EAzBD,kDA2BhBhT,QAAQqC,IAAR,MA3BgB,iCA8BX,CAAC4E,EAAU0L,EAAgBC,IA9BhB,0DAAH,qD,SAuCFK,K,8EAAf,sCAAA3Y,EAAA,+DAEQ2K,GAAW,EACX5H,EAAQ,GACR0H,EAAY,EAJpB,UAKYE,EALZ,iCAMyBrK,EAAOoH,MAAM,CAC9BA,MAAOjE,GACP4H,UAAW,CACTT,KAAMH,GAERO,YAAa,gBAXrB,OAMUC,EANV,OAaMR,GAnBiB,IAoBjB1H,EAAQA,EAAMgQ,OAAN,OAAa9H,QAAb,IAAaA,OAAb,YAAaA,EAAQrD,YAArB,aAAa,EAAc7E,SACzB,OAANkI,QAAM,IAANA,OAAA,YAAAA,EAAQrD,YAAR,eAAc7E,MAAMsC,QArBP,KAqBkCtC,EAAMsC,OArBxC,OAsBfsF,GAAW,GAhBnB,gDAmBW5H,GAnBX,kCAqBI2C,QAAQqC,IAAR,MArBJ,2D,+BA4Be6Q,K,8EAAf,wCAAA5Y,EAAA,+DAEQ2K,GAAW,EACXF,EAAY,EACZlC,EAAS,GAJjB,UAKYoC,EALZ,iCAMyBrK,EAAOoH,MAAM,CAC9BA,MAAOpE,GACP+H,UAAW,CACTT,KAAMH,GAERO,YAAa,gBAXrB,OAMUC,EANV,OAaM1C,EAASA,EAAOwK,OAAP,OAAc9H,QAAd,IAAcA,OAAd,YAAcA,EAAQrD,YAAtB,aAAc,EAAcW,UAC3B,OAAN0C,QAAM,IAANA,OAAA,YAAAA,EAAQrD,YAAR,yBAAcW,cAAd,eAAsBlD,QA/CR,KA+CoCkD,EAAOlD,OA/C3C,OAgDhBsF,GAAW,GAEbF,EAAYA,GAlDM,IAiCxB,gDAmBWlC,GAnBX,kCAqBI7C,QAAQqC,IAAR,MArBJ,2D,sBA4BO,SAAS8Q,KAAiB,IAAD,EACiD3D,KADjD,mBACvBvb,EADuB,YACduN,EADc,EACdA,OAAQ2O,EADM,EACNA,wBAAyBC,EADnB,EACmBA,yBADnB,EAEEpB,KAFF,mBAEvB/H,EAFuB,KAEbsJ,EAFa,KAIxBrO,EAAI,OAAGjO,QAAH,IAAGA,OAAH,EAAGA,EAAOwb,WAkBpB,OAhBA/Z,qBAAU,WAAM,4CACd,gCAAA4E,EAAA,sEACyBgW,GAAcrJ,EAAUsJ,GADjD,cACMd,EADN,SAEgBjO,EAAOiO,GAFvB,SAIuBwD,KAJvB,cAIM/H,EAJN,OAKEiF,EAAwBjF,GAL1B,UAOwBgI,KAPxB,QAOMpD,EAPN,OAQEM,EAAyBN,GAR3B,6CADc,uBAWT5N,GAAQ+E,GAAYsJ,GAXV,WAAD,wBAYZnB,KAED,CAACnI,EAAUsJ,EAAa/O,EAAQU,EAAMiO,EAAyBC,IAE3DlO,GAAQ,GAGV,SAASkR,KAAsB,IAAD,MACF5D,KADE,mBAC5Bvb,EAD4B,KACnBgc,EADmB,KACnBA,YADmB,EAEaoD,qBAFb,mBAE5BC,EAF4B,KAEXC,EAFW,OAGZjR,KAAhBkR,EAH4B,oBAK7BC,EAAc,OAAGxf,QAAH,IAAGA,OAAH,YAAGA,EAAOmW,iBAAV,aAAG,EAAkBsF,MACnCgE,EAAe,OAAGzf,QAAH,IAAGA,OAAH,YAAGA,EAAOmW,iBAAV,aAAG,EAAkBuF,OA8B1C,OAvBAja,qBAAU,WAER,IAAI0X,EAAYhK,GAAaoQ,IAExBA,GAAgBpG,EAAYkG,IAAqBA,IACpDC,EAAqBnG,KAEtB,CAACoG,EAAcF,IAKlB5d,qBAAU,WAAM,4CACd,kCAAA4E,EAAA,sEAE4CoX,GAAa4B,GAFzD,mCAEOK,EAFP,KAEqBC,EAFrB,KAGE3D,EAAY0D,EAAcC,GAH5B,4CADc,uBAMVN,GAAqBG,GAAkBC,GAN5B,WAAD,wBAOZtE,KAED,CAACqE,EAAgBC,EAAiBJ,EAAiBrD,IAE/C,CAACwD,EAAgBC,GAkBnB,SAAS1E,KAAe,IAAD,EACQQ,KADR,mBACrBvb,EADqB,KACZic,EADY,KACZA,eACVjJ,EAAQ,OAAGhT,QAAH,IAAGA,OAAH,EAAGA,EAAK,cAChB4f,EAAW,OAAG5f,QAAH,IAAGA,OAAH,EAAGA,EAAK,YAWzB,OAVAyB,qBAAU,WAAM,4CACd,oCAAA4E,EAAA,yDACO2M,EADP,gCAEqDyL,KAFrD,mCAESoB,EAFT,KAEmBlE,EAFnB,KAEgCmE,EAFhC,KAGI7D,EAAe4D,EAAUlE,EAAamE,GAH1C,4CADc,uBAAC,WAAD,wBAOdC,KACC,CAAC/M,EAAUiJ,IAEP,CAACjJ,EAAU4M,GCjlBpBjT,KAAMC,OAAOC,MAEb,IAAMmT,GAAmBpgB,0BAEzB,SAASqgB,KACP,OAAOngB,qBAAWkgB,IAGpB,SAASjgB,GAAQC,EAAjB,GAA4C,IAAlBC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QAC9B,OAAQD,GACN,IAnBW,SAmBG,IACJoI,EAAuBnI,EAAvBmI,aAAc4F,EAAS/N,EAAT+N,KACtB,OAAO,eACFjO,EADL,eAEGqI,EAFH,sBAGOrI,QAHP,IAGOA,OAHP,EAGOA,EAAQqI,GAHf,GAIO4F,KAIT,IAzBsB,qBAyBG,IACfiS,EAAchgB,EAAdggB,UACJnK,EAAQ,GAKZ,OAJAmK,GACEA,EAAUhY,KAAI,SAAAiY,GACZ,OAAQpK,EAAMoK,EAAMnK,IAAMmK,KAEvB,eACFngB,EADL,GAEK+V,GAIP,IAzCsB,oBAyCG,IACfxT,EAA0BrC,EAA1BqC,QAAS0T,EAAiB/V,EAAjB+V,aACjB,OAAO,eACFjW,EADL,eAEGuC,EAFH,sBAGOvC,QAHP,IAGOA,OAHP,EAGOA,EAAQuC,GAHf,CAII2T,KAAMD,MAIZ,IAlDsB,oBAkDG,IACf1T,EAAuBrC,EAAvBqC,QAAS4T,EAAcjW,EAAdiW,UACjB,OAAO,eACFnW,EADL,eAEGuC,EAFH,sBAGOvC,QAHP,IAGOA,OAHP,EAGOA,EAAQuC,GAHf,CAII4T,gBAKN,IA5DsB,oBA4DG,IAAD,EACd5T,EAAwCrC,EAAxCqC,QAAS0L,EAA+B/N,EAA/B+N,KAAMmB,EAAyBlP,EAAzBkP,WAAYgR,EAAalgB,EAAbkgB,SACnC,OAAO,eACFpgB,EADL,eAEGuC,EAFH,sBAGOvC,QAHP,IAGOA,OAHP,EAGOA,EAAQuC,GAHf,eAIK6M,EAJL,sBAKSpP,QALT,IAKSA,OALT,YAKSA,EAAQuC,UALjB,aAKS,EAAmB6M,GAL5B,eAMOgR,EAAWnS,QAMpB,IAxEqB,mBAwEG,IACd1L,EAAsBrC,EAAtBqC,QAAS0U,EAAa/W,EAAb+W,SACjB,OAAO,eACFjX,EADL,eAEGuC,EAFH,sBAGOvC,QAHP,IAGOA,OAHP,EAGOA,EAAQuC,GAHf,eAxEkB,kBA4EK0U,MAIzB,QACE,MAAM1W,MAAM,mDAAD,OAAoDN,EAApD,QAKF,SAASe,GAAT,GAAiC,IAAbC,EAAY,EAAZA,SAAY,EACnBC,qBAAWnB,GAAS,IADD,mBACtCC,EADsC,KAC/BoB,EAD+B,KAEvCmM,EAASjM,uBAAY,SAAC+G,EAAc4F,GACxC7M,EAAS,CACPnB,KAjGS,SAkGTC,QAAS,CACPmI,eACA4F,YAGH,IAEGoS,EAAkB/e,uBAAY,SAAA4e,GAClC9e,EAAS,CACPnB,KAvGoB,qBAwGpBC,QAAS,CACPggB,iBAGH,IAEGI,EAAkBhf,uBAAY,SAACiB,EAAS0T,GAC5C7U,EAAS,CACPnB,KAnHoB,oBAoHpBC,QAAS,CAAEqC,UAAS0T,oBAErB,IAEGM,EAAkBjV,uBAAY,SAACiB,EAAS4T,GAC5C/U,EAAS,CACPnB,KAzHoB,oBA0HpBC,QAAS,CAAEqC,UAAS4T,iBAErB,IAEGoK,EAAiBjf,uBAAY,SAACiB,EAAS0U,GAC3C7V,EAAS,CACPnB,KA7HmB,mBA8HnBC,QAAS,CAAEqC,UAAS0U,gBAErB,IAEGuJ,EAAkBlf,uBAAY,SAACiB,EAAS0L,EAAMmB,EAAYgR,GAC9Dhf,EAAS,CACPnB,KAtIoB,oBAuIpBC,QAAS,CAAEqC,UAAS0L,OAAMmB,aAAYgR,gBAEvC,IAEH,OACE,kBAACJ,GAAiBhf,SAAlB,CACEZ,MAAOmB,mBACL,iBAAM,CACJvB,EACA,CACEuN,SACA+S,kBACA/J,kBACA8J,kBACAE,iBACAC,sBAGJ,CAACxgB,EAAOuN,EAAQ+S,EAAiB/J,EAAiB8J,EAAiBE,EAAgBC,KAGpFvf,GAKP,IAAMwf,GAAY,uCAAG,WAAOzN,EAAU4M,GAAjB,yCAAAvZ,EAAA,6DACboK,EAAiB9D,OACjB4P,EAAgB9L,EAAelB,SAAS,EAAG,OAAOE,OAClD+M,EAAiB/L,EAAelB,SAAS,EAAG,OAAOE,OAHtC,SAIKgC,GAAsB8K,GAJ3B,cAIfrE,EAJe,gBAKKzG,GAAsB+K,GAL3B,cAKfG,EALe,0BAQGhW,EAAOoH,MAAM,CAC/BA,MAAOzD,GACP+G,YAAa,gBAVE,eAQb6F,EARa,iBAaQvQ,EAAOoH,MAAM,CACpCA,MAAOxD,GAAe2N,GACtB7G,YAAa,gBAfE,eAab+F,EAba,iBAkBQzQ,EAAOoH,MAAM,CACpCA,MAAOxD,GAAeoS,GACtBtL,YAAa,gBApBE,eAkBbgG,EAlBa,OAuBbE,EAvBa,OAuBAH,QAvBA,IAuBAA,OAvBA,YAuBAA,EAAcnJ,YAvBd,aAuBA,EAAoBW,OAAOvC,QAAO,SAACmL,EAAKC,EAAKhM,GAC5D,OAAO,eAAK+L,EAAZ,eAAkBC,EAAIzB,GAAKyB,MAC1B,IAECC,EA3Ba,OA2BAL,QA3BA,IA2BAA,OA3BA,YA2BAA,EAAcpJ,YA3Bd,aA2BA,EAAoBW,OAAOvC,QAAO,SAACmL,EAAKC,EAAKhM,GAC5D,OAAO,eAAK+L,EAAZ,eAAkBC,EAAIzB,GAAKyB,MAC1B,IA7Bc,UA+BO/I,QAAQyI,IAC9BD,GACEK,GACAG,IAFF,OAGER,QAHF,IAGEA,OAHF,YAGEA,EAASjJ,YAHX,aAGE,EAAeW,OAAO1G,IAAtB,uCAA0B,WAAMiY,GAAN,qEAAA9Z,EAAA,yDACpB4H,EAAOkS,EAGPvI,EAJoB,OAIJL,QAJI,IAIJA,OAJI,EAIJA,EAAa4I,EAAMnK,IACnC8B,EALoB,OAKJJ,QALI,IAKJA,OALI,EAKJA,EAAayI,EAAMnK,IAGlC4B,EARmB,gCASGjR,EAAOoH,MAAM,CACpCA,MAAOvD,GAAW2V,EAAMnK,GAAIkC,GAC5B7G,YAAa,gBAXO,OASlB+F,EATkB,OAatBQ,EAAgBR,EAAanJ,KAAKW,OAAO,GAbnB,UAenBkJ,EAfmB,kCAgBGnR,EAAOoH,MAAM,CACpCA,MAAOvD,GAAW2V,EAAMnK,GAAI2G,GAC5BtL,YAAa,gBAlBO,QAgBlBgG,EAhBkB,OAoBtBS,EAAgBT,EAAapJ,KAAKW,OAAO,GApBnB,iBAwBmBmG,GACzC9G,EAAKyS,eADwD,oBAE7D9I,SAF6D,aAE7D,EAAe8I,sBAF8C,QAE5B,EAF4B,oBAG7D5I,SAH6D,aAG7D,EAAe4I,sBAH8C,QAG5B,GA3BX,mBAwBjBtI,EAxBiB,KAwBAC,EAxBA,OA6BQtD,GAC9B9G,EAAKiP,QAD6C,oBAElDtF,SAFkD,aAElD,EAAesF,eAFmC,QAExB,EAFwB,oBAGlDpF,SAHkD,aAGlD,EAAeoF,eAHmC,QAGxB,GAhCJ,mBA6BjBC,EA7BiB,KA6BLC,EA7BK,KAmClBuD,GAA0B,OAAJ1S,QAAI,IAAJA,OAAA,EAAAA,EAAM2S,gBAAiB5N,GAAvB,OAAkC/E,QAAlC,IAAkCA,OAAlC,EAAkCA,EAAM2E,YAC9DiO,GAA+B,QAAb,EAAAjJ,SAAA,eAAegJ,gBAAiBhB,GAAhC,UAA8ChI,SAA9C,aAA8C,EAAehF,YAG/EkO,EAAiBvL,IACjB,OAAJtH,QAAI,IAAJA,OAAA,EAAAA,EAAM2E,YAAaI,GACN,QAAb,EAAA4E,SAAA,eAAehF,aAA0B,QAAb,EAAAgF,SAAA,eAAehF,YAAagN,EAAc,GAIxE3R,EAAK8S,UAAe,OAAJ9S,QAAI,IAAJA,OAAA,EAAAA,EAAM2E,YAAaI,EACnC/E,EAAKoP,kBAAoBsD,EACzB1S,EAAKmK,gBAAkB/F,WAAW+F,GAClCnK,EAAKoK,gBAAkBA,EACvBpK,EAAK6S,eAAiBA,EACtB7S,EAAK2K,mBAAqBrD,GAAgB,OAACoL,QAAD,IAACA,IAAuB,EAAxB,OAA2BE,QAA3B,IAA2BA,IAAmB,GACxF5S,EAAKkP,WAAaA,EAClBlP,EAAKmP,UAAYA,GAGZxF,GAAiB3J,IACpBA,EAAKmK,gBAAkBnK,EAAKyS,eAC5BzS,EAAK+S,gBAAkB/S,EAAKgT,YAAchT,EAAK2E,WAC/C3E,EAAKkP,WAAalP,EAAKiP,SAGT,+CAAZjP,EAAK+H,KACP/H,EAAKjD,KAAO,gBACZiD,EAAKnL,OAAS,OA/DQ,kBAiEjBmL,GAjEiB,4CAA1B,yDAnCa,eA+BbiT,EA/Ba,yBAwGVA,GAxGU,kCA4GjBnV,QAAQqC,IAAR,MA5GiB,0DAAH,wDAgHZ+S,GAAY,uCAAG,WAAO5e,EAASyQ,EAAU4M,GAA1B,uHAAAvZ,EAAA,6DACboK,EAAiB9D,OACjB4P,EAAgB9L,EACnBlB,SAAS,EAAG,OACZG,QAAQ,UACRD,OACG+M,EAAiB/L,EACpBlB,SAAS,EAAG,OACZG,QAAQ,UACRD,OATgB,SAUKgC,GAAsB8K,GAV3B,cAUfrE,EAVe,gBAWKzG,GAAsB+K,GAX3B,cAWfG,EAXe,OAcf1O,EAAO,GACPsJ,EAAa,GACbG,EAAa,GAhBE,oBAoBE/Q,EAAOoH,MAAM,CAC9BA,MAAOvD,GAAWjI,GAClB8O,YAAa,gBAtBE,eAoBbC,EApBa,OAwBjBrD,EAAI,OAAGqD,QAAH,IAAGA,OAAH,YAAGA,EAAQrD,YAAX,uBAAG,EAAcW,cAAjB,aAAG,EAAuB,GAxBb,UA2BQjI,EAAOoH,MAAM,CACpCA,MAAOvD,GAAWjI,EAAS2V,GAC3B7G,YAAa,gBA7BE,eA2Bb+F,EA3Ba,OA+BjBG,EAAaH,EAAanJ,KAAKW,OAAO,GA/BrB,UAkCQjI,EAAOoH,MAAM,CACpCA,MAAOvD,GAAWjI,EAASoa,GAC3BtL,YAAa,gBApCE,WAkCbgG,EAlCa,OAsCjBK,EAAaL,EAAapJ,KAAKW,OAAO,GAGjC2I,EAzCY,kCA0CU5Q,EAAOoH,MAAM,CACpCA,MAAOvD,GAAWjI,EAAS2V,GAC3B7G,YAAa,gBA5CA,QA0CX+F,EA1CW,OA8CfG,EAAaH,EAAanJ,KAAKW,OAAO,GA9CvB,WAgDZ8I,EAhDY,kCAiDU/Q,EAAOoH,MAAM,CACpCA,MAAOvD,GAAWjI,EAASoa,GAC3BtL,YAAa,gBAnDA,QAiDXgG,EAjDW,OAqDfK,EAAaL,EAAapJ,KAAKW,OAAO,GArDvB,UAyD0BmG,GACzC9G,EAAKyS,eADwD,oBAE7DnJ,SAF6D,aAE7D,EAAYmJ,sBAFiD,QAE/B,EAF+B,oBAG7DhJ,SAH6D,aAG7D,EAAYgJ,sBAHiD,QAG/B,GA5Df,mBAyDVtI,EAzDU,KAyDOC,EAzDP,OAgEwBtD,GACvC9G,EAAKqK,mBADsD,oBAE3Df,SAF2D,aAE3D,EAAYe,0BAF+C,QAEzB,EAFyB,oBAG3DZ,SAH2D,aAG3D,EAAYY,0BAH+C,QAGzB,GAnEnB,mBAgEV8I,EAhEU,KAgEMC,EAhEN,OAuEetM,GAC9B9G,EAAKiP,QAD6C,oBAElD3F,SAFkD,aAElD,EAAY2F,eAFsC,QAE3B,EAF2B,oBAGlDxF,SAHkD,aAGlD,EAAYwF,eAHsC,QAG3B,GA1ER,mBAuEVC,EAvEU,KAuEEC,EAvEF,KA6EX0D,GAAiBvL,IACjB,QAAJ,EAAAtH,SAAA,eAAM2E,YAAaI,EACnBX,WAAU,oBAACkF,SAAD,aAAC,EAAY3E,kBAAb,QAA2B,GAAKgN,GAGtCe,IAA0B,QAAJ,EAAA1S,SAAA,eAAM2S,gBAAiB5N,GAAvB,UAAkC/E,SAAlC,aAAkC,EAAM2E,YAC9DiO,IAA4B,QAAV,EAAAtJ,SAAA,eAAYqJ,gBAAiBhB,GAA7B,UAA2CrI,SAA3C,aAA2C,EAAY3E,YAG/E3E,EAAK8S,UAAe,QAAJ,EAAA9S,SAAA,eAAM2E,YAAaI,EACnC/E,EAAKoP,kBAAoBsD,GACzB1S,EAAKmK,gBAAkBA,EACvBnK,EAAKoK,gBAAkBA,EACvBpK,EAAK6S,eAAiBA,GACtB7S,EAAKmT,eAAiBA,EACtBnT,EAAKoT,eAAiBA,EAChBzI,GAAqBrD,GAAgB,OAACoL,SAAD,IAACA,MAAuB,EAAxB,OAA2BE,SAA3B,IAA2BA,MAAmB,GACzF5S,EAAK2K,mBAAqBA,GAC1B3K,EAAKkP,WAAaA,EAClBlP,EAAKmP,UAAYA,GAGZ7F,GAActJ,IACjBA,EAAKmK,gBAAkBnK,EAAKyS,eAC5BzS,EAAK+S,gBAAkB/S,EAAKgT,YAAchT,EAAK2E,WAC/C3E,EAAKkP,WAAalP,EAAKiP,SAIT,+CAAZjP,EAAK+H,KACP/H,EAAKjD,KAAO,gBACZiD,EAAKnL,OAAS,OA5GC,mDA+GjBiJ,QAAQqC,IAAR,MA/GiB,iCAiHZH,GAjHY,2DAAH,0DAoHZqT,GAAoB,uCAAG,WAAMC,GAAN,iBAAAlb,EAAA,6DACrB4P,EAAe,GADM,kBAGNtP,EAAOoH,MAAM,CAC9BA,MAAOtD,GACPiH,UAAW,CACTuF,SAAUsK,GAEZlQ,YAAa,gBARU,OAGrBC,EAHqB,OAUzB2E,EAAa8C,MAAQzH,EAAOrD,KAAK8K,MACjC9C,EAAa+C,MAAQ1H,EAAOrD,KAAK+K,MACjC/C,EAAagD,MAAQ3H,EAAOrD,KAAKgL,MAZR,kDAczBlN,QAAQqC,IAAR,MAdyB,iCAgBpB6H,GAhBoB,0DAAH,sDAmBpBuL,GAAa,uCAAG,WAAMnZ,GAAN,mBAAAhC,EAAA,+EAGCM,EAAOoH,MAAM,CAC9BA,MAAOvD,GAAWnC,GAClBgJ,YAAa,gBALG,cAGdC,EAHc,mCAOXA,EAAOrD,YAPI,aAOX,SAAwBmL,OAAxB,UAA+B9H,EAAOrD,YAAtC,aAA+B,WAPpB,gCASlBlC,QAAQqC,IAAR,MATkB,yDAAH,sDAabqT,GAAoB,uCAAG,WAAOpZ,EAAc8Q,GAArB,yDAAA9S,EAAA,sDAO3B,IAP2D+Z,EAAhC,+BAA2C,KAAMtS,EAAjD,uBACrBwB,EAAa3C,KAAME,MACrBwN,EAAOlB,EAILnR,EAAa,GACZqS,EAAO/K,EAAWG,QACvBzH,EAAW8J,KAAKuI,GAChBA,GAAQ+F,EATiB,GAaD,IAAtBpY,EAAW0D,OAbY,yCAclB,IAdkB,iCAoBVmG,GAAwB7J,EAAY,KApB1B,YAoBzBM,EApByB,SAuBQ,IAAlBA,EAAOoD,OAvBG,0CAwBhB,IAxBgB,eA2BrBoC,IACFxF,EAASA,EAAOgS,QAAO,SAAAJ,GACrB,OAAO7H,WAAW6H,EAAE1R,SAAW6J,WAAWvE,OA7BrB,UAiCN4C,GAAWtI,GAAiBzB,EAAQ,CAAC0B,GAAeC,EAAQ,IAjCtD,QAqCzB,IAAS4J,KAJLZ,EAjCqB,OAoCrBa,EAAS,GACGb,EACVnJ,EAAY+J,EAAIvH,MAAM,KAAK,GAC3BiI,EAAaP,WAAU,UAACf,EAAOY,UAAR,aAAC,EAAaU,YACrCzK,GACFgK,EAAOL,KAAK,CACV3J,YACAyK,eAON,IAASO,KADLC,EAAQ,EACK9B,EACC6B,EAAKxI,MAAM,KAAK,KAE9BwH,EAAOiB,GAAO2N,SAAWzP,EAAO6B,GAAMH,SAAWb,EAAOiB,GAAOR,WAC/DQ,GAAS,GAOb,IAHIsO,EAAmB,GAGdjW,EAAI,EAAGA,EAAI0G,EAAOzG,OAAS,EAAGD,IACrCiW,EAAiB5P,KAAK,CACpB3J,UAAWgK,EAAO1G,GAAGtD,UACrB0S,KAAMxI,WAAWF,EAAO1G,GAAGsV,UAC3BjG,MAAOzI,WAAWF,EAAO1G,EAAI,GAAGsV,YAjEX,yBAqElBW,GArEkB,yCAuEzB3V,QAAQqC,IAAR,MACArC,QAAQqC,IAAI,yBAxEa,kBAyElB,IAzEkB,0DAAH,wDA6EpBuT,GAAiB,uCAAG,WAAMtZ,GAAN,6CAAAhC,EAAA,sDACpB4H,EAAO,GACLqB,EAAa3C,KAAME,MACrBwC,EAAeC,EAAWC,SAAS,EAAG,QACtC4J,EAAY9J,EAAaK,QAAQ,UAAUD,OAAS,EAJhC,SAOlBuB,GAAW,EACXC,EAAO,EARW,UASdD,EATc,kCAUDrK,EAAOoH,MAAM,CAC9BA,MAAO3D,GACPsH,UAAW,CACTkQ,UAAWvZ,EACX4I,QAEFI,YAAa,gBAhBK,SAUhBC,EAVgB,QAkBTrD,KAAK4T,cAAcnW,OAAS,MACrCsF,GAAW,GAEbC,GAAQ,IACRhD,EAAOA,EAAKmL,OAAO9H,EAAOrD,KAAK4T,eAtBX,uBAyCtB,IAhBIvI,EAAc,IAAIC,IAClBC,EAAgB,GACL,MACfvL,EAAKwL,SAAQ,SAACC,EAASjO,GAErB6N,EAAY9M,KAAKyB,EAAKxC,GAAG8E,KAHZ,OAG2BiE,QAAQ,IAChDgF,EAAc1H,KAAK7D,EAAKxC,IACxBiO,EAAQC,eAAiBtH,WAAWqH,EAAQC,mBAI1CxR,EAAY8F,EAAK,IAAMA,EAAK,GAAGsC,KAAOtC,EAAK,GAAGsC,KAAO4I,EACrDS,EAAqB3L,EAAK,IAAMA,EAAK,GAAGoP,kBACxCyE,EAAiB7T,EAAK,IAAMA,EAAK,GAAG8S,SACpCgB,EAAkB9T,EAAK,IAAMA,EAAK,GAAG+T,gBACrC5O,EAAQ,EACLjL,EAAYmH,EAAWI,QAAQ,UAAUD,OAdjC,OAgBToK,IADEC,EAAU3R,EAfH,cAgB4BqM,QAAQ,GAC5C8E,EAAYS,IAAIF,IAUnBD,EAAqBJ,EAAcpG,GAAOiK,kBAC1CyE,EAAiBtI,EAAcpG,GAAO2N,SACtCgB,EAAkBvI,EAAcpG,GAAO4O,gBACvC5O,GAAgB,GAZhBnF,EAAK6D,KAAK,CACRvB,KAAMuJ,EACNE,UAAWF,EACXH,eAAgB,EAChBoH,SAAUe,EACVzE,kBAAmBzD,EACnBoI,gBAAiBD,IAQrB5Z,EAAY2R,EAEd7L,EAAOA,EAAKgM,MAAK,SAAC5T,EAAG6T,GAAJ,OAAWC,SAAS9T,EAAEkK,MAAQ4J,SAASD,EAAE3J,MAAQ,GAAK,KA7DjD,kDA+DtBxE,QAAQqC,IAAR,MA/DsB,iCAiEjBH,GAjEiB,0DAAH,sDAoEhB,SAASzM,KAAW,IAAD,EACQye,KAArBI,EADa,oBACbA,gBADa,EAEQtF,KAFR,mBAEjB/H,EAFiB,KAEP4M,EAFO,KAWxB,OARAne,qBAAU,WAAM,4CACd,4BAAA4E,EAAA,sEAEwBoa,GAAazN,EAAU4M,GAF/C,QAEMM,EAFN,SAGeG,EAAgBH,GAH/B,4CADc,sBAMdlN,GAAY4M,GANG,WAAD,wBAMa3E,KAC1B,CAACjI,EAAU4M,EAAaS,IACpB,KAGF,SAAS4B,GAAa5Z,GAAe,IAAD,EACb4X,KADa,mBAClCjgB,EADkC,KACzBuN,EADyB,KACzBA,OADyB,EAETwN,KAFS,mBAElC/H,EAFkC,KAExB4M,EAFwB,KAGnCsC,EAAS,OAAGliB,QAAH,IAAGA,OAAH,EAAGA,EAAQqI,GAU1B,OARA5G,qBAAU,YACHygB,GAAalP,GAAY4M,GAAenM,GAAUpL,IACrD8Y,GAAa9Y,EAAc2K,EAAU4M,GAAauC,MAAK,SAAAlU,GACrDV,EAAOlF,EAAc4F,QAGxB,CAAC+E,EAAU4M,EAAavX,EAAc6Z,EAAW3U,IAE7C2U,GAAa,GAkEf,SAASE,GAAkB/Z,EAAc+G,GAA8B,IAAD,IAAjBgR,EAAiB,uDAAN,KAAM,EACtCH,KADsC,mBACpEjgB,EADoE,KAC3DwgB,EAD2D,KAC3DA,gBACVrK,EAAS,OAAGnW,QAAH,IAAGA,OAAH,YAAGA,EAAQqI,UAAX,uBAAG,EAAwB+G,UAA3B,aAAG,EAAsCgR,GAClDtS,EAAcD,KAsBpB,OApBApM,qBAAU,WACR,IAAM4gB,EAAc1V,KAAME,MACpByV,EAAalT,IAAehI,EAAiBE,MAAQ,QAAU,OAC/D6R,EACJ/J,IAAehI,EAAiBG,SAC5B,SACA8a,EACG9S,SAAS,EAAG+S,GACZ5S,QAAQ,QACRD,OATK,4CAWd,4BAAApJ,EAAA,sEACmBob,GAAqBpZ,EAAc8Q,EAAWiH,EAAUtS,GAD3E,OACMG,EADN,OAEEuS,EAAgBnY,EAAc4F,EAAMmB,EAAYgR,GAFlD,4CAXc,sBAeTjK,GAfS,mCAgBZrK,KAED,CAACqK,EAAWiK,EAAUhR,EAAY/G,EAAcmY,EAAiB1S,IAE7DqI,EAGF,SAASoM,KAAmB,IAAD,EAChBtC,KAChB,OAFgC,oBCzsB3B,IAAMuC,GAAiB,CAC5B,6CACA,8CAyBF,SAASC,GAA+BC,GACqB,IAAD,QAAtDA,EAASva,UAHyB,aAIhCqa,GAAeG,SAAf,OAAwBD,QAAxB,IAAwBA,OAAxB,YAAwBA,EAAUnZ,YAAlC,aAAwB,EAAgBoJ,OAAOqD,MACjD0M,EAASzP,eAAiB,GAExBuP,GAAeG,SAAf,OAAwBD,QAAxB,IAAwBA,OAAxB,YAAwBA,EAAUnZ,YAAlC,aAAwB,EAAgBuJ,OAAOkD,MACjD0M,EAASxP,eAAiB,GAGK,gDAA7B,UAAAwP,EAASnZ,YAAT,eAAeoJ,OAAOqD,MACxB0M,EAASzP,eAAiB,IAEK,gDAA7B,UAAAyP,EAASnZ,YAAT,eAAeuJ,OAAOkD,MACxB0M,EAASxP,eAAiB,KAG9B,OAAOwP,E,SAGME,G,mFAAf,WAA0CC,EAAcla,GAAxD,qCAAAtC,EAAA,6DACMiO,EAAM,EACNwO,EAAU,EACVC,EAAU,EAHhB,SAKwBpc,EAAOoH,MAAM,CACjCA,MAAOjF,GACP4I,UAAW,CACTmR,OACAtZ,KAAMZ,KATZ,OAYE,IAAWyK,KAPL4P,EALR,QAY8B/U,KAAK8K,MACzBuF,EAAO0E,EAAQ/U,KAAK8K,MAAM3F,GAC1B6P,EAAa3E,EAAK/U,KAAKoJ,OAAOqD,GAC9BkN,EAAa5E,EAAK/U,KAAKuJ,OAAOkD,GAGhCwM,GAAeG,SAASM,IAAe3E,EAAKnW,UAvCZ,WAwClCmM,GAAkC,EAA3BjC,WAAWiM,EAAKwE,SACdN,GAAeG,SAASO,IAAe5E,EAAKnW,UAzCnB,WA0ClCmM,GAAkC,EAA3BjC,WAAWiM,EAAKyE,SAEvBzO,GAAOjC,WAAWiM,EAAK6E,WAEzBL,GAAWA,EAAUzQ,WAAWiM,EAAKwE,SACrCC,GAAWA,EAAU1Q,WAAWiM,EAAKyE,SAGvC,IAAW3P,KAAS4P,EAAQ/U,KAAK+K,MACzBuF,EAAOyE,EAAQ/U,KAAK+K,MAAM5F,GAC1BgQ,EAAa7E,EAAKhV,KAAKoJ,OAAOqD,GAC9BqN,EAAa9E,EAAKhV,KAAKuJ,OAAOkD,GAGhCwM,GAAeG,SAASS,IAAe7E,EAAKpW,UAxDZ,WAyDlCmM,GAAkC,EAA3BjC,WAAWkM,EAAKuE,SACdN,GAAeG,SAASU,IAAe9E,EAAKpW,UA1DnB,WA2DlCmM,GAAkC,EAA3BjC,WAAWkM,EAAKwE,SAEvBzO,GAAOjC,WAAW2Q,EAAQ/U,KAAK+K,MAAM5F,GAAO+P,WAG9CL,GAAWzQ,WAAW2Q,EAAQ/U,KAAK+K,MAAM5F,GAAO0P,SAChDC,GAAW1Q,WAAW2Q,EAAQ/U,KAAK+K,MAAM5F,GAAO2P,SA5CpD,yBA+CS,CAAEzO,MAAKwO,UAASC,YA/CzB,4C,sBAuDO,SAASO,GAA4BC,EAAsBC,GAChED,EAAad,GAA+Bc,GAC5CC,EAAaf,GAA+Be,GAG5C,IAAMC,EAAcF,EAAWG,sBAAwBH,EAAWI,0BAC5DC,EAAcL,EAAWG,sBAAwBF,EAAWG,0BAG5DE,EAAmBJ,EAAcF,EAAW/Q,SAC5CsR,EAAmBL,EAAcF,EAAW9Q,SAG5CsR,EAAmBH,EAAcJ,EAAWhR,SAC5CwR,EAAmBJ,EAAcJ,EAAW/Q,SAG5CwR,EAAUriB,KAAKsiB,KAAKL,EAAmBC,GAEvCK,EAA4C,GAA7BX,EAAWvQ,eAAsBuQ,EAAWtQ,eAAiBsQ,EAAWvQ,eAAiB,EAExGmR,EAAwBZ,EAAWtQ,gBAAkBiR,EAAeF,EAAUriB,KAAKsiB,KAAKC,GAAgB,EACxGE,EACJ5P,OAAO+O,EAAWtQ,iBAAmBiR,EAAeF,EAAUriB,KAAKsiB,KAAKC,GAAgB,EACpFG,EACJF,EAAwBZ,EAAWvQ,eAAiBoR,EAAwBb,EAAWtQ,eAGnFqR,EAAyBP,EAAmBK,EAC5CG,GAFyBT,EAAmBK,GAGvBZ,EAAWvQ,eAAiBsR,EAAyBf,EAAWtQ,eAGrFuR,EAAeZ,EAAmBN,EAAWtQ,eAAiB6Q,EAAmBP,EAAWrQ,eAC5FwR,EAAeb,EAAmBL,EAAWvQ,eAAiB6Q,EAAmBN,EAAWtQ,eAE5FyR,EAAeL,EAAcI,EAC7BE,EAAiBJ,EAAsBG,EAGvCE,EAAapB,EAAcF,EAAWjR,WAG5C,MAAO,CACLwS,YAAaJ,EAAeD,EAC5BM,UAJiBnB,EAAcJ,EAAWlR,WAIlBuS,EACxBG,cAAeJ,EACfK,QAASN,EACTO,KAAMV,GAWH,SAAeW,GAAtB,yC,8CAAO,WAAwCC,EAAoBC,EAAiBC,EAAeC,GAA5F,mCAAAlf,EAAA,yDAEAgf,EAAgBG,mBAFhB,yCAGI,IAHJ,OAeL,IAVIC,EAAmB7jB,KAAK8jB,MAAMN,EAAqB,OACjDvL,EAA0BjY,KAAK8jB,MAAM/Y,KAAME,MAAM4C,OAAS,QAC5DkW,EAAkBL,EAAcrL,MAAK,SAAC5T,EAAG6T,GAC3C,OAAOC,SAAS9T,EAAE8B,WAAagS,SAASD,EAAE/R,WAAa,GAAK,MAE1C,GAAGA,UAAYid,IACjCK,EAAW7jB,KAAK8jB,MAAMC,EAAgB,GAAGxd,UAAY,QAGjDyd,EAAgB,GACfH,EAAW5L,GAED,MAAX4L,GAAoBtL,SAASkL,EAAgBG,qBAC/CI,EAAc9T,KAAgB,MAAX2T,GAErBA,GAAsB,EApBnB,iBAuBqB1T,GAAsBsT,EAAgBrP,GAAI4P,GAvB/D,QAmCL,IAAWxS,KAZLyS,EAvBD,OAwBCC,EAAuB,GAClB,OAAXD,QAAW,IAAXA,KAAa3d,KAAI,SAAA6d,GACfD,EAAqBC,EAAM5d,WAAa4d,KAItCxC,EAAa+B,EAAc,GACzB5D,EAAmB,GACrBsE,EAAU,EAhCT,WAmCM5S,GAST,IAPA,IAAM6S,EAAeL,EAAcxS,GAC7B8S,EAAmBD,EAAe,MAGlCE,EAAeb,EAAchL,QAAO,SAAA8L,GACxC,OAAOA,EAASje,UAAY+d,GAAoBE,EAASje,UAAY8d,KAE9Dxa,EAAI,EAAGA,EAAI0a,EAAaza,OAAQD,IAAK,CAC5C,IAAM+X,EAAa2C,EAAa1a,GAC1B4a,EAAe/C,GAA4BC,EAAYC,GAC7DwC,GAAoBK,EAAanB,KACjC3B,EAAaC,EAIf,IAAIA,EAAasC,EAAqBG,EAAe,OAcrD,GAbKzC,IACHA,EAAa,CACXja,KAAM8b,EAAgBrP,GACtB0N,sBAAuBH,EAAWG,sBAClCnR,YAAa8S,EAAgB9S,YAC7BC,SAAU6S,EAAgB7S,SAC1BC,SAAU4S,EAAgB5S,SAC1BH,WAAY+S,EAAgB/S,WAC5BW,eAAgBoS,EAAgB1S,OAAOC,WAAa2S,EACpDrS,eAAgBmS,EAAgBvS,OAAOF,WAAa2S,IAIpD/B,EAAY,CACdA,EAAWG,0BAA4BH,EAAWjR,YAClDiR,EAAWE,sBAAwBH,EAAWG,sBAC9C,IAAM4C,EACHjU,WAAWmR,EAAWE,uBAAyBrR,WAAWmR,EAAWG,2BACtEtR,WAAWmR,EAAWlR,YAClB+T,EAAe/C,GAA4BC,EAAYC,GACvD+C,EAAYP,EAAUK,EAAanB,KAEzCxD,EAAiB5P,KAAK,CACpBvB,KAAM0V,EACNO,SAAUF,EACVpB,KAAMqB,MA3CQX,EAAgB,EAAzBxS,GAnCN,yBAmFEsO,GAnFF,6C,sBA4FA,SAAe+E,GAAtB,yC,8CAAO,WAAkC5D,EAActZ,EAAMyJ,EAAkB0T,GAAxE,iCAAArgB,EAAA,sEAEmBuc,GAA2BC,EAAMtZ,EAAKyM,IAFzD,OAwBL,IAAW5C,KAtBLuT,EAFD,OAGY,EACb5B,EAAY,EACZC,EAAgB,EAChBE,EAAO,EAEXwB,EAAYA,EAAUpM,QAAO,SAAA2D,GAC3B,OAAOA,EAAM1U,KAAKyM,KAAOzM,EAAKyM,MAI1B4Q,EAA4B,CAChCrd,OACAma,sBAAqB,UAAEgD,EAAUA,EAAUhb,OAAS,UAA/B,aAAE,EAAiCgY,sBACxDC,0BAA2Bpa,EAAKgJ,YAChCC,SAAUjJ,EAAKiJ,SACfC,SAAUlJ,EAAKkJ,SACfH,WAAY/I,EAAK+I,WACjBW,eAAgB1J,EAAKoJ,OAAOC,WAAaI,EACzCE,eAAgB3J,EAAKuJ,OAAOF,WAAaI,GAGvB0T,EAEdnD,EAAamD,EAAUtT,GACvBoQ,EAAarJ,SAAS/G,KAAWsT,EAAUhb,OAAS,EAAIkb,EAAkBF,EAAUvM,SAAS/G,GAAS,GAEtG4P,EAAUM,GAA4BC,EAAYC,GAC5BR,EAAQ8B,YAClCC,GAAwB/B,EAAQ+B,UAChCC,GAAgChC,EAAQgC,cACxCE,GAAclC,EAAQkC,KAjCnB,yBAoCE,CACLyB,YACAE,IAAK,CACHC,OAAQ/B,GAEVgC,QAAS,CACPD,OAAQ9B,GAEVE,KAAM,CACJ8B,IAAK9B,KA7CJ,6C,sBCtPPvY,KAAMC,OAAOC,MAEb,IAUMoa,GAAcrnB,0BAEpB,SAASsnB,KACP,OAAOpnB,qBAAWmnB,IAGpB,SAASlnB,GAAQC,EAAjB,GAA4C,IAAlBC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QAC9B,OAAQD,GACN,IAlBwB,sBAkBG,IACjBknB,EAA0BjnB,EAA1BinB,QAASlR,EAAiB/V,EAAjB+V,aACjB,OAAO,eACFjW,EADL,eAEGmnB,EAFH,sBAGOnnB,QAHP,IAGOA,OAHP,EAGOA,EAAQmnB,GAHf,eAfmB,mBAmBKlR,MAI1B,IA3BqB,oBA2BG,IACdkR,EAAuBjnB,EAAvBinB,QAASC,EAAclnB,EAAdknB,UACjB,OAAO,eACFpnB,EADL,eAEGmnB,EAFH,sBAEkBnnB,QAFlB,IAEkBA,OAFlB,EAEkBA,EAAQmnB,GAF1B,eAxBgB,gBA0BqCC,MAIvD,IAlCiC,+BAkCG,IAC1BD,EAAyBjnB,EAAzBinB,QAASE,EAAgBnnB,EAAhBmnB,YACjB,OAAO,eACFrnB,EADL,eAEGmnB,EAFH,sBAEkBnnB,QAFlB,IAEkBA,OAFlB,EAEkBA,EAAQmnB,GAF1B,eA/BiB,iBAiCqCE,MAIxD,IAzC6B,2BAyCG,IAAD,EACrBF,EAA+BjnB,EAA/BinB,QAASxe,EAAsBzI,EAAtByI,YAAasF,EAAS/N,EAAT+N,KAC9B,OAAO,eACFjO,EADL,eAEGmnB,EAFH,sBAGOnnB,QAHP,IAGOA,OAHP,EAGOA,EAAQmnB,GAHf,eAtCwB,wBAsCxB,sBAKSnnB,QALT,IAKSA,OALT,YAKSA,EAAQmnB,UALjB,aAKS,wBALT,eAMOxe,EAAcsF,QAMvB,QACE,MAAM1N,MAAM,mDAAD,OAAoDN,EAApD,QAKjB,IAAMmN,GAAgB,GAEP,SAASpM,GAAT,GAAiC,IAAbC,EAAY,EAAZA,SAAY,EACnBC,qBAAWnB,GAASqN,IADD,mBACtCpN,EADsC,KAC/BoB,EAD+B,KAGvC2a,EAAqBza,uBAAY,SAAC6lB,EAASlR,GAC/C7U,EAAS,CACPnB,KAvEsB,sBAwEtBC,QAAS,CACPinB,UACAlR,oBAGH,IAEGqR,EAAkBhmB,uBAAY,SAAC6lB,EAASC,GAC5ChmB,EAAS,CACPnB,KAhFmB,oBAiFnBC,QAAS,CACPinB,UACAC,iBAGH,IAEGG,EAAsBjmB,uBAAY,SAAC6lB,EAASE,GAChDjmB,EAAS,CACPnB,KAzF+B,+BA0F/BC,QAAS,CACPinB,UACAE,mBAGH,IAEGG,EAAwBlmB,uBAAY,SAAC6lB,EAASxe,EAAasF,GAC/D7M,EAAS,CACPnB,KAlG2B,2BAmG3BC,QAAS,CACPinB,UACAxe,cACAsF,YAGH,IAEH,OACE,kBAACgZ,GAAYjmB,SAAb,CACEZ,MAAOmB,mBACL,iBAAM,CAACvB,EAAO,CAAE+b,qBAAoBuL,kBAAiBC,sBAAqBC,4BAC1E,CAACxnB,EAAO+b,EAAoBuL,EAAiBC,EAAqBC,KAGnEvmB,GAsCA,SAASwmB,GAAiBN,GAAU,IAAD,IACCD,KADD,mBACjClnB,EADiC,KACxBunB,EADwB,KACxBA,oBACVb,EAAS,OAAG1mB,QAAH,IAAGA,OAAH,YAAGA,EAAQmnB,UAAX,aAAG,iBAoClB,OAlCA1lB,qBAAU,WAAM,4CACd,kCAAA4E,EAAA,+DAEQ4K,EAAO,EACPyW,EAAa,GACbC,GAAQ,EAJhB,UAKYA,EALZ,iCAMyBhhB,EAAOoH,MAAM,CAC9BA,MAAOhF,GACP2I,UAAW,CACTT,KAAMA,EACN4R,KAAMsE,GAER9V,YAAa,gBAZrB,OAMUC,EANV,OAcMoW,EAAaA,EAAWtO,OAAO9H,EAAOrD,KAAK2Z,4BACvCtW,EAAOrD,KAAK2Z,2BAA2Blc,OAAS,IAClDic,GAAQ,EAER1W,GAAQ,IAlBhB,uBAqBQyW,GACFH,EAAoBJ,EAASO,GAtBnC,kDAyBI3b,QAAQqC,IAAR,MAzBJ,2DADc,uBA6BTsY,GAAaS,GA7BH,WAAD,wBA8BZhM,KAED,CAACgM,EAAST,EAAWa,IAEjBb,EASF,SAASmB,GAAqBnF,EAAUyE,GAAU,IAAD,MAChDxe,EAAW,OAAG+Z,QAAH,IAAGA,OAAH,YAAGA,EAAUnZ,YAAb,aAAG,EAAgByM,GADkB,EAEXkR,KAFW,mBAE/ClnB,EAF+C,KAEtCwnB,EAFsC,KAEtCA,sBAGVpC,ENdD,WAA8B,IAAD,EACX/W,KAAhBkR,EAD2B,sBAEkBH,qBAFlB,mBAE3BgG,EAF2B,KAEP0C,EAFO,KAmBlC,OAdArmB,qBAAU,WACR,IAAI0X,EACFxM,KACGE,MACA0C,SACC,EACAgQ,IAAiBnY,EAAiB8W,KAAO,OAAsD,QAEhGxO,QAAQ,OACRD,OAAS,EAEdqY,EAAsB3O,KACrB,CAACoG,EAAc6F,IAEXA,EMLoB2C,GAGrBrB,EAAYe,GAAiBN,GAC7B7B,EACJoB,GACAhE,GACAgE,EAAUpM,QAAO,SAAA0N,GACf,OAAOA,EAAgBze,KAAKyM,KAAO0M,EAASnZ,KAAKyM,MAI/CqP,EAAkBnK,GAAYvS,GAjBkB,EAkB5BoS,KAAnBwK,EAlB+C,oBAqBhD7D,EAAgB,OAAG1hB,QAAH,IAAGA,OAAH,YAAGA,EAAQmnB,UAAX,uBAAG,+BAAH,aAAG,EAA4Cxe,GAoCrE,OAlCAlH,qBAAU,WAAM,4CACd,4BAAA4E,EAAA,sEAC0B8e,GACtBC,EACAC,EACAC,EACAC,GALJ,OACMxU,EADN,OAOEyW,EAAsBL,EAASxe,EAAaoI,GAP9C,4CADc,sBAWZoW,GACA/B,GACAE,IACC5D,GACD2D,GACA9T,OAAOC,KAAK6T,GAAiB3Z,OAAS,GACtC/C,GACA4c,GAlBa,WAAD,wBAoBZpK,KAED,CACDgM,EACA/B,EACAE,EACA5D,EACA/Y,EACA0c,EACAE,EACAiC,EACA9E,EAASnZ,KAAKyM,KAGT0L,E,6vBC7QT,IAAMuG,GAAMpiB,kBAAOqiB,OAAPriB,CAAH,MAKQ,gBAAGsiB,EAAH,EAAGA,MAAH,OAAeA,GAASA,KAC5B,qBAAGC,WACJ,qBAAGC,UACI,qBAAGC,gBACD,qBAAGC,WAGXC,GAAa3iB,kBAAOoiB,GAAPpiB,CAAH,MASV4iB,IALU5iB,UAAOO,IAAV,MAKGP,kBAAOoiB,GAAPpiB,CAAH,MACL,gBAAG6iB,EAAH,EAAGA,KAAH,cAAcA,QAAd,IAAcA,IAAQ,YACxB,qBAAGC,OAEF,qBAAGA,QAIJC,GAAW/iB,kBAAOoiB,GAAPpiB,CAAH,MAINoiB,M,waClCf,IAAMY,GAAShjB,UAAOO,IAAV,MAUC0iB,IALejjB,kBAAOgjB,GAAPhjB,CAAH,MAKCA,UAAOO,IAAV,MAGL,gBAAGuiB,EAAH,EAAGA,IAAH,OAAsB,OAARA,EAAgB,MAAmB,OAARA,GAAgB,SAAoB,OAARA,GAAgB,QAAWA,KAC/F,gBAAGJ,EAAH,EAAGA,QAAH,OAAiBA,GAAWA,MAGhCM,M,sqBCff,IAAME,GAASC,oBAAH,MAMNC,GAASpjB,UAAOO,IAAV,KAOG2iB,IAIX,SAAA/iB,GAAK,OACLA,EAAMkjB,OAASljB,EAAMmjB,OACjBC,cADJ,MAIIA,cAJJ,SAmBWC,GAVK,SAAC,GAAc,IAAZH,EAAW,EAAXA,KAAW,EACblnB,IAAZgB,EADyB,oBAGhC,OACE,kBAACimB,GAAD,CAAQC,KAAMA,GACZ,yBAAKI,IAAKC,EAAQvmB,EAAW,IAAgC,KAA0BwmB,IAAI,mB,ymBC7BjG,IAmBeC,GAJF5jB,mBAfO,SAAC,GAAD,IAAG6jB,EAAH,EAAGA,SAAUzoB,EAAb,EAAaA,SAAa0oB,EAA1B,+CAClB,kBAAC,IAAD,eACEpjB,OAAQmjB,EAAW,SAAW,KAC9BljB,IAAKkjB,EAAW,sBAAwB,KACxCzmB,MAAM,WACF0mB,GAEH1oB,KAQQ4E,CAAH,MACC,gBAAG5C,EAAH,EAAGA,MAAOF,EAAV,EAAUA,MAAV,OAAuBE,GAAgBF,EAAM0C,QAK3CmkB,GAAa/jB,kBAAOgkB,KAAPhkB,CAAH,MAIZ,gBAAG5C,EAAH,EAAGA,MAAOF,EAAV,EAAUA,MAAV,OAAuBE,GAAgBF,EAAM0C,QAG3C,gBAAGxC,EAAH,EAAGA,MAAOF,EAAV,EAAUA,MAAV,OAAuBE,EAAQ6mB,aAAQ,GAAK7mB,GAAS6mB,aAAQ,GAAK/mB,EAAM0C,SAOxE,gBAAGxC,EAAH,EAAGA,MAAOF,EAAV,EAAUA,MAAV,OAAuBE,EAAQ8mB,aAAO,GAAK9mB,GAAS8mB,aAAO,GAAKhnB,EAAM0C,SAItEukB,GAAYnkB,kBAAOgkB,KAAPhkB,CAAH,M,8vGCtCtB,IAAMokB,GAAUpkB,kBAAOqiB,IAAPriB,CAAH,MAES,qBAAG9C,MAAkB2B,WAG9BwlB,GAAcrkB,UAAOO,IAAV,MAWb,qBAAGrD,MAAkBY,SA0BnBwmB,GAAQtkB,UAAOO,IAAV,MAGH,qBAAGgkB,MAAmB,SAIxBC,GAAaxkB,UAAOO,IAAV,MACZ,qBAAGrD,MAAkBY,SAG1B2mB,GAAYzkB,UAAOO,IAAV,MAMJ,qBAAGrD,MAAkBY,SACpB,gBAAGwlB,EAAH,EAAGA,OAAH,OAAgBA,GAAUA,KAiCzBoB,IA9BU1kB,UAAO2kB,KAAV,MAOE3kB,UAAO4kB,GAAV,MASK5kB,UAAO6kB,GAAV,MAKJ,qBAAGC,SAA2B,IAAM,OAKtB,qBAAG5nB,MAAkBoB,OAIzB0B,UAAOO,IAAV,OAaXwkB,GAAiB/kB,UAAOO,IAAV,MAiBdykB,GAAsBhlB,UAAOO,IAAV,MAkBnB0kB,GAAcjlB,UAAOO,IAAV,M,IAkBCP,UAAOO,IAAV,M,mkBCjKtB,IAAM2kB,GAAa,GAEbC,GAASnlB,UAAOO,IAAV,MAMN6kB,GAAQplB,UAAOqlB,IAAV,MACA,qBAAGC,QACF,qBAAGA,QAMTC,GAAqBvlB,UAAOO,IAAV,MAMX,qBAAG+kB,QACF,qBAAGA,QAIF,SAASE,GAAT,GAAyE,IAApD9oB,EAAmD,EAAnDA,QAAmD,KAA1C+oB,OAA0C,EAA1BH,aAA0B,MAAnB,OAAmB,EAARxB,EAAQ,8CAC3DvK,oBAAS,GADkD,mBAC9E7S,EAD8E,KACvEgf,EADuE,KAOrF,GAJA9pB,qBAAU,WACR8pB,GAAS,KACR,CAAChpB,IAEAgK,GAASwe,GAAWxoB,GACtB,OACE,kBAACyoB,GAAD,KACE,kBAACC,GAAD,iBAAWtB,EAAX,CAAiBH,IAAK,GAAIF,IAAKkC,KAAaL,KAAMA,MAKxD,GAA+B,gDAApB,OAAP5oB,QAAO,IAAPA,OAAA,EAAAA,EAASqI,eACX,OACE,kBAACwgB,GAAD,eAAoBD,KAAMA,GAAUxB,GAClC,yBACEL,IAAKmC,KACLtX,MAAO,CAAEuX,UAAW,oCAAqCpD,aAAc,QACvEkB,IAAI,MAMZ,IAAMpnB,EAAI,4CAAwCqR,GAChDlR,GADQ,QAIV,OACE,kBAACyoB,GAAD,KACE,kBAACC,GAAD,iBACMtB,EADN,CAEEH,IAAK,GACLF,IAAKlnB,EACL+oB,KAAMA,EACNQ,QAAS,SAAAC,GACPb,GAAWxoB,IAAW,EACtBgpB,GAAS,GACTK,EAAMC,sB,weCtED,SAASC,GAAT,GAAiE,IAAtCC,EAAqC,EAArCA,GAAIC,EAAiC,EAAjCA,GAAiC,IAA7Bb,YAA6B,MAAtB,GAAsB,MAAlBc,cAAkB,SACvEC,EAAermB,UAAOO,IAAV,MAIA,gBAAG+lB,EAAH,EAAGA,QAAH,SAAYF,SAAwBE,EAAU,EAAI,GAAGC,WAAa,QAG9EC,EAAaxmB,kBAAOwlB,GAAPxlB,CAAH,MAMVymB,EAAczmB,kBAAOwlB,GAAPxlB,CAAH,MAEP,qBAAGsmB,QAAyB,GAAGC,WAAa,QAKtD,OACE,kBAACF,EAAD,CAAcC,QAAShB,EAAMc,OAAQA,GACnC,kBAACI,EAAD,CAAY9pB,QAASwpB,EAAIZ,KAAMA,EAAKiB,WAAa,KAAMD,QAAShB,IAChE,kBAACmB,EAAD,CAAa/pB,QAASypB,EAAIb,KAAMA,EAAKiB,WAAa,KAAMD,QAAShB,K,sFCrBhE,SAASoB,GAASlkB,EAAc8X,GAAQ,IAAD,EAClBf,mBAAS,WADS,mBACrCnc,EADqC,KAC9BupB,EAD8B,KAE5C,GAAInkB,EAAc,CAChB,IAAMjG,EAAI,4CAAwCqR,GAChDpL,GADQ,QAGNjG,GACFqqB,KAAQC,KAAKtqB,GAAMuqB,YAAW,SAACC,EAAKC,GAClC,GAAIA,GAAWA,EAAQJ,QAAS,CAG9B,IAFA,IAAIK,EAAcD,EAAQJ,QAAQM,IAC9BC,EAAUD,aAAID,EAAa,QACxBE,EAAU,GACfF,EAAcG,aAAM,KAAOH,GAC3BE,EAAUD,aAAID,EAAa,QAG3BN,EADY,QAAVrM,EACO,UAEA2M,OAMnB,OAAO7pB,E,2rCCvBT,IAAMiqB,GAAmBrnB,UAAOO,IAAV,MAGN,SAAAJ,GAAK,OAAKA,EAAMmnB,KAAO,UAAY,YACtC,SAAAnnB,GAAK,OAAKA,EAAMmnB,KAAO,EAAI,KAGxB,qBAAGpqB,MAAkBmB,OACf,qBAAGnB,MAAkBoB,OACf,gBAAGpB,EAAH,EAAGA,MAAH,OAAeqqB,aAAe,GAAKrqB,EAAMqC,YAC1D,qBAAGrC,MAAkBa,SAI1BypB,GAAmBxnB,UAAOO,IAAV,MAIhBknB,GAAQznB,UAAOO,IAAV,MAYa,qBAAGrD,MAAkBoB,OAE3B,qBAAGpB,MAAkBmB,OA4CxB,SAASqpB,GAAT,GAAiF,IAAD,IAA7DC,EAA6D,EAA7DA,QAASL,EAAoD,EAApDA,KAAMlsB,EAA8C,EAA9CA,SAA8C,IAApCwsB,iBAAoC,MAAxB,OAAwB,IAC7CrO,mBAAyB,MADoB,mBACtFsO,EADsF,KACpEC,EADoE,OAEnDvO,mBAAyB,MAF0B,mBAEtFwO,EAFsF,KAEvEC,EAFuE,OAGrDzO,mBAAyB,MAH4B,mBAGtF0O,EAHsF,KAGxEC,EAHwE,OAItDC,aAAUN,EAAkBE,EAAe,CAChFH,YACAQ,SAAU,QACVC,UAAW,CACT,CAAEljB,KAAM,SAAUmjB,QAAS,CAAEC,OAAQ,CAAC,EAAG,KACzC,CAAEpjB,KAAM,QAASmjB,QAAS,CAAEE,QAASP,OALjCQ,EAJqF,EAIrFA,OAAQ/gB,EAJ6E,EAI7EA,OAAQghB,EAJqE,EAIrEA,WAWxB,ODxBa,SAAqBC,EAAsBC,GACxD,IAAMC,EAAgBC,mBAGtBltB,qBAAU,WACRitB,EAAcxX,QAAUsX,IACvB,CAACA,IAGJ/sB,qBAAU,WACR,SAASmtB,IACP,IAAM1X,EAAUwX,EAAcxX,QAC9BA,GAAWA,IAGb,GAAc,OAAVuX,EAAgB,CAClBG,IACA,IAAM5Y,EAAK6Y,YAAYD,EAAMH,GAC7B,OAAO,kBAAMK,cAAc9Y,OAG5B,CAACyY,ICCJM,CAAYxhB,EAAQ4f,EAAO,IAAM,MAG/B,oCACE,kBAACE,GAAD,CAAkB2B,IAAKrB,GAAsB1sB,GAC7C,kBAAC,KAAD,KACE,kBAACisB,GAAD,eAAkBC,KAAMA,EAAM6B,IAAKnB,EAAkB1Z,MAAOma,EAAOW,QAAYV,EAAWU,QACvFzB,EACD,kBAACF,GAAD,eACE4B,UAAS,oCAAWX,EAAWU,cAAtB,aAAW,EAAoB,gCAA/B,QAA2D,IACpED,IAAKjB,EACL5Z,MAAOma,EAAOa,OACVZ,EAAWY,W,+fCxG3B,IAAMC,GAAkBvpB,UAAOO,IAAV,MAUC,qBAAGrD,MAAkBmB,OAChC,qBAAGnB,MAAkBa,SAQ1ByrB,GAAmBxpB,UAAOO,IAAV,MAWf,SAASkpB,GAAT,GAAmD,IAAhCC,EAA+B,EAA/BA,KAAS5F,EAAsB,yBACvD,OAAO,kBAAC4D,GAAD,eAASC,QAAS,kBAAC6B,GAAD,KAAmBE,IAA8B5F,IAG7D,SAAS6F,GAAT,GAAmF,IAAzDD,EAAwD,EAAxDA,KAAME,EAAkD,EAAlDA,SAAkD,EACvErQ,oBAAkB,GADqD,mBACxF+N,EADwF,KAClFuC,EADkF,KAGzF7U,EAAOvZ,uBAAY,kBAAMouB,GAAQ,KAAO,CAACA,IACzC5U,EAAQxZ,uBAAY,kBAAMouB,GAAQ,KAAQ,CAACA,IAEjD,OACE,0BAAMvb,MAAO,CAAEwb,WAAY,IACzB,kBAACL,GAAD,CAASC,KAAMA,EAAMpC,KAAMA,IAASsC,GAClC,kBAACL,GAAD,CAAiBQ,QAAS/U,EAAMgV,aAAchV,EAAMiV,aAAchV,GAChE,kBAAC,KAAD,CAAUqQ,KAAM,Q,sQC7C1B,I,GAAMvlB,GAAcC,UAAOO,IAAV,MAEA,qBAAG6lB,QAAuB,SAChC,gBAAGlpB,EAAH,EAAGA,MAAH,SAAU0C,KAAmB1C,EAAM2C,KAAO3C,EAAMY,SAC5C,gBAAGuC,EAAH,EAAGA,SAAH,cAAkBA,QAAlB,IAAkBA,IAAY,aAO5B,qBAAG6pB,YAA+B,UAoCpCC,GAhCO,SAAC,GAA0F,IAAxFT,EAAuF,EAAvFA,KAAMU,EAAiF,EAAjFA,cAAiF,IAAlEhE,cAAkE,aAAlD8D,kBAAkD,SAA9B7pB,EAA8B,EAA9BA,SAAUT,EAAoB,EAApBA,KAASkkB,EAAW,mFAC5EvK,oBAAS,GADmE,mBACvG8Q,EADuG,KAC5FC,EAD4F,KAG9G,OAAKZ,EAIDA,EAAK7jB,OAASukB,EAEd,kBAACX,GAAD,CAASC,KAAMA,EAAMpC,KAAM+C,GACzB,kBAAC,GAAD,eACEL,aAAc,kBAAMM,GAAa,IACjCL,aAAc,kBAAMK,GAAa,IACjClE,OAAQA,EACR8D,WAAYA,EACZtqB,KAAMA,EACNS,SAAUA,GACNyjB,GAEH,IAAM4F,EAAKne,MAAM,EAAG6e,EAAgB,GAAK,QAOhD,kBAAC,GAAD,eAAahE,OAAQA,EAAQ8D,WAAYA,EAAYtqB,KAAMA,EAAMS,SAAUA,GAAcyjB,GACtF4F,GAvBI,I,u1DCLX5iB,KAAMC,OAAOC,MAEb,IAAMujB,GAAcvqB,UAAOO,IAAV,MAQXknB,GAAQznB,UAAOO,IAAV,MACA,qBAAGrD,MAAkB4B,YACnB,SAAAqB,GAAK,OAAKA,EAAMqqB,MAAQ,GAAM,KAQrCC,GAAOzqB,kBAAOqiB,IAAPriB,CAAH,MAIJ0qB,GAAW1qB,UAAOO,IAAV,MAmCRoqB,GAAc3qB,UAAOO,IAAV,MAEXqqB,GAAgB5qB,kBAAOC,IAAPD,CAAH,MACR,qBAAG9C,MAAkBY,SAS1B+sB,GAAW7qB,kBAAO8qB,IAAP9qB,CAAH,MAGH,qBAAG9C,MAAkBY,SAW1BitB,GACC,EADDA,GAEC,EAFDA,GAGO,EAHPA,GAIE,EAJFA,GAKC,EAGDC,IAAc,qBACjBD,GAAiB,qBADA,eAEjBA,GAAiB,mBAFA,eAGjBA,GAAuB,oBAHN,eAIjBA,GAAkB,mBAJD,IA0MLE,qBAnMf,YAAkE,IAA9C1nB,EAA6C,EAA7CA,MAAOnG,EAAsC,EAAtCA,MAAO8tB,EAA+B,EAA/BA,aAA+B,IAAjBC,gBAAiB,MAAN,GAAM,EACzDC,EAAWC,aAAS,sBACpBC,EAAWD,aAAS,sBACpBE,EAAYF,aAAS,uBAHoC,EAMvC9R,mBAAS,GAN8B,mBAMxDiS,EANwD,KAMlDC,EANkD,OAOjClS,mBAAS,GAPwB,mBAOxDmS,EAPwD,KAO/CC,EAP+C,KAQzDC,EAAiBT,EARwC,EAWrB5R,oBAAS,GAXY,mBAWxDsS,EAXwD,KAWzCC,EAXyC,OAYvBvS,mBAASwR,IAZc,mBAYxDgB,EAZwD,KAY1CC,EAZ0C,KAc/DpwB,qBAAU,WACR+vB,EAAW,GACXF,EAAQ,KACP,CAACloB,IAEJ3H,qBAAU,WACR,GAAI2H,EAAO,CACT,IAAI0oB,EAAa,EACbvgB,OAAOC,KAAKpI,GAAOsC,OAAS+lB,IAAmB,IACjDK,EAAa,GAEfN,EAAW5vB,KAAKC,MAAM0P,OAAOC,KAAKpI,GAAOsC,OAAS+lB,GAAkBK,MAErE,CAACL,EAAgBroB,IAEpB,IAAM2oB,EAAW,SAAC,GAA4B,IAA1BppB,EAAyB,EAAzBA,YAAayK,EAAY,EAAZA,MACzB6E,EAAW7O,EAAMT,GAEvB,GAAIsP,GAAYA,EAAStF,QAAUsF,EAASnF,OAAQ,CAClD,IAAMkf,EAAY3d,GAAa4D,EAAS3F,YAAY,GAC9C2f,EAAS5d,GAAa4D,EAASG,iBAAiB,GAChD8Z,EAAMtd,GAA6C,KAA3BqD,EAASG,gBAA0B,IAAM,IAAOH,EAAS3F,YAEvF,OACE,kBAACie,GAAD,CAAUpc,MAAO,CAAEgV,OAAQ,QAAU4H,aAAcA,EAAcoB,OAAO,GACtE,kBAACzB,GAAD,CAAU0B,KAAK,OAAOnsB,WAAW,QAC7BgrB,GAAY,yBAAK9c,MAAO,CAAEke,YAAa,OAAQC,MAAO,SAAWlf,GACnE,kBAAC0Y,GAAD,CACEX,KAAM8F,EAAW,GAAK,GACtBlF,GAAI9T,EAAStF,OAAOqD,GACpBgW,GAAI/T,EAASnF,OAAOkD,GACpBiW,QAASkF,IAEX,kBAACvH,GAAD,CAAYzV,MAAO,CAAEwb,WAAY,OAAQ4C,WAAY,UAAYC,GAAI,SAAW7pB,EAAa1F,MAAOA,GAClG,kBAAC,GAAD,CACEssB,KAAMtX,EAAStF,OAAO7P,OAAS,IAAMmV,EAASnF,OAAOhQ,OACrDmtB,cAAegB,EAAW,EAAI,GAC9BlB,YAAY,EACZtqB,MAAM,MAIZ,kBAACirB,GAAD,CAAU0B,KAAK,OAAOJ,GACtB,kBAACtB,GAAD,CAAU0B,KAAK,OAAOH,IACpBb,GAAa,kBAACV,GAAD,CAAU0B,KAAK,WAAW/d,GAAa4D,EAASQ,kBAAkB,KAC/E2Y,GAAa,kBAACV,GAAD,CAAU0B,KAAK,QAAQ/d,GAAwC,KAA3B4D,EAASG,iBAAyB,KACnFgZ,GAAa,kBAACV,GAAD,CAAU0B,KAAK,OAAOF,IAIzC,MAAO,IAILxb,EACJtN,GACAmI,OAAOC,KAAKpI,GACT6Q,MAAK,SAACwY,EAAUC,GACf,IAAMC,EAAQvpB,EAAMqpB,GACdG,EAAQxpB,EAAMspB,GACpB,OAAId,IAAiBhB,GACNve,WAAmC,KAAxBsgB,EAAMva,gBAA0B,IAAM,KAAO/F,WAAWsgB,EAAMrgB,YACzED,WAAmC,KAAxBugB,EAAMxa,gBAA0B,IAAM,KAAO/F,WAAWugB,EAAMtgB,YACtC,GAA1Bof,GAAiB,EAAI,IAAqC,GAA3BA,GAAiB,EAAI,GAErErf,WAAWsgB,EAAM9B,GAAee,KAAkBvf,WAAWugB,EAAM/B,GAAee,KAC1D,GAA1BF,GAAiB,EAAI,IACM,GAA3BA,GAAiB,EAAI,MAE3BpX,QAAO,SAAA3R,GACN,OAAQjB,GAAeib,SAASha,MAEjCyI,MAAMqgB,GAAkBJ,EAAO,GAAIA,EAAOI,GAC1CvpB,KAAI,SAACS,EAAayK,GACjB,OACEzK,GACE,yBAAKxI,IAAKiT,GACR,kBAAC2e,EAAD,CAAU5xB,IAAKiT,EAAOA,OAAQie,EAAO,GAAKI,EAAiBre,EAAQ,EAAGzK,YAAaA,IACnF,kBAACshB,GAAD,UAMZ,OACE,kBAACuG,GAAD,KACE,kBAACD,GAAD,CACEsC,QAAQ,EACR9B,aAAcA,EACd5c,MAAO,CAAEgV,OAAQ,cAAef,QAAS,6BAEzC,kBAAC,IAAD,CAAM0K,WAAW,SAASC,eAAe,aACvC,kBAAChtB,EAAD,CAAWqsB,KAAK,QAAhB,SAEF,kBAAC,IAAD,CAAMU,WAAW,SAASC,eAAe,WACvC,kBAACtC,GAAD,CACE2B,KAAK,MACLxC,QAAS,SAAAoD,GACPnB,EAAgBjB,IAChBe,EAAiBC,IAAiBhB,KAAyBc,KAJ/D,aAOaE,IAAiBhB,GAAmBc,EAAsB,SAAN,SAAa,KAGhF,kBAAC,IAAD,CAAMoB,WAAW,UACf,kBAACrC,GAAD,CACE2B,KAAK,MACLxC,QAAS,SAAAoD,GACPnB,EAAgBjB,IAChBe,EAAiBC,IAAiBhB,KAAyBc,KAJ/D,iBAQGE,IAAiBhB,GAAmBc,EAAsB,SAAN,SAAa,MAGpEN,GACA,kBAAC,IAAD,CAAM0B,WAAW,SAASC,eAAe,WACvC,kBAACtC,GAAD,CACE2B,KAAK,UACLxC,QAAS,SAAAoD,GACPnB,EAAgBjB,IAChBe,EAAiBC,IAAiBhB,KAA+Bc,KAJrE,eAOeE,IAAiBhB,GAAyBc,EAAsB,SAAN,SAAa,MAIxFN,GACA,kBAAC,IAAD,CAAM0B,WAAW,SAASC,eAAe,WACvC,kBAACtC,GAAD,CACE2B,KAAK,OACLxC,QAAS,SAAAoD,GACPnB,EAAgBjB,IAChBe,EAAiBC,IAAiBhB,KAA0Bc,KAJhE,eAOeE,IAAiBhB,GAAoBc,EAAsB,SAAN,SAAa,MAInFN,GACA,kBAAC,IAAD,CAAM0B,WAAW,SAASC,eAAe,WACvC,kBAACtC,GAAD,CACE2B,KAAK,MACLxC,QAAS,SAAAoD,GACPnB,EAAgBjB,IAChBe,EAAiBC,IAAiBhB,KAAyBc,KAJ/D,uBAOuBE,IAAiBhB,GAAmBc,EAAsB,SAAN,SAAa,IAExF,kBAAClC,GAAD,CAAgBD,KAAM,sCAI5B,kBAACtF,GAAD,MACA,kBAACqG,GAAD,CAAM2C,EAAG,GAAKvc,GAAW,kBAAC,GAAD,OACzB,kBAAC0Z,GAAD,KACE,yBACER,QAAS,SAAAoD,GACP1B,EAAiB,IAATD,EAAaA,EAAOA,EAAO,KAGrC,kBAAC,GAAD,CAAOhB,MAAgB,IAATgB,GAAd,WAEF,kBAACtrB,EAAD,KAAY,QAAUsrB,EAAO,OAASE,GACtC,yBACE3B,QAAS,SAAAoD,GACP1B,EAAQD,IAASE,EAAUF,EAAOA,EAAO,KAG3C,kBAAC,GAAD,CAAOhB,MAAOgB,IAASE,GAAvB,gB,o7DChSV5kB,KAAMC,OAAOC,MAEb,IAAMujB,GAAcvqB,UAAOO,IAAV,MAQXknB,GAAQznB,UAAOO,IAAV,MACA,qBAAGrD,MAAkB4B,YACnB,SAAAqB,GAAK,OAAKA,EAAMqqB,MAAQ,GAAM,KAQrCC,GAAOzqB,kBAAOqiB,IAAPriB,CAAH,MAIJ0qB,GAAW1qB,UAAOO,IAAV,MAyCRoqB,GAAc3qB,UAAOO,IAAV,MAEXqqB,GAAgB5qB,kBAAOC,IAAPD,CAAH,MAOR,qBAAG9C,MAAkBY,SAO1B+sB,GAAW7qB,kBAAO8qB,IAAP9qB,CAAH,MAGH,qBAAG9C,MAAkBY,SAW1BitB,GAAa,CACjBsC,IAAK,oBACLC,IAAK,kBACLC,OAAQ,SACRC,KAAM,OACNC,MAAO,WACPC,OAAQ,kBAuMKzC,qBAnMf,YAAiD,IAAzBliB,EAAwB,EAAxBA,OAAwB,IAAhB4kB,eAAgB,MAAN,GAAM,IAEtBpU,mBAAS,GAFa,mBAEvCiS,EAFuC,KAEjCC,EAFiC,OAGhBlS,mBAAS,GAHO,mBAGvCmS,EAHuC,KAG9BC,EAH8B,OAMJpS,oBAAS,GANL,mBAMvCsS,EANuC,KAMxBC,EANwB,OAONvS,mBAASwR,GAAWsC,KAPd,mBAOvCtB,EAPuC,KAOzBC,EAPyB,KASxCT,EAAYF,aAAS,uBACrBuC,EAAWvC,aAAS,sBACpBD,EAAWC,aAAS,sBAE1BzvB,qBAAU,WACR+vB,EAAW,GACXF,EAAQ,KACP,CAAC1iB,IAEJ,IAAM8kB,EAAkBnyB,mBAAQ,WAC9B,OACEqN,GACA2C,OAAOC,KAAK5C,GACT0L,QAAO,SAAAna,GACN,OAAQsH,GAAyBkb,SAASxiB,MAE3C+H,KAAI,SAAA/H,GAAG,OAAIyO,EAAOzO,QAEtB,CAACyO,IAEJnN,qBAAU,WACR,GAAImN,GAAU8kB,EAAiB,CAC7B,IAAI5B,EAAa,EACb4B,EAAgBhoB,OAAS8nB,IAAY,IACvC1B,EAAa,GAEfN,EAAW5vB,KAAKC,MAAM6xB,EAAgBhoB,OAAS8nB,GAAW1B,MAE3D,CAACljB,EAAQ8kB,EAAiBF,IAE7B,IAAMG,EAAepyB,mBAAQ,WAC3B,OACEmyB,GACAA,EACGzZ,MAAK,SAAC5T,EAAG6T,GACR,OAAI0X,IAAiBhB,GAAWwC,QAAUxB,IAAiBhB,GAAWyC,KAC7DhtB,EAAEurB,GAAgB1X,EAAE0X,GAA2C,GAA1BF,GAAiB,EAAI,IAAqC,GAA3BA,GAAiB,EAAI,GAE3Frf,WAAWhM,EAAEurB,IAAiBvf,WAAW6H,EAAE0X,IACnB,GAA1BF,GAAiB,EAAI,IACM,GAA3BA,GAAiB,EAAI,MAE3BtgB,MAAMoiB,GAAWnC,EAAO,GAAIA,EAAOmC,KAEvC,CAACE,EAAiBF,EAASnC,EAAMK,EAAeE,IAE7CG,EAAW,SAAC,GAAqB,IAAnB6B,EAAkB,EAAlBA,KAAMxgB,EAAY,EAAZA,MACxB,OACE,kBAAC,GAAD,CAAUe,MAAO,CAAEgV,OAAQ,QAAUgJ,OAAO,GAC1C,kBAAC,GAAD,CAAUC,KAAK,OAAOnsB,WAAW,OAC/B,kBAAC,GAAD,MACIwtB,GAAY,yBAAKtf,MAAO,CAAEke,YAAa,OAAQC,MAAO,SAAWlf,GACnE,kBAACiY,GAAD,CAAW9oB,QAASqxB,EAAK5d,KACzB,kBAAC4T,GAAD,CAAYzV,MAAO,CAAEwb,WAAY,OAAQ4C,WAAY,UAAYC,GAAI,UAAYoB,EAAK5d,IACpF,kBAAC,GAAD,CACEuZ,KAAMkE,EAAWG,EAAK9wB,OAAS8wB,EAAK5oB,KACpCilB,cAAegB,EAAW,EAAI,GAC9BlB,YAAY,EACZtqB,MAAM,QAKZguB,GACA,kBAAC,GAAD,CAAUrB,KAAK,SAASnvB,MAAM,OAAOgD,WAAW,OAC9C,kBAAC,GAAD,CAAespB,KAAMqE,EAAK9wB,OAAQmtB,cAAe,KAGrD,kBAAC,GAAD,CAAUmC,KAAK,OAAO/d,GAAauf,EAAKvW,mBAAmB,IAC3D,kBAAC,GAAD,CAAU+U,KAAK,OAAO/d,GAAauf,EAAKxb,iBAAiB,KACvDgZ,GACA,kBAAC,GAAD,CAAUgB,KAAK,QAAQnvB,MAAM,OAAOgD,WAAW,OAC5CoO,GAAauf,EAAK7S,UAAU,KAG/BqQ,GAAa,kBAAC,GAAD,CAAUgB,KAAK,UAAUxd,GAAiBgf,EAAK9S,mBAKpE,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAU+R,QAAQ,EAAM1e,MAAO,CAAEgV,OAAQ,cAAef,QAAS,6BAC/D,kBAAC,IAAD,CAAM0K,WAAW,SAASC,eAAe,aACvC,kBAAC,GAAD,CACE9vB,MAAM,OACNmvB,KAAK,OACLnsB,WAAW,MACX2pB,QAAS,SAAAoD,GACPnB,EAAgBjB,GAAWyC,MAC3B1B,EAAiBC,IAAiBhB,GAAWiD,OAAenC,KAG7D+B,EAAW,SAAW,OATzB,IASkC7B,IAAiBhB,GAAWyC,KAAS3B,EAAsB,SAAN,SAAa,MAGpG+B,GACA,kBAAC,IAAD,CAAMX,WAAW,UACf,kBAAC,GAAD,CACEV,KAAK,SACLxC,QAAS,SAAAoD,GACPnB,EAAgBjB,GAAWwC,QAC3BzB,EAAiBC,IAAiBhB,GAAWwC,SAAiB1B,KAJlE,UAOUE,IAAiBhB,GAAWwC,OAAW1B,EAAsB,SAAN,SAAa,KAKlF,kBAAC,IAAD,CAAMoB,WAAW,UACf,kBAAC,GAAD,CACEV,KAAK,MACLxC,QAAS,SAAAoD,GACPnB,EAAgBjB,GAAWsC,KAC3BvB,EAAiBC,IAAiBhB,GAAWsC,MAAcxB,KAJ/D,aAOaE,IAAiBhB,GAAWsC,IAAQxB,EAAsB,SAAN,SAAa,KAGhF,kBAAC,IAAD,CAAMoB,WAAW,UACf,kBAAC,GAAD,CACEV,KAAK,MACLxC,QAAS,SAAAoD,GACPnB,EAAgBjB,GAAWuC,KAC3BxB,EAAiBC,IAAiBhB,GAAWuC,MAAczB,KAJ/D,iBAQGE,IAAiBhB,GAAWuC,IAAQzB,EAAsB,SAAN,SAAa,MAGpEN,GACA,kBAAC,IAAD,CAAM0B,WAAW,UACf,kBAAC,GAAD,CACEV,KAAK,QACLxC,QAAS,SAAAoD,GACPnB,EAAgBjB,GAAW0C,OAC3B3B,EAAiBC,IAAiBhB,GAAW0C,QAAgB5B,KAJjE,SAOSE,IAAiBhB,GAAW0C,MAAU5B,EAAsB,SAAN,SAAa,MAI9EN,GACA,kBAAC,IAAD,CAAM0B,WAAW,UACf,kBAAC,GAAD,CACEV,KAAK,SACLxC,QAAS,SAAAoD,GACPnB,EAAgBjB,GAAW2C,QAC3B5B,EAAiBC,IAAiBhB,GAAW2C,SAAiB7B,KAJlE,uBAQGE,IAAiBhB,GAAW2C,OAAW7B,EAAsB,SAAN,SAAa,MAK7E,kBAACzH,GAAD,MACA,kBAAC,GAAD,CAAMgJ,EAAG,GACNU,GACCA,EAAazrB,KAAI,SAAC0rB,EAAMxgB,GACtB,OACE,yBAAKjT,IAAKiT,GACR,kBAAC2e,EAAD,CAAU5xB,IAAKiT,EAAOA,OAAQie,EAAO,GAAKmC,EAAUpgB,EAAQ,EAAGwgB,KAAMA,IACrE,kBAAC3J,GAAD,WAKV,kBAAC,GAAD,KACE,yBAAK2F,QAAS,kBAAM0B,EAAiB,IAATD,EAAaA,EAAOA,EAAO,KACrD,kBAAC,GAAD,CAAOhB,MAAgB,IAATgB,GAAd,WAEF,kBAACtrB,EAAD,KAAY,QAAUsrB,EAAO,OAASE,GACtC,yBAAK3B,QAAS,kBAAM0B,EAAQD,IAASE,EAAUF,EAAOA,EAAO,KAC3D,kBAAC,GAAD,CAAOhB,MAAOgB,IAASE,GAAvB,gB,k4BC9SV,IAAMuC,GAAUjuB,UAAOO,IAAV,MAGS,qBAAGrD,MAAkBK,cACrB,gBAAGyX,EAAH,EAAGA,KAAM5X,EAAT,EAASA,MAAT,OAAsB4X,EAAO5X,EAAQ,0BAcrD8wB,GAAWluB,UAAOO,IAAV,MAKQ,qBAAGrD,MAAkBkB,OAarC+vB,GAAcnuB,kBAAOynB,KAAPznB,CAAH,MA2CFouB,GArCQ,SAAC,GAA2C,IAAzC9F,EAAwC,EAAxCA,QAAS+F,EAA+B,EAA/BA,OAAQC,EAAuB,EAAvBA,UAAWlxB,EAAY,EAAZA,MAAY,EACzBmc,oBAAS,GADgB,mBACzDgV,EADyD,KAC3CC,EAD2C,KAGhE,OACE,kBAACP,GAAD,CAASjZ,KAAMuZ,EAAcnxB,MAAOA,GAClC,kBAACulB,GAAD,CAAYoH,QAAS,kBAAMyE,GAAgBD,IAAe7L,QAAQ,UAChE,kBAACxiB,EAAD,KAAYmuB,GACZ,kBAAC7J,GAAD,KACE,kBAAC2J,GAAD,QAGHI,GACC,kBAACL,GAAD,KACE,kBAACjL,GAAD,CAAYH,IAAI,QACbpX,OAAOC,KAAK2c,GAASjmB,KAAI,SAAC/H,EAAKiT,GAC9B,IAAIkhB,EAASnG,EAAQhuB,GACrB,OACEm0B,IAAWJ,GACT,kBAAC,GAAD,CACEtE,QAAS,WACPyE,GAAgBD,GAChBD,EAAUG,IAEZn0B,IAAKiT,GAEL,kBAACrN,EAAD,CAAWG,SAAU,IAAKouB,W,wvEC1D9C3nB,KAAMC,OAAOC,MAEb,IAAMujB,GAAcvqB,UAAOO,IAAV,MAQXknB,GAAQznB,UAAOO,IAAV,MAEE,SAAAJ,GAAK,OAAKA,EAAMqqB,MAAQ,GAAM,KAQrCC,GAAOzqB,kBAAOqiB,IAAPriB,CAAH,MAIJ0qB,GAAW1qB,UAAOO,IAAV,MA4CRqqB,GAAgB5qB,kBAAOC,IAAPD,CAAH,MACR,qBAAG9C,MAAkBY,SAc1B+sB,GAAW7qB,kBAAO8qB,IAAP9qB,CAAH,MAGH,qBAAG9C,MAAkBY,SAW1B4wB,GAAW1uB,UAAO2uB,OAAV,MAEG,gBAAGN,EAAH,EAAGA,OAAH,EAAWnxB,MAAX,OAAwBmxB,EAAS,IAAM,OAM7C,gBAAGA,EAAH,EAAGA,OAAQnxB,EAAX,EAAWA,MAAX,OAAwBmxB,EAASnxB,EAAMY,MAAQZ,EAAMc,SAQ1D+sB,GACG,YADHA,GAEK,eAFLA,GAGK,eAHLA,GAIO,YAGP6D,GAAW,CACfC,IAAK,MACLC,KAAM,QACNC,IAAK,OACLC,OAAQ,WAqUKC,OAhTf,YAA6E,IAA1D7e,EAAyD,EAAzDA,aAAc8e,EAA2C,EAA3CA,gBAAiBC,EAA0B,EAA1BA,gBAAiB/xB,EAAS,EAATA,MAAS,EAElDmc,mBAAS,GAFyC,mBAEnEiS,EAFmE,KAE7DC,EAF6D,OAG5ClS,mBAAS,GAHmC,mBAGnEmS,EAHmE,KAG1DC,EAH0D,OAMhCpS,oBAAS,GANuB,mBAMnEsS,EANmE,KAMpDC,EANoD,OAOlCvS,mBAASwR,IAPyB,mBAOnEgB,EAPmE,KAOrDC,EAPqD,OAQhCzS,qBARgC,mBAQnE6V,EARmE,KAQpDC,EARoD,OAS1C9V,mBAASqV,GAASC,KATwB,mBASnES,EATmE,KASzDC,EATyD,OrByBrE,WAA+B,IAAD,EACProB,KADO,mBAC5B/M,EAD4B,KACnBuN,EADmB,KACnBA,OACV8nB,EAAiB/zB,uBAAY,WACV,QAAnBtB,EAAMgN,SACRO,EAAO,OAEPA,EAAO,SAER,CAACvN,EAAOuN,IACX,MAAO,CAACvN,EAAK,SAAYq1B,GqBvBNC,GAAZtoB,EAXmE,oBAa1EvL,qBAAU,WACR+vB,EAAW,GACXF,EAAQ,KACP,CAACrb,IAGJxU,qBAAU,WACR,GAAIwU,GAAgBA,EAAa8C,OAAS9C,EAAa+C,OAAS/C,EAAagD,MAAO,CAClF,IAAIsc,EAAU,GACVtf,EAAa8C,MAAMrN,OAAS,GAC9BuK,EAAa8C,MAAM7Q,KAAI,SAAAoW,GACrB,IAAIkX,EAAS,GAUb,OATAA,EAAO1qB,KAAOwT,EAAKD,YAAYrI,GAC/Bwf,EAAOrtB,UAAYmW,EAAKD,YAAYlW,UACpCqtB,EAAOv1B,KAAOw0B,GAASG,IACvBY,EAAOC,aAAenX,EAAKwE,QAC3B0S,EAAOE,aAAepX,EAAKyE,QAC3ByS,EAAOrO,QAAU7I,EAAKkU,GACtBgD,EAAO9yB,aAAe4b,EAAK/U,KAAKoJ,OAAO7P,OACvC0yB,EAAO7yB,aAAe2b,EAAK/U,KAAKuJ,OAAOhQ,OACvC0yB,EAAOrS,UAAY7E,EAAK6E,UACjBoS,EAAQzjB,KAAK0jB,MAGpBvf,EAAa+C,MAAMtN,OAAS,GAC9BuK,EAAa+C,MAAM9Q,KAAI,SAAAqW,GACrB,IAAIiX,EAAS,GAUb,OATAA,EAAO1qB,KAAOyT,EAAKF,YAAYrI,GAC/Bwf,EAAOrtB,UAAYoW,EAAKF,YAAYlW,UACpCqtB,EAAOv1B,KAAOw0B,GAASI,OACvBW,EAAOC,aAAelX,EAAKuE,QAC3B0S,EAAOE,aAAenX,EAAKwE,QAC3ByS,EAAOrO,QAAU5I,EAAKoX,OACtBH,EAAO9yB,aAAe6b,EAAKhV,KAAKoJ,OAAO7P,OACvC0yB,EAAO7yB,aAAe4b,EAAKhV,KAAKuJ,OAAOhQ,OACvC0yB,EAAOrS,UAAY5E,EAAK4E,UACjBoS,EAAQzjB,KAAK0jB,MAGpBvf,EAAagD,MAAMvN,OAAS,GAC9BuK,EAAagD,MAAM/Q,KAAI,SAAAsW,GACrB,IAAMoX,EAAYpX,EAAKqX,UAAYrX,EAAKsX,WAClCC,EAAYvX,EAAKwX,UAAYxX,EAAKyX,WAEpCT,EAAS,GAoBb,OAlBII,EAAY,GACdJ,EAAO9yB,aAAe8b,EAAKjV,KAAKoJ,OAAO7P,OACvC0yB,EAAO7yB,aAAe6b,EAAKjV,KAAKuJ,OAAOhQ,OACvC0yB,EAAOC,aAAe7zB,KAAKs0B,IAAIN,GAC/BJ,EAAOE,aAAe9zB,KAAKs0B,IAAIH,IACtBA,EAAY,IACrBP,EAAO9yB,aAAe8b,EAAKjV,KAAKuJ,OAAOhQ,OACvC0yB,EAAO7yB,aAAe6b,EAAKjV,KAAKoJ,OAAO7P,OACvC0yB,EAAOC,aAAe7zB,KAAKs0B,IAAIH,GAC/BP,EAAOE,aAAe9zB,KAAKs0B,IAAIN,IAGjCJ,EAAO1qB,KAAO0T,EAAKH,YAAYrI,GAC/Bwf,EAAOrtB,UAAYqW,EAAKH,YAAYlW,UACpCqtB,EAAOv1B,KAAOw0B,GAASE,KAEvBa,EAAOrS,UAAY3E,EAAK2E,UACxBqS,EAAOrO,QAAU3I,EAAKgU,GACf+C,EAAQzjB,KAAK0jB,MAIxB,IAAMW,EAAWZ,EAAQjb,QAAO,SAAAsZ,GAC9B,OAAIuB,IAAaV,GAASC,KACjBd,EAAK3zB,OAASk1B,KAIzBD,EAAiBiB,GACjB,IAAIrE,EAAa,EACbqE,EAASzqB,OA3GI,KA2GwB,IACvComB,EAAa,GAES,IAApBqE,EAASzqB,OACX8lB,EAAW,GAEXA,EAAW5vB,KAAKC,MAAMs0B,EAASzqB,OAjHhB,IAiH2ComB,MAG7D,CAAC7b,EAAckf,IAElB1zB,qBAAU,WACR6vB,EAAQ,KACP,CAAC6D,IAEJ,IAAMxB,EACJsB,GACAA,EACGhb,MAAK,SAAC5T,EAAG6T,GACR,OAAO7H,WAAWhM,EAAEurB,IAAiBvf,WAAW6H,EAAE0X,IACnB,GAA1BF,GAAiB,EAAI,IACM,GAA3BA,GAAiB,EAAI,MAE3BtgB,MAlIgB,IAkIQigB,EAAO,GAlIf,GAkImBA,GAElCD,EAAYF,aAAS,uBACrBkF,EAAWlF,aAAS,sBAEpBa,EAAW,SAAC,GAAc,IAAZ6B,EAAW,EAAXA,KASlB,MAR0B,SAAtBA,EAAKlxB,eACPkxB,EAAKlxB,aAAe,OAGI,SAAtBkxB,EAAKjxB,eACPixB,EAAKjxB,aAAe,OAIpB,kBAAC,GAAD,CAAUwR,MAAO,CAAEgV,OAAQ,SACzB,kBAAC,GAAD,CAAUiJ,KAAK,MAAMnsB,WAAW,OAC9B,kBAAC,GAAD,CAAMhD,MAAOA,EAAOymB,UAAQ,EAAC2M,KAAM7qB,GAAqBooB,EAAK9oB,OAjJvE,SAA4B8gB,EAAO0K,EAASC,GAC1C,IAAMC,GAAqB,OAAPF,QAAO,IAAPA,OAAA,EAAAA,EAAS5qB,QAAS,EAAI4qB,EAAQllB,MAAM,EAAG,GAAK,MAAQklB,EAClEG,GAAqB,OAAPF,QAAO,IAAPA,OAAA,EAAAA,EAAS7qB,QAAS,EAAI6qB,EAAQnlB,MAAM,EAAG,GAAK,MAAQmlB,EACxE,OAAQ3K,GACN,KAAK6I,GAASG,IACZ,MAAO,OAAS4B,EAAc,QAAUC,EAC1C,KAAKhC,GAASI,OACZ,MAAO,UAAY2B,EAAc,QAAUC,EAC7C,KAAKhC,GAASE,KACZ,MAAO,QAAU6B,EAAc,QAAUC,EAC3C,QACE,MAAO,IAuIAC,CAAmB9C,EAAK3zB,KAAM2zB,EAAKjxB,aAAcixB,EAAKlxB,gBAG3D,kBAAC,GAAD,CAAU0vB,KAAK,SACC,QAAbplB,EAAqB,KAAOqH,GAAauf,EAAK+C,UAAYtiB,GAAauf,EAAKzQ,WAAW,KAExFiT,GACA,oCACE,kBAAC,GAAD,CAAUhE,KAAK,eACZ/d,GAAauf,EAAK8B,cAAgB,IAAK,IACxC,kBAAC,GAAD,CAAenG,KAAMqE,EAAKjxB,aAAcstB,cAAe,EAAGhE,QAAQ,KAEpE,kBAAC,GAAD,CAAUmG,KAAK,eACZ/d,GAAauf,EAAK6B,cAAgB,IAAK,IACxC,kBAAC,GAAD,CAAelG,KAAMqE,EAAKlxB,aAAcutB,cAAe,EAAGhE,QAAQ,OAItEmF,GACA,kBAAC,GAAD,CAAUgB,KAAK,WACb,kBAAC,GAAD,CAAMnvB,MAAOA,EAAOymB,UAAQ,EAAC2M,KAAM,+BAAiCzC,EAAKzM,SACtEyM,EAAKzM,SAAWyM,EAAKzM,QAAQ/V,MAAM,EAAG,GAAK,MAAQwiB,EAAKzM,QAAQ/V,MAAM,GAAI,MAIjF,kBAAC,GAAD,CAAUghB,KAAK,QpBAG,SAAA3iB,GACxB,IAAM1N,EAAM4K,OACNxE,EAAYwE,KAAM8C,KAAKA,GAEvBmnB,EAAY70B,EAAI80B,KAAK1uB,EAAW,UAChC2uB,EAAY/0B,EAAI80B,KAAK1uB,EAAW,UAChC4uB,EAAUh1B,EAAI80B,KAAK1uB,EAAW,QAC9B6uB,EAASj1B,EAAI80B,KAAK1uB,EAAW,OAEnC,OAAI4uB,GAAW,GACP,GAAN,OAAUC,EAAV,YAA+B,IAAXA,EAAe,MAAQ,OAA3C,QACSF,GAAa,GAChB,GAAN,OAAUC,EAAV,YAAiC,IAAZA,EAAgB,OAAS,QAA9C,QACSH,GAAa,GAChB,GAAN,OAAUE,EAAV,YAAqC,IAAdA,EAAkB,SAAW,UAApD,QAEM,GAAN,OAAUF,EAAV,YAAqC,IAAdA,EAAkB,SAAW,UAApD,QoBhB2BK,CAAWrD,EAAKzrB,cAK7C,OACE,oCACE,kBAAC,GAAD,CAAU0qB,QAAQ,EAAM1e,MAAO,CAAEgV,OAAQ,cAAef,QAAS,eAC9DgO,EACC,kBAAC5N,GAAD,CAAY4J,KAAK,OACf,kBAAC,GAAD,CAAgBjE,QAASsG,GAAUP,OAAQiB,EAAUhB,UAAWiB,EAAanyB,MAAOA,KAGtF,kBAAC2lB,GAAD,CAAUwJ,KAAK,MAAMzJ,IAAI,OAAOuO,GAAI,GAClC,kBAAC3C,GAAD,CACE3E,QAAS,WACPwF,EAAYX,GAASC,MAEvBR,OAAQiB,IAAaV,GAASC,KAJhC,OAQA,kBAACH,GAAD,CACE3E,QAAS,WACPwF,EAAYX,GAASE,OAEvBT,OAAQiB,IAAaV,GAASE,MAJhC,SAQA,kBAACJ,GAAD,CACE3E,QAAS,WACPwF,EAAYX,GAASG,MAEvBV,OAAQiB,IAAaV,GAASG,KAJhC,QAQA,kBAACL,GAAD,CACE3E,QAAS,WACPwF,EAAYX,GAASI,SAEvBX,OAAQiB,IAAaV,GAASI,QAJhC,YAWJ,kBAAC,IAAD,CAAM/B,WAAW,SAASC,eAAe,aACvC,kBAAC,GAAD,CACE9vB,MAAM,UACNmvB,KAAK,QACLxC,QAAS,SAAAoD,GACPnB,EAAgBjB,IAChBe,EAAiBC,IAAiBhB,KAA2Bc,KALjE,eAQeE,IAAiBhB,GAAqBc,EAAsB,SAAN,SAAa,MAGlF0E,GACA,kBAAC,IAAD,CAAMtD,WAAW,UACf,kBAAC,GAAD,CACEV,KAAK,cACLnvB,MAAM,UACN2sB,QAAS,WACPiC,EAAgBjB,IAChBe,EAAiBC,IAAiBhB,KAA6Bc,KAGhEqD,EAAkBA,EAAkB,UAAY,eAAgB,IAChEnD,IAAiBhB,GAAsBc,EAAgB,SAAM,SAAO,KAI3E,qCACI0E,GACA,kBAAC,IAAD,CAAMtD,WAAW,UACf,kBAAC,GAAD,CACEV,KAAK,cACLnvB,MAAM,UACN2sB,QAAS,WACPiC,EAAgBjB,IAChBe,EAAiBC,IAAiBhB,KAA6Bc,KAGhEsD,EAAkBA,EAAkB,UAAY,eAAgB,IAChEpD,IAAiBhB,GAAsBc,EAAgB,SAAM,SAAO,MAIzEN,GACA,kBAAC,IAAD,CAAM0B,WAAW,UACf,kBAAC/sB,EAAD,CAAWqsB,KAAK,WAAhB,YAGJ,kBAAC,IAAD,CAAMU,WAAW,UACf,kBAAC,GAAD,CACEV,KAAK,OACLnvB,MAAM,UACN2sB,QAAS,WACPiC,EAAgBjB,IAChBe,EAAiBC,IAAiBhB,KAA+Bc,KALrE,QAQQE,IAAiBhB,GAAyBc,EAAsB,SAAN,SAAa,OAKrF,kBAACzH,GAAD,MACA,kBAAC,GAAD,CAAMgJ,EAAG,GACLU,EAE0B,IAAxBA,EAAajoB,OACf,kBAAC4e,GAAD,sCAEAqJ,EAAazrB,KAAI,SAAC0rB,EAAMxgB,GACtB,OACE,yBAAKjT,IAAKiT,GACR,kBAAC2e,EAAD,CAAU5xB,IAAKiT,EAAOA,MAAOA,EAAQ,EAAGwgB,KAAMA,IAC9C,kBAAC3J,GAAD,UARN,kBAAC,GAAD,OAcJ,kBAAC,GAAD,KACE,yBACE2F,QAAS,SAAAoD,GACP1B,EAAiB,IAATD,EAAaA,EAAOA,EAAO,KAGrC,kBAAC,GAAD,CAAOhB,MAAgB,IAATgB,GAAd,WAEF,kBAACtrB,EAAD,KAAY,QAAUsrB,EAAO,OAASE,GACtC,yBACE3B,QAAS,SAAAoD,GACP1B,EAAQD,IAASE,EAAUF,EAAOA,EAAO,KAG3C,kBAAC,GAAD,CAAOhB,MAAOgB,IAASE,GAAvB,c,uICjcV5kB,KAAMC,OAAOC,MAEN,IAAMsqB,GACN,MADMA,GAEL,OAGFrD,GAAUjuB,UAAOO,IAAV,MA2OEgxB,GApOU,SAAC,GASnB,IAAD,IARJn3B,YAQI,MARGk3B,GAQH,EAPJlpB,EAOI,EAPJA,KACAopB,EAMI,EANJA,KACAC,EAKI,EALJA,WACAC,EAII,EAJJA,MACAC,EAGI,EAHJA,MACAlF,EAEI,EAFJA,MAEI,IADJmF,iBACI,SAEEzI,EAAML,mBAFR,EAKoCvP,oBAAS,GAL7C,mBAKGsY,EALH,KAKiBC,EALjB,KAMEC,EAAWC,aAAY5pB,GAE7BxM,qBAAU,WACR,GAAIwM,IAAS2pB,GAAYF,GAAgBz3B,IAASk3B,GAAiB,CAEjE,IAAIW,EAAUC,SAASC,eAAe,aAAe/3B,GAC1C83B,SAASC,eAAe,UAAY/3B,GAC1Cg4B,YAAYH,GACjBJ,EAAaQ,OAAO,EAAG,GACvBP,OAED,CAACD,EAAczpB,EAAM2pB,EAAU33B,IAGlC,IAAMk4B,EAAa,OAAGlqB,QAAH,IAAGA,OAAH,EAAGA,EAAM/F,KAAI,SAAA+V,GAC9B,MAAO,CACL5D,KAAM1N,KAAM8C,KAAKwO,EAAM1N,MAAM1D,MAAMqD,OAAO,cAC1C9P,MAAOiS,WAAW4L,EAAMsZ,QAKtBa,EAAWn4B,IAASk3B,GAAmB,IAAO,GA5BhD,EA8Ben1B,IAAZgB,EA9BH,oBA+BEG,EAAYH,EAAW,QAAU,QACjCq1B,EAAgBR,aAAY70B,GA6KlC,OA1KAvB,qBAAU,WACR,GAAIi2B,GAAgBW,IAAkBr1B,EAAU,CAE9C,IAAI80B,EAAUC,SAASC,eAAe,aAAe/3B,GAC1C83B,SAASC,eAAe,UAAY/3B,GAC1Cg4B,YAAYH,GACjBJ,EAAaQ,OAAO,EAAG,GACvBP,OAED,CAACD,EAAc10B,EAAUq1B,EAAep4B,IAG3CwB,qBAAU,WACR,IAAKi2B,GAAgBS,EAAe,KAoFzBG,EAAT,WACEC,EAAQC,UACN,+DAAwDr1B,EAAxD,cAAuEq0B,EAAvE,YACEv3B,IAASk3B,IAAoBM,EAAuB,GAAX,SAD3C,wEAGuDt0B,EAHvD,OAIAkR,GAAY,OAACgjB,QAAD,IAACA,IAAQ,GAAG,GAJxB,kEAK2Dp0B,EAL3D,cAKsEw1B,EALtE,WAMA,UA3FAC,EAAQC,aAAY3J,EAAI9X,QAAS,CACnCob,MAAOA,EACPnJ,OA9DO,IA+DPyP,OAAQ,CACNv1B,gBAAiB,cACjBF,UAAWA,GAEb01B,gBAAiB,CACfC,aAAc,CACZC,IAAKX,EACLY,OAAQ,GAEVC,eAAe,GAEjBC,UAAW,CACTD,eAAe,GAEjBE,KAAM,CACJC,UAAW,CACTn2B,MAAO,2BACPo2B,SAAS,GAEXC,UAAW,CACTr2B,MAAO,2BACPo2B,SAAS,IAGbE,UAAW,CACTC,SAAU,CACRH,SAAS,EACTI,cAAc,GAEhBC,SAAU,CACRL,SAAS,EACTllB,MAAO,EACPme,MAAO,EACPrvB,MAAO,wBACPw2B,cAAc,IAGlBE,aAAc,CACZ3lB,eAAgB,SAAAhE,GAAG,OAAIqE,GAAarE,GAAK,OAIzC4pB,EACF35B,IAASk3B,GACLuB,EAAMmB,mBAAmB,CACvB52B,MAAO,UACP62B,YAAa,CACX75B,KAAM,UAER64B,aAAc,CACZC,IAAK,IACLC,OAAQ,GAEVe,UAAW,UACXC,UAAW,IAEbtB,EAAMuB,cAAc,CAClBC,SAAU,UACVC,YAAa,uBACbJ,UAAW,UACXC,UAAW,IAGnBJ,EAAOQ,QAAQjC,GACf,IAAII,EAAUR,SAASsC,cAAc,OACrC9B,EAAQ+B,aAAa,KAAM,aAAer6B,GAC1Cs4B,EAAQrJ,UAAYlsB,EAAW,yBAA2B,oBAC1DgsB,EAAI9X,QAAQqjB,YAAYhC,GACxBA,EAAQpkB,MAAMqmB,QAAU,QACxBjC,EAAQpkB,MAAMlO,WAAa,MAC3BsyB,EAAQpkB,MAAMsmB,KAAO,OACrBlC,EAAQpkB,MAAM4kB,IAAM,OACpBR,EAAQpkB,MAAM9Q,gBAAkB,cAGhC,IAAIq3B,EAAa,OAAGpD,QAAH,IAAGA,OAAH,EAAGA,EAAY9iB,QAAQ,GACpCikB,GAA0BiC,EAAgB,EAAI,IAAM,IAAMA,EAAgB,IAC1Ez3B,EAAQy3B,GAAiB,EAAI,QAAU,MAa3CpC,IAGAI,EAAMiC,wBAAuB,SAASC,GACpC,QACYz5B,IAAVy5B,QACez5B,IAAfy5B,EAAMvgB,MACNugB,EAAMC,MAAMC,EAAI,GAChBF,EAAMC,MAAMC,EAAIxI,GAChBsI,EAAMC,MAAME,EAAI,GAChBH,EAAMC,MAAME,EAnKP,IAqKLzC,QACK,CACL,IAAI0C,EAAUvD,EACV9qB,KAAMiuB,EAAMvgB,KAAK4gB,KAAO,IAAML,EAAMvgB,KAAK6gB,MAAQ,IAAMN,EAAMvgB,KAAK8gB,KAC/DzrB,QAAQ,QACRQ,OAAO,gBACV,IACAvD,KAAMiuB,EAAMvgB,KAAK4gB,KAAO,IAAML,EAAMvgB,KAAK6gB,MAAQ,IAAMN,EAAMvgB,KAAK8gB,KAC/D3rB,MAAM,QACNU,OAAO,gBACVvD,KAAMiuB,EAAMvgB,KAAK4gB,KAAO,IAAML,EAAMvgB,KAAK6gB,MAAQ,IAAMN,EAAMvgB,KAAK8gB,KAAKjrB,OAAO,gBAC9EkrB,EAAQR,EAAMS,aAAaC,IAAI1B,GAEnCrB,EAAQC,UACN,+DAAwDr1B,EAAxD,cAAuEq0B,EAAvE,yEACwDr0B,EADxD,MAEAkR,GAAa+mB,GAAO,GACpB,cAEAJ,EACA,aAINtC,EAAMQ,YAAYqC,aAElB5D,EAAgBe,MAEjB,CACDrB,EACAC,EACAI,EACA10B,EACAiL,EACAkqB,EACAh1B,EACAq0B,EACAY,EACAn4B,EACAw3B,EACAnF,IAIF7wB,qBAAU,WACJ6wB,IACFoF,GAAgBA,EAAaQ,OAAO5F,EAnN3B,KAoNToF,GAAgBA,EAAawB,YAAYsC,iBAAiB,MAE3D,CAAC9D,EAAcpF,IAGhB,kBAAC,GAAD,KACE,yBAAKtD,IAAKA,EAAKhZ,GAAI,UAAY/V,IAC/B,kBAACiqB,GAAD,KACE,kBAAC,KAAD,CACE0F,QAAS,WACP8H,GAAgBA,EAAawB,YAAYqC,mB,4rEC7OrD,IAAME,GAAO51B,kBAAO61B,UAAP71B,CAAH,MASsB,qBAAGgV,MAAmB,OACvB,qBAAGA,MAAmB,OAGlChV,kBAAO61B,UAAP71B,CAAH,MASHA,kBAAO41B,GAAP51B,CAAH,MAwBaA,UAAOO,IAAV,MAApB,IAOau1B,GAAc91B,kBAAO41B,GAAP51B,CAAH,MACF,gBAAG5C,EAAH,EAAGA,MAAOF,EAAV,EAAUA,MAAV,OAAuBE,EAAQmqB,aAAe,GAAKnqB,GAASmqB,aAAe,GAAKrqB,EAAM4B,aACjG,gBAAG1B,EAAH,EAAGA,MAAOF,EAAV,EAAUA,MAAV,OAAuBE,EAAQ8mB,aAAO,GAAK9mB,GAASF,EAAM4B,YAOxD,gBAAG1B,EAAH,EAAGA,MAAOF,EAAV,EAAUA,MAAV,OAAuBE,EAAQ8mB,aAAO,GAAK9mB,GAASF,EAAM4B,YAI/C,gBAAG1B,EAAH,EAAGA,MAAOF,EAAV,EAAUA,MAAV,OAClBE,EAAQmqB,aAAe,GAAKnqB,GAASmqB,aAAe,GAAKrqB,EAAM4B,aAI9D,SAASi3B,GAAT,GAAwE,IAAD,IAA7CnM,gBAA6C,SAA3BxuB,EAA2B,EAA3BA,SAAU4Z,EAAiB,EAAjBA,KAAS8O,EAAQ,+CAC5E,OACE,kBAACkS,GAAD,iBAAiBlS,EAAjB,CAAuB8F,SAAUA,EAAUqM,IAAKjhB,IAC9C,kBAAC2N,GAAD,KACE,yBAAKrU,MAAO,CAAEqmB,QAAS,OAAQ1H,WAAY,WAAa7xB,GACvD4Z,EACC,kBAACwP,GAAD,KACE,kBAAC,KAAD,CAAWc,KAAM,MAGnB,kBAACd,GAAD,KACE,kBAAC,KAAD,CAAac,KAAM,QAQxB,IAAM4Q,GAAal2B,kBAAO41B,GAAP51B,CAAH,MACD,gBAAG5C,EAAH,EAAGA,MAAOF,EAAV,EAAUA,MAAV,OAAuBE,GAAgBF,EAAM4B,YAO3C,gBAAG1B,EAAH,EAAGA,MAAOF,EAAV,EAAUA,MAAV,OAAuBE,EAAQ8mB,aAAO,GAAK9mB,GAAS8mB,aAAO,GAAKhnB,EAAM4B,aAIjFk3B,GAAch2B,kBAAO41B,GAAP51B,CAAH,MACF,qBAAG9C,MAAkBmB,OA4BpC,IAAM83B,GAAen2B,UAAOO,IAAV,MAMH,qBAAGrD,MAAkBqB,OACrB,gBAAG8vB,EAAH,EAAGA,OAAQnxB,EAAX,EAAWA,MAAX,OAAuBmxB,GAAUnxB,EAAMoB,OAClD,qBAAGpB,MAAkBY,SAGlB,qBAAG8rB,UAA4B,aC1IvCwM,GAAa,CACjBC,OAAQ,SACRC,UAAW,aAGPC,GACI,SADJA,GAEE,OAmHOC,GAjHK,SAAC,GAAiB,IAAD,IAAd7B,EAAc,EAAdA,QAAc,EAEDpb,mBAAqB,WAAZob,EAAuByB,GAAWC,OAASD,GAAWE,WAF9D,mBAE5BG,EAF4B,KAEjBC,EAFiB,KAK7BntB,EAAahI,EAAiBG,SALD,EAMK6X,mBAASgd,IANd,mBAM5BI,EAN4B,KAMdC,EANc,OASHtd,KATG,mBAS5Bud,EAT4B,KASjB/e,EATiB,OAiB/BuB,KANF7B,EAXiC,EAWjCA,kBACAjF,EAZiC,EAYjCA,gBACAC,EAbiC,EAajCA,gBACAO,EAdiC,EAcjCA,mBACA2E,EAfiC,EAejCA,cACAC,EAhBiC,EAgBjCA,mBAIEnO,EAAeF,GAAaC,GAE1ButB,EAAoBp7B,mBAAQ,WAAO,IAAD,EAClCq7B,EAAcJ,IAAiBJ,GAAqBM,EAAY/e,EACpE,OACEif,IAAW,UACXrrB,OAAOC,KAAKorB,UADD,aACX,EACI10B,KAAI,SAAA/H,GACJ,IAAIyzB,EAAOgJ,EAAYz8B,GACvB,OAAIyzB,EAAKrjB,KAAOlB,EACPukB,OAEP,KAGHtZ,QAAO,SAAAsZ,GACN,QAASA,QAGd,CAAC8I,EAAWrtB,EAAcmtB,EAAc7e,IACrCkf,EAAW3L,aAAS,sBAGpBlC,EAAML,mBACNmO,EAA6B,kBAAXj8B,OA5CW,EA6CTue,mBAAQ,OAAC4P,QAAD,IAACA,OAAD,YAACA,EAAK9X,eAAN,uBAAC,EAAc6lB,iBAAf,aAAC,EAAyBC,aA7CzB,mBA6C5B1K,EA7C4B,KA6CrB2K,EA7CqB,KAyDnC,OAXAx7B,qBAAU,WACR,IAAKq7B,EACH,OAAO,EAET,SAASI,IAAgB,IAAD,MACtBD,EAAQ,iBAACjO,QAAD,IAACA,OAAD,YAACA,EAAK9X,eAAN,uBAAC,EAAc6lB,iBAAf,aAAC,EAAyBC,mBAA1B,QAAyC1K,GAGnD,OADAzxB,OAAOs8B,iBAAiB,SAAUD,GAC3B,kBAAMr8B,OAAOu8B,oBAAoB,SAAUF,MACjD,CAACJ,EAAUxK,IAEPqK,EACL,oCACGE,GACC,kBAAC,GAAD,CAAgB1O,QAAS8N,GAAY/H,OAAQoI,EAAWnI,UAAWoI,EAAct5B,MAAO,YAGzF05B,GAAqBL,IAAcL,GAAWE,WAC7C,kBAAC,KAAD,CAAqBkB,OAAQ,GAAK,GAAIrO,IAAKA,GACzC,kBAAC,GAAD,CACE/gB,KAAMyuB,EACNrF,KAAMha,EACNia,WAAY1e,EACZ4e,MAAM,YACND,MAAM,oBACNjF,MAAOA,EACPryB,KAAMk3B,MAIXwF,GAAqBL,IAAcL,GAAWC,QAC7C,kBAAC,KAAD,CAAqBmB,OAAQ,GAAK,IAChC,kBAAC,GAAD,CACEpvB,KAAM0uB,EACNtF,KAAMmF,IAAiBJ,GAAuB7e,EAAgBnF,EAC9Dkf,WAAYkF,IAAiBJ,GAAuB5e,EAAqBnF,EACzEmf,MAAOgF,IAAiBJ,GAAuB,cAAgB,SAC/D7E,MAAOiF,IAAiBJ,GAAuB,kBAAoB,iBACnE9J,MAAOA,EACPryB,KAAMk3B,GACNM,UAAW+E,IAAiBJ,MAIrB,WAAZ5B,GACC,kBAAC5R,GAAD,CAAUzU,MAAO,CAAE6kB,OAAQ,OAAQtW,SAAU,WAAY+X,KAAM,OAAQ6C,OAAQ,KAC7E,kBAACtB,GAAD,CACE9H,OAAQsI,IAAiBJ,GACzBxM,QAAS,kBAAM6M,EAAgBL,MAE/B,kBAACr2B,EAAD,WAEF,kBAACi2B,GAAD,CACE7nB,MAAO,CAAEwb,WAAY,OACrBuE,OAAQsI,IAAiBJ,GACzBxM,QAAS,kBAAM6M,EAAgBL,MAE/B,kBAACr2B,EAAD,aAMR,I,+mFC7GJ,IAAMw3B,GAAY13B,UAAOO,IAAV,MAUT0tB,GAAUjuB,UAAOO,IAAV,MAQG,gBAAGrD,EAAH,EAAGA,MAAOy6B,EAAV,EAAUA,MAAO3iB,EAAjB,EAAiBA,KAAjB,OACZ2iB,EAAS3iB,EAAOuS,aAAe,GAAKrqB,EAAMkB,KAAO,OAAUmpB,aAAe,GAAKrqB,EAAMuB,QACzD,qBAAGuW,KAAmB,MAAQ,UAC/B,qBAAGA,KAAmB,MAAQ,UAK7C,gBAAGA,EAAH,EAAGA,KAAM2iB,EAAT,EAASA,MAAT,OACX3iB,GAAS2iB,EAEN,OADA,6IAGU,gBAAGz6B,EAAH,EAAGA,MAAH,OAAeqqB,aAAe,GAAKrqB,EAAMkB,QACzC,qBAAG4W,KAGX,OADA,6IAIJ4iB,GAAQ53B,UAAO63B,MAAV,MASA,qBAAG36B,MAAkBY,SACjB,qBAAGg6B,MAAqB,OAAS,UAGnC,qBAAG56B,MAAkBc,SAW5B+5B,GAAkB/3B,kBAAOg4B,KAAPh4B,CAAH,MAOV,qBAAG9C,MAAkBc,SAG1Bi6B,GAAYj4B,kBAAOk4B,KAAPl4B,CAAH,MAMJ,qBAAG9C,MAAkBc,SAM1Bm6B,GAAOn4B,UAAOO,IAAV,MAUM,qBAAGrD,MAAkBuB,OAKxB,qBAAG25B,MAAmB,UAG7BC,GAAWr4B,kBAAOoiB,GAAPpiB,CAAH,MAQU,qBAAG9C,MAAkBmB,OAIvCi6B,GAAUt4B,kBAAOoiB,GAAPpiB,CAAH,MAEA,oBAAGo4B,KAAH,sBAA8B,UAGrCG,GAAOv4B,UAAO2kB,KAAV,MAIJ6T,GAAOx4B,UAAO2kB,KAAV,MAoYK8T,GA7XO,SAAC,GAAuB,IAAD,IAApBd,aAAoB,SACvC3hB,EtBweC,WAAkC,IAAD,EACtBN,KAATvb,EAD+B,oBAItC,OAFa,OAAGA,QAAH,IAAGA,OAAH,EAAGA,EAAO6b,YAEH,GsB5eJ0iB,GACVC,EAAejc,KAEjBtL,EtB8dC,WAAiC,IAAD,EACrBsE,KAATvb,EAD8B,oBAIrC,OAFY,OAAGA,QAAH,IAAGA,OAAH,EAAGA,EAAOiX,WAEH,GsBleJwnB,GACTC,EAActjB,KALuB,EAOZgE,oBAAS,GAPG,mBAOpCuf,EAPoC,KAO1BC,EAP0B,OAQjBxf,mBAAS,IARQ,mBAQpChf,EARoC,KAQ7By+B,EAR6B,OASlBzf,oBAAS,GAAzB0f,EATkC,sBAUZ1f,oBAAS,GAA/B2f,EAVkC,oBAa3C9c,GAAa7hB,GACb8a,GAAY9a,GAEZ,IAAM4+B,EAAW9N,aAAS,sBACpB+N,EAAW/N,aAAS,sBACpBgO,EAAWhO,aAAS,sBAE1BzvB,qBAAU,WAENm9B,EADY,KAAVx+B,KAKH,CAACA,IA1BuC,MA4BCgf,mBAAS,IA5BV,mBA4BpC+f,EA5BoC,KA4BpBC,EA5BoB,OA6BDhgB,mBAAS,IA7BR,mBA6BpCigB,EA7BoC,KA6BrBC,EA7BqB,KA6D3C,SAASC,EAAaC,GACpB,OAAOA,EAAOC,QAAQ,sBAAuB,QA/B/Ch+B,qBAAU,WAAM,4CACd,kCAAA4E,EAAA,qEAEa,OAALjG,QAAK,IAALA,OAAA,EAAAA,EAAOsL,QAAS,GAFxB,iCAGyB/E,EAAOoH,MAAM,CAC9B2D,UAAW,CACTtR,MAAOA,EAAQA,EAAMs/B,cAAgB,GACrC1pB,GAAI5V,GAEN2N,MAAOnE,KARf,cAGUgF,EAHV,gBAWwBjI,EAAOoH,MAAM,CAC7BA,MAAOlE,GACP6H,UAAW,CACT9C,OAAM,UAAEA,EAAOX,KAAK0xB,gBAAd,aAAE,EAAsBz3B,KAAI,SAAA6G,GAAC,OAAIA,EAAEiH,MACzCA,GAAI5V,KAfd,OAWUgJ,EAXV,OAkBMk2B,EAAiBl2B,EAAM6E,KAAK2xB,IAAIxmB,OAAOhQ,EAAM6E,KAAK4xB,KAAKzmB,OAAOhQ,EAAM6E,KAAK6xB,YACrEC,EAAcnxB,EAAOX,KAAK0xB,SAASvmB,OAAOxK,EAAOX,KAAK6xB,WAAW1mB,OAAOxK,EAAOX,KAAK+xB,QACxFZ,EAAkBW,GApBxB,0DAuBIh0B,QAAQqC,IAAR,MAvBJ,2DADc,uBAAC,WAAD,wBA2Bd+M,KACC,CAAC/a,IAOJyb,EAAYA,EAAUzC,OACpB+lB,EAAe7kB,QAAO,SAAA2lB,GACpB,IAAIC,GAAW,EAOf,OANArkB,EAAU3T,KAAI,SAAAiY,GAIZ,OAHIA,EAAMnK,KAAOiqB,EAAcjqB,KAC7BkqB,GAAW,IAEN,MAEDA,MAIZ,IAAIC,EAAe,GACfxY,EAAQ,GACZ9L,GACEA,EAAU3T,KAAI,SAAAiY,GAKZ,OAJKwH,EAAMxH,EAAMnK,MACf2R,EAAMxH,EAAMnK,KAAM,EAClBmqB,EAAaruB,KAAKqO,KAEb,KAGXlJ,EAAWA,EAASmC,OAClBimB,EAAc/kB,QAAO,SAAA8lB,GACnB,IAAIF,GAAW,EAOf,OANAjpB,EAAS/O,KAAI,SAAAqB,GAIX,OAHIA,EAAKyM,KAAOoqB,EAAapqB,KAC3BkqB,GAAW,IAEN,MAEDA,MAIZ,IAAIG,EAAc,GACdC,EAAa,GACjBrpB,GACEA,EAAS/O,KAAI,SAAAqB,GAKX,OAJK+2B,EAAW/2B,EAAKyM,MACnBsqB,EAAW/2B,EAAKyM,KAAM,EACtBqqB,EAAYvuB,KAAKvI,KAEZ,KAGX,IAAMg3B,EAAoBh/B,mBAAQ,WAChC,OAAO4+B,EACHA,EACGlmB,MAAK,SAAC5T,EAAG6T,GACR,GAAIzS,GAAyBkb,SAAStc,EAAE2P,IACtC,OAAO,EAET,GAAIvO,GAAyBkb,SAASzI,EAAElE,IACtC,OAAQ,EAEV,IAAMwqB,EAAShC,EAAan4B,EAAE2P,IACxByqB,EAASjC,EAAatkB,EAAElE,IAC9B,OAAU,OAANwqB,QAAM,IAANA,OAAA,EAAAA,EAAQpoB,mBAAR,OAA2BqoB,QAA3B,IAA2BA,OAA3B,EAA2BA,EAAQroB,iBAC9BooB,EAAOpoB,gBAAkBqoB,EAAOroB,iBAAmB,EAAI,GAEtD,OAANooB,QAAM,IAANA,OAAA,EAAAA,EAAQpoB,oBAAmB,OAACqoB,QAAD,IAACA,OAAD,EAACA,EAAQroB,kBAC9B,IAEN,OAACooB,QAAD,IAACA,OAAD,EAACA,EAAQpoB,mBAAT,OAA4BqoB,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAQroB,mBACzB,OAANooB,QAAM,IAANA,OAAA,EAAAA,EAAQ5f,iBAAR,OAAyB6f,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAQ7f,iBAAkB,EAErD,KAERtG,QAAO,SAAA6F,GACN,OAAI1Y,GAAyBkb,SAASxC,EAAMnK,KAGvBzE,OAAOC,KAAK2O,GAAOjY,KAAI,SAAAw4B,GAC1C,IAAMjtB,EAAkC,OAAtBrT,EAAMgR,MAAM,EAAG,GACjC,MAAsB,OAAlBsvB,GAA0BjtB,EACrB0M,EAAMugB,GAAe31B,MAAM,IAAI41B,OAAOpB,EAAan/B,GAAQ,MAE9C,WAAlBsgC,GAA+BjtB,EAGb,SAAlBitB,IAA6BjtB,GACxB0M,EAAMugB,GAAe31B,MAAM,IAAI41B,OAAOpB,EAAan/B,GAAQ,MAH3D+f,EAAMugB,GAAe31B,MAAM,IAAI41B,OAAOpB,EAAan/B,GAAQ,SAOlDC,MAAK,SAAAugC,GAAC,OAAIA,QAElC,KACH,CAACpC,EAAc2B,EAAc//B,IAE1BygC,EAAmBt/B,mBAAQ,WAC/B,OAAO8+B,EACHA,EACGpmB,MAAK,SAAC5T,EAAG6T,GACR,IAAMyY,EAAQ+L,EAAYr4B,EAAE2P,IACtB4c,EAAQ8L,EAAYxkB,EAAElE,IAC5B,OAAS,OAAL2c,QAAK,IAALA,OAAA,EAAAA,EAAOha,qBAAP,OAA4Bia,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAOja,mBAC9BtG,WAAWsgB,EAAMha,mBAAqBtG,WAAWugB,EAAMja,oBAAsB,EAAI,GAEjF,OAALga,QAAK,IAALA,OAAA,EAAAA,EAAOha,sBAAqB,OAACia,QAAD,IAACA,OAAD,EAACA,EAAOja,oBAC9B,IAEN,OAACga,QAAD,IAACA,OAAD,EAACA,EAAOha,qBAAR,OAA6Bia,QAA7B,IAA6BA,OAA7B,EAA6BA,EAAOja,mBAC/B,EAEF,KAER2B,QAAO,SAAA/Q,GACN,GAAI7B,GAAeib,SAASpZ,EAAKyM,IAC/B,OAAO,EAET,GAAI5V,GAASA,EAAMuiB,SAAS,KAAM,CAAC,IAAD,IAC1BgQ,EAAK,UAAGvyB,EAAMuK,MAAM,KAAK,UAApB,aAAG,EAAqB+0B,cAC7B9M,EAAK,UAAGxyB,EAAMuK,MAAM,KAAK,UAApB,aAAG,EAAqB+0B,cACnC,OACGn2B,EAAKoJ,OAAO7P,OAAO6f,SAASgQ,IAAUppB,EAAKoJ,OAAO7P,OAAO6f,SAASiQ,MAClErpB,EAAKuJ,OAAOhQ,OAAO6f,SAASgQ,IAAUppB,EAAKuJ,OAAOhQ,OAAO6f,SAASiQ,IAGvE,GAAIxyB,GAASA,EAAMuiB,SAAS,KAAM,CAAC,IAAD,IAC1BgQ,EAAK,UAAGvyB,EAAMuK,MAAM,KAAK,UAApB,aAAG,EAAqB+0B,cAC7B9M,EAAK,UAAGxyB,EAAMuK,MAAM,KAAK,UAApB,aAAG,EAAqB+0B,cACnC,OACGn2B,EAAKoJ,OAAO7P,OAAO6f,SAASgQ,IAAUppB,EAAKoJ,OAAO7P,OAAO6f,SAASiQ,MAClErpB,EAAKuJ,OAAOhQ,OAAO6f,SAASgQ,IAAUppB,EAAKuJ,OAAOhQ,OAAO6f,SAASiQ,IAsBvE,OAnBqBrhB,OAAOC,KAAKjI,GAAMrB,KAAI,SAAAqvB,GACzC,IAAM9jB,EAAkC,OAAtBrT,EAAMgR,MAAM,EAAG,GACjC,MAAc,OAAVmmB,GAAkB9jB,EACblK,EAAKguB,GAAOxsB,MAAM,IAAI41B,OAAOpB,EAAan/B,GAAQ,MAE7C,WAAVm3B,EAEAhuB,EAAKguB,GAAOz0B,OAAOiI,MAAM,IAAI41B,OAAOpB,EAAan/B,GAAQ,OACzDmJ,EAAKguB,GAAOvsB,KAAKD,MAAM,IAAI41B,OAAOpB,EAAan/B,GAAQ,MAG7C,WAAVm3B,IAEAhuB,EAAKguB,GAAOz0B,OAAOiI,MAAM,IAAI41B,OAAOpB,EAAan/B,GAAQ,OACzDmJ,EAAKguB,GAAOvsB,KAAKD,MAAM,IAAI41B,OAAOpB,EAAan/B,GAAQ,UAKzCC,MAAK,SAAAugC,GAAC,OAAIA,QAElC,KACH,CAAClC,EAAa2B,EAAajgC,IAE9BqB,qBAAU,WACJ8P,OAAOC,KAAK+uB,GAAmB70B,OAAS,EAC1CozB,GAAa,GAEbA,GAAa,KAEd,CAACyB,IAEJ9+B,qBAAU,WACJ8P,OAAOC,KAAKqvB,GAAkBn1B,OAAS,EACzCqzB,GAAmB,GAEnBA,GAAmB,KAEpB,CAAC8B,IA1OuC,MA4OLzhB,mBAAS,GA5OJ,mBA4OpC0hB,EA5OoC,KA4OvBC,EA5OuB,OA6OP3hB,mBAAS,GA7OF,mBA6OpC4hB,EA7OoC,KA6OxBC,EA7OwB,KA+O3C,SAASC,IACPD,EAAc,GACdF,EAAe,GACfnC,GAAW,GACXC,EAAS,IAIX,IAAMsC,EAAaxS,mBACbyS,GAAUzS,mBAEV0S,GAAc,SAAArO,GAEdoO,GAAQlqB,SAAWkqB,GAAQlqB,QAAQoqB,SAAStO,EAAEzsB,SAC9C46B,EAAWjqB,SAAWiqB,EAAWjqB,QAAQoqB,SAAStO,EAAEzsB,UAEtD06B,EAAc,GACdF,EAAe,GACfnC,GAAW,KAWf,OAPAn9B,qBAAU,WAER,OADAs2B,SAASoF,iBAAiB,QAASkE,IAC5B,WACLtJ,SAASqF,oBAAoB,QAASiE,QAKxC,kBAAC9D,GAAD,CAAWC,MAAOA,GAChB,kBAAC,GAAD,CAAS3iB,KAAM8jB,EAAU4C,QAAQ,EAAM/D,MAAOA,GAC5C,kBAACC,GAAD,CACEE,OAAQH,EACRv9B,KAAM,OACN+uB,IAAKmS,EACLK,YACEhE,EACI,GACA0B,EACA,YACAD,EACA,oBACAD,EACA,6BACA,qCAEN5+B,MAAOA,EACPqhC,SAAU,SAAAzO,GACR6L,EAAS7L,EAAEzsB,OAAOnG,QAEpBshC,QAAS,WACF/C,GACHC,GAAW,MAIfD,EAAiC,kBAACb,GAAD,CAAWlO,QAAS,kBAAMgP,GAAW,MAA3D,kBAAChB,GAAD,OAEf,kBAACI,GAAD,CAAMC,MAAOU,EAAU3P,IAAKoS,IAC1B,kBAACjD,GAAD,KACE,kBAACC,GAAD,eAEF,6BACGyC,GAA6D,IAAzCtvB,OAAOC,KAAKqvB,GAAkBn1B,QACjD,kBAACwyB,GAAD,KACE,kBAACn4B,EAAD,oBAGH86B,GACCA,EAAiBzvB,MAAM,EAAG4vB,GAAY94B,KAAI,SAAAqB,GAAS,IAAD,MAShD,MARyB,gDAAjB,OAAJA,QAAI,IAAJA,OAAA,YAAAA,EAAMoJ,cAAN,eAAcqD,MAChBzM,EAAKoJ,OAAO3H,KAAO,gBACnBzB,EAAKoJ,OAAO7P,OAAS,OAEC,gDAAhB,OAAJyG,QAAI,IAAJA,OAAA,EAAAA,EAAMuJ,OAAOkD,MACfzM,EAAKuJ,OAAO9H,KAAO,gBACnBzB,EAAKuJ,OAAOhQ,OAAS,OAGrB,kBAACknB,GAAD,CAAWwI,GAAI,SAAWjpB,EAAKyM,GAAI7V,IAAKoJ,EAAKyM,GAAI4Z,QAASsR,GACxD,kBAAChD,GAAD,KACE,kBAACpS,GAAD,CAAiBC,GAAE,OAAExiB,QAAF,IAAEA,OAAF,YAAEA,EAAMoJ,cAAR,aAAE,EAAcqD,GAAIgW,GAAE,OAAEziB,QAAF,IAAEA,OAAF,YAAEA,EAAMuJ,cAAR,aAAE,EAAckD,GAAIiW,QAAQ,IACrE,kBAAClmB,EAAD,CAAWoO,MAAO,CAAEwb,WAAY,SAC7BpmB,EAAKoJ,OAAO7P,OAAS,IAAMyG,EAAKuJ,OAAOhQ,OAD1C,cAOV,kBAACq7B,GAAD,CACEF,OAAQ1sB,OAAOC,KAAKqvB,GAAkBn1B,OAAS,GAAK6F,OAAOC,KAAKqvB,GAAkBn1B,QAAUs1B,IAE5F,kBAAC3C,GAAD,CACEzO,QAAS,WACPqR,EAAcD,EAAa,KAF/B,iBASJ,kBAAC7C,GAAD,KACE,kBAACC,GAAD,gBAEF,6BAC6C,IAA1C7sB,OAAOC,KAAK+uB,GAAmB70B,QAC9B,kBAACwyB,GAAD,KACE,kBAACn4B,EAAD,oBAGHw6B,EAAkBnvB,MAAM,EAAG0vB,GAAa54B,KAAI,SAAAiY,GAC3C,OACE,kBAAC6J,GAAD,CAAWwI,GAAI,UAAYrS,EAAMnK,GAAI7V,IAAKggB,EAAMnK,GAAI4Z,QAASsR,GAC3D,kBAAChD,GAAD,KACE,kBAACtV,GAAD,KACE,kBAACyC,GAAD,CAAW9oB,QAAS4d,EAAMnK,GAAI7B,MAAO,CAAEke,YAAa,UACpD,kBAAC,GAAD,CAAe9C,KAAMpP,EAAMnV,KAAMilB,cAAe,GAAI9b,MAAO,CAAEke,YAAa,SAF5E,IAGG,kBAAC,GAAD,CAAe9C,KAAMpP,EAAMrd,OAAQmtB,cAAe,IAHrD,UAUR,kBAACkO,GAAD,CACEF,OAAQ1sB,OAAOC,KAAK+uB,GAAmB70B,OAAS,GAAK6F,OAAOC,KAAK+uB,GAAmB70B,QAAUo1B,IAE9F,kBAACzC,GAAD,CACEzO,QAAS,WACPmR,EAAeD,EAAc,KAFjC,oB,+1CCngBZ,IAAMa,GAAcvY,cAAH,MA8DFwY,GA9CD/7B,kBAAOg8B,IAAPh8B,CAAH,MAEW,qBAAG9C,MAAkByB,cAQrB,qBAAGzB,MAAkBoB,OAG3B,qBAAG29B,OAAqB,aACxB,gBAAGA,EAAH,EAAGA,MAAO/+B,EAAV,EAAUA,MAAV,OAAsB++B,GAAS,YAAc/+B,EAAMsB,OAG/D,SAAA2B,GAAK,OAAIA,EAAML,YAAN,4BAAyCK,EAAMjD,MAAMyB,WAArD,QAET,SAAAwB,GAAK,OAAKA,EAAMosB,KAAN,qBAA2BpsB,EAAMosB,KAAjC,KAA2C,QAErD,SAAApsB,GAAK,OACLA,EAAM+7B,SACN3Y,cADA,SAYA,SAAApjB,GAAK,OACLA,EAAMg8B,SACN5Y,cADA,SAQA,SAAApjB,GAAK,OAAKA,EAAMi8B,MAAQN,M,sNCrD5B,IAAMO,GAAYr8B,kBAAO+7B,GAAP/7B,CAAH,MAOO,qBAAG9C,MAAkBkB,OAG3C,SAASk+B,GAAcC,GACrB,OAAIA,EAAa,IACR,MACK/vB,WAAwB,IAAb+vB,GAAkB5tB,QAAQ,GAAK,IAG3C,SAAS6tB,KACtB,IAAMC,EAAUpnB,GAAY,8CACtBqnB,EAAWrnB,GAAY,8CACvBsnB,EAAWtnB,GAAY,8CAEvB0F,EAAiBrf,mBAAQ,WAC7B,OAAO+gC,GAAWC,GAAYC,EAC1BF,EAAQ5pB,kBAAoB6pB,EAAS7pB,kBAAoB8pB,EAAS9pB,kBAClE,IACH,CAAC4pB,EAASC,EAAUC,IAEjBC,EAAYH,EAAUjwB,WAAWiwB,EAAQ9nB,aAAahG,QAAQ,GAAK,IACnEkuB,EAAaH,EAAWlwB,WAAWkwB,EAAS7nB,aAAalG,QAAQ,GAAK,IACtEmuB,EAAaH,EAAWnwB,WAAWmwB,EAAShoB,aAAahG,QAAQ,GAAK,IAE5E,OACE,kBAAC0tB,GAAD,KACE,kBAACpZ,GAAD,CAAYH,IAAI,QACd,kBAACC,GAAD,KACE,kBAAC7iB,EAAD,iBAAqBsO,GAAaouB,GAAW,IAC7C,kBAAC18B,EAAD,CAAYoO,MAAO,CAAEwb,WAAY,SAC9B2S,GAAW1hB,EAAiBuhB,GAAcG,EAAQ5pB,kBAAoBkI,GAAkB,MAG7F,kBAACgI,GAAD,KACE,kBAAC7iB,EAAD,kBAAsBsO,GAAaquB,GAAY,IAC/C,kBAAC38B,EAAD,CAAYoO,MAAO,CAAEwb,WAAY,SAC9B4S,GAAY3hB,EAAiBuhB,GAAcI,EAAS7pB,kBAAoBkI,GAAkB,MAG/F,kBAACgI,GAAD,KACE,kBAAC7iB,EAAD,kBAAsBsO,GAAasuB,GAAY,IAC/C,kBAAC58B,EAAD,CAAYoO,MAAO,CAAEwb,WAAY,SAC9B6S,GAAY5hB,EAAiBuhB,GAAcK,EAAS9pB,kBAAoBkI,GAAkB,Q,uNChDvG,IAAMgiB,GAAS/8B,UAAOO,IAAV,MAMNy8B,GAASh9B,UAAO2kB,KAAV,MAIG,SAASsY,KACtB,IAAMC,EAAY7R,aAAS,uBACrB8R,EAAY9R,aAAS,uBACrB+R,EAAY/R,aAAS,uBACrBgS,EAAWhS,aAAS,sBACpBiS,EAAWjS,aAAS,sBALU,EAOM9R,oBAAS,GAPf,mBAO7BgkB,EAP6B,KAOdC,EAPc,OASenkB,KAA3C9G,EAT4B,EAS5BA,gBAAiB+E,EATW,EASXA,WAAYmmB,EATD,EASCA,UATD,EAUjBvoB,KAAZ/H,EAV6B,oBAW9BuwB,EAAoBvwB,EAAWqB,GAAarB,GAAU,GAAQ,IAC9DwwB,EAAaprB,EAAkB/D,GAA+B,KAAlB+D,GAAyB,GAAQ,GAEnF,OACE,kBAACwqB,GAAD,KACE,kBAACpa,GAAD,CAAYrU,MAAO,CAAEiU,QAAS+a,EAAW,SAAW,UAClD,kBAACva,GAAD,MACIsa,GACA,kBAACn9B,EAAD,CACE09B,GAAI,OACJ5T,aAAc,WACZwT,GAAiB,IAEnBvT,aAAc,WACZuT,GAAiB,IAEnBlvB,MAAO,CAAEuO,SAAU,aARrB,cAUa,kBAACmgB,GAAD,KAASU,GACnBH,GAAiB,kBAACf,GAAD,QAIpBW,GACA,kBAACj9B,EAAD,CAAW09B,GAAI,QAAf,uBACsB,kBAACZ,GAAD,KAAS9yB,GAAYoN,MAG3C8lB,GACA,kBAACl9B,EAAD,CAAW09B,GAAI,QAAf,UACS,kBAACZ,GAAD,KAAS9yB,GAAYuzB,MAG9BP,GACA,kBAACh9B,EAAD,CAAW09B,GAAI,QAAf,eACc,kBAACZ,GAAD,KAASW,GADvB,W,ybCvCZ,IAAME,GAAc79B,kBAAO4iB,GAAP5iB,CAAH,MAWX89B,GAAU99B,UAAOO,IAAV,MA0HE0qB,qBAjHf,WAEE,IAAM7Z,EAAWmE,KACXS,EAAY0G,KACZtM,E1BuiBD,WAAkC,IAAD,EACEsF,KADF,mBAC/Bvb,EAD+B,KACtB+b,EADsB,KACtBA,mBACV9F,EAAY,OAAGjW,QAAH,IAAGA,OAAH,EAAGA,EAAOiW,aAU5B,OATAxU,qBAAU,WAAM,4CACd,4BAAA4E,EAAA,yDACO4P,EADP,gCAEqBmI,KAFrB,OAEQlI,EAFR,OAGI6F,EAAmB7F,GAHvB,4CADc,uBAAC,WAAD,wBAOdiF,KACC,CAACY,EAAoB9F,IACjBA,E0BnjBc2tB,GAJD,EAKgE1kB,KAA5E7B,EALY,EAKZA,kBAAmBjF,EALP,EAKOA,gBAAiBC,EALxB,EAKwBA,gBAAiBO,EALzC,EAKyCA,mBAGvDikB,EAAW3L,aAAS,sBAW1B,OAPAzvB,qBAAU,WACRs2B,SAAS8L,cAAc,QAAQC,SAAS,CACtCC,SAAU,SACVhL,IAAK,MAEN,IAGD,kBAACxO,GAAD,KACE,kBAACpkB,EAAD,CAAkB9C,gBAAiB+pB,aAAe,GAAK,aACvD,kBAACxC,GAAD,KACE,6BACE,kBAAC9B,GAAD,CAAYH,IAAI,OAAOxU,MAAO,CAAE6vB,cAAenH,EAAW,IAAM,SAC9D,kBAAC92B,EAAD,KAAmB82B,EAAW,qBAAuB,8BACrD,kBAAC,GAAD,MACA,kBAACiG,GAAD,OAEDjG,GACC,kBAAC,IAAD,CAAKoH,GAAI,IACP,kBAAC,GAAD,KACE,kBAAC,IAAD,KACE,kBAACnb,GAAD,CAAYH,IAAI,QACd,kBAACG,GAAD,CAAYH,IAAI,QACd,kBAACH,GAAD,KACE,kBAACziB,EAAD,uBACA,+BAEF,kBAACyiB,GAAD,CAAYL,MAAM,YAChB,kBAACpiB,EAAD,CAAWG,SAAU,SAAUg+B,WAAY,EAAGj+B,WAAY,KACvDoO,GAAa+D,GAAiB,IAEjC,kBAACrS,EAAD,CAAWG,SAAU,IAAK0O,GAAiByD,MAG/C,kBAACyQ,GAAD,CAAYH,IAAI,QACd,kBAACH,GAAD,KACE,kBAACziB,EAAD,wBACA,+BAEF,kBAACyiB,GAAD,CAAYL,MAAM,YAChB,kBAACpiB,EAAD,CAAWG,SAAU,SAAUg+B,WAAY,EAAGj+B,WAAY,KACvDoO,GAAagJ,GAAmB,IAEnC,kBAACtX,EAAD,CAAWG,SAAU,IAAK0O,GAAiBgE,WAQvDikB,GACA,kBAAC8G,GAAD,KACE,kBAAC,GAAD,CAAOxvB,MAAO,CAAEgV,OAAQ,OAAQgb,UAAW,UACzC,kBAAC,GAAD,CAAa3J,QAAQ,eAEvB,kBAAC,GAAD,CAAOrmB,MAAO,CAAEgV,OAAQ,SACtB,kBAAC,GAAD,CAAaqR,QAAQ,aAI1BqC,GACC,kBAAC/T,GAAD,CAAY3U,MAAO,CAAEiwB,UAAW,OAASzb,IAAI,QAC3C,kBAAC,GAAD,CAAOxU,MAAO,CAAEgV,OAAQ,OAAQgb,UAAW,UACzC,kBAAC,GAAD,CAAa3J,QAAQ,gBAI3B,kBAACkJ,GAAD,CAAa/a,IAAI,OAAOxU,MAAO,CAAEiwB,UAAW,OAAQC,aAAc,UAChE,kBAAC7b,GAAD,KACE,kBAACziB,EAAD,CAAWG,SAAU,YAArB,cACA,kBAAC0jB,GAAD,CAAY4I,GAAI,WAAhB,aAGJ,kBAAC,GAAD,CAAOre,MAAO,CAAEiwB,UAAW,MAAOhc,QAAS,gBACzC,kBAAC,GAAD,CAAcxZ,OAAQiN,KAExB,kBAAC6nB,GAAD,CAAa/a,IAAI,OAAOxU,MAAO,CAAEiwB,UAAW,OAAQC,aAAc,UAChE,kBAAC7b,GAAD,KACE,kBAACziB,EAAD,CAAWG,SAAU,QAArB,aACA,kBAAC0jB,GAAD,CAAY4I,GAAI,UAAhB,aAGJ,kBAAC,GAAD,CAAOre,MAAO,CAAEiwB,UAAW,MAAOhc,QAAS,gBACzC,kBAAC,GAAD,CAAUhf,MAAO6N,KAGnB,8BACE,kBAAClR,EAAD,CAAWG,SAAU,WAAYiO,MAAO,CAAEiwB,UAAW,SAArD,iBAIF,kBAAC,GAAD,CAAOjwB,MAAO,CAAE8X,OAAQ,WACtB,kBAAC,GAAD,CAAShW,aAAcA,W,gWC9InC,IAAMiU,GAAcrkB,UAAOO,IAAV,MAGN,qBAAGrD,MAAkBY,SAgMjB2gC,GAhLU,SAAC,GAOnB,IANLr2B,EAMI,EANJA,KACAqkB,EAKI,EALJA,MAKI,IAJJnJ,cAII,MAJK,IAIL,EAHJkO,EAGI,EAHJA,KAGI,IAFJpL,cAEI,aADJsY,sBACI,MADa,SAAAv0B,GAAG,OAAIqE,GAAarE,GAAK,IACtC,EAEEgf,EAAML,mBAENwJ,EAAa,OAAGlqB,QAAH,IAAGA,OAAH,EAAGA,EAAM/F,KAAI,SAAA+V,GAC9B,MAAO,CACL5D,KAAMhI,WAAW4L,EAAM9V,WACvB0S,KAAMxI,WAAW4L,EAAMpD,MACvB2pB,IAAKnyB,WAAW4L,EAAMpD,MACtBC,MAAOzI,WAAW4L,EAAMnD,OACxB2pB,KAAMpyB,WAAW4L,EAAMnD,WAIvBqd,GAAiBA,EAAczsB,OAAS,GAC1CysB,EAAcrmB,KAAK,CACjBuI,KAAM1N,OAAQ8C,OACdoL,KAAMxI,WAAW8lB,EAAcA,EAAczsB,OAAS,GAAGoP,OACzDA,MAAOzI,WAAWglB,GAClBmN,IAAK5iC,KAAK8iC,IAAIryB,WAAWglB,GAAOhlB,WAAW8lB,EAAcA,EAAczsB,OAAS,GAAGoP,QACnF2pB,KAAM7iC,KAAK+iC,IAAItyB,WAAWglB,GAAOhlB,WAAW8lB,EAAcA,EAAczsB,OAAS,GAAGoP,UApBpF,MAyBoCsE,oBAAS,GAzB7C,mBAyBGsY,EAzBH,KAyBiBC,EAzBjB,KA0BEC,EAAWC,aAAY5pB,GA1BzB,EA4BejM,IAAZgB,EA5BH,oBA6BEG,EAAYH,EAAW,QAAU,QACjCq1B,EAAgBR,aAAY70B,GA6HlC,OA1HAvB,qBAAU,WACR,GAAIi2B,GAAgBW,IAAkBr1B,EAAU,CAE9C,IAAI80B,EAAUC,SAASC,eAAe,cAC3BD,SAASC,eAAe,WAC9BC,YAAYH,GACjBJ,EAAaQ,OAAO,EAAG,GACvBP,OAED,CAACD,EAAc10B,EAAUq1B,IAE5B52B,qBAAU,WACR,GAAIwM,IAAS2pB,GAAYF,EAAc,CAErC,IAAII,EAAUC,SAASC,eAAe,cAC3BD,SAASC,eAAe,WAC9BC,YAAYH,GACjBJ,EAAaQ,OAAO,EAAG,GACvBP,OAED,CAACD,EAAczpB,EAAM2pB,IAGxBn2B,qBAAU,WACR,IAAKi2B,EAAc,KAoDRY,EAAT,WACEC,EAAQC,UAAYnB,EAChB,+DAAwDl0B,EAAxD,MAAwEohC,EAAelN,GAAQ,SAC/F,IAtDAqB,EAAQC,aAAY3J,EAAI9X,QAAS,CACrCob,MAAOA,EACPnJ,OAAQA,EACRyP,OAAQ,CACNv1B,gBAAiB,cACjBF,UAAWA,GAEbg2B,KAAM,CACJG,UAAW,CACTr2B,MAAO,4BAETm2B,UAAW,CACTn2B,MAAO,6BAGXs2B,UAAW,CACTqL,KAAMC,KAAcC,QAEtBjM,gBAAiB,CACfkM,YAAa,2BACb1L,SAAS,GAEXH,UAAW,CACT6L,YAAa,4BAEfpL,aAAc,CACZ3lB,eAAgB,SAAAhE,GAAG,OAAIqE,GAAarE,OAIpCg1B,EAAetM,EAAMuM,qBAAqB,CAC5CC,QAAS,QACTC,UAAW,MACXC,gBAAiB,MACjBC,cAAe,QACfC,cAAe,MACfC,YAAa,UAGfP,EAAa5K,QAAQjC,GAErB,IAAII,EAAUR,SAASsC,cAAc,OACrC9B,EAAQ+B,aAAa,KAAM,cAC3B/B,EAAQrJ,UAAY,oBACpBF,EAAI9X,QAAQqjB,YAAYhC,GACxBA,EAAQpkB,MAAMqmB,QAAU,QACxBjC,EAAQpkB,MAAMsmB,MAAQxO,EAAS,IAAM,IAAM,KAC3CsM,EAAQpkB,MAAM4kB,IAAM,OACpBR,EAAQpkB,MAAM9Q,gBAAkB,cAQhCi1B,IAGAI,EAAMiC,wBAAuB,SAASC,GACpC,QACYz5B,IAAVy5B,QACez5B,IAAfy5B,EAAMvgB,MACNugB,EAAMC,MAAMC,EAAI,GAChBF,EAAMC,MAAMC,EAAIxI,GAChBsI,EAAMC,MAAME,EAAI,GAChBH,EAAMC,MAAME,EAAI5R,EAEhBmP,QACK,CACL,IAAI8C,EAAQR,EAAMS,aAAaC,IAAI0J,GAAclqB,MAC3CT,EAAO1N,KAAM8C,KAAKmrB,EAAMvgB,MAAMnK,OAAO,gBAC3CqoB,EAAQC,UACN,+DAAwDr1B,EAAxD,MACAohC,EAAenJ,GADf,gEAEyDj4B,EAFzD,MAGAkX,EACA,wBAMNqe,EAAMQ,YAAYqC,aAElB5D,EAAgBe,MAEjB,CAAChB,EAAcS,EAAe7F,EAAOnJ,EAAQob,EAAgBlN,EAAMpL,EAAQ9oB,IAG9E1B,qBAAU,WACJ6wB,IACFoF,GAAgBA,EAAaQ,OAAO5F,EAAOnJ,GAC3CuO,GAAgBA,EAAawB,YAAYsC,iBAAiB,MAE3D,CAAC9D,EAAcvO,EAAQmJ,IAGxB,6BACE,yBAAKtD,IAAKA,EAAKhZ,GAAG,YAClB,kBAAC,GAAD,KACE,kBAAC,KAAD,CACE4Z,QAAS,WACP8H,GAAgBA,EAAawB,YAAYqC,mB,mSClLrD,IAAMiK,GAAe3/B,UAAOO,IAAV,MASZq/B,GAAc5/B,kBAAOm2B,GAAPn2B,CAAH,MAIXo2B,GAAa,CACjBC,OAAQ,SACRC,UAAW,YACX7I,MAAO,QACPoS,WAAY,gBAGRC,GACC,MADDA,GAEE,OAFFA,GAGE,OA4WOC,GAzWI,SAAC,GAA8B,IAAD,MAA3BrjC,EAA2B,EAA3BA,QAASU,EAAkB,EAAlBA,MAAOo0B,EAAW,EAAXA,KAAW,EAETjY,mBAAS6c,GAAW3I,OAFX,mBAExCuS,EAFwC,KAE3BC,EAF2B,OAGb1mB,mBAASumB,IAHI,mBAGxCI,EAHwC,KAG7BC,EAH6B,OAK5BhkC,IACbmB,EANyC,oBAMlB,QAAU,QAGjC8iC,EAAcpO,aAAYt1B,GAChCd,qBAAU,WACJc,IAAY0jC,GAAeA,GAC7BH,EAAe7J,GAAWE,aAE3B,CAAC55B,EAAS0jC,IAEb,IAAI9vB,E3BgmBC,SAA2B9N,GAAe,IAAD,IACT4X,KADS,mBACvCjgB,EADuC,KAC9BuW,EAD8B,KAC9BA,gBACVJ,EAAS,OAAGnW,QAAH,IAAGA,OAAH,YAAGA,EAAQqI,UAAX,aAAG,EAAuB8N,UAUzC,OATA1U,qBAAU,WAAM,4CACd,4BAAA4E,EAAA,yDACO8P,EADP,gCAEqBwL,GAAkBtZ,GAFvC,OAEQ4F,EAFR,OAGIsI,EAAgBlO,EAAc4F,GAHlC,4CADc,uBAAC,WAAD,wBAOdi4B,KACC,CAAC/vB,EAAW9N,EAAckO,IACtBJ,E2B5mBSgwB,CAAkB5jC,GAhBa,EAkBX6c,mBAAShY,EAAiBC,MAlBf,mBAkBxC+H,EAlBwC,KAkB5Bg3B,EAlB4B,KAmBzCC,EAAaxO,aAAYzoB,GAGzBk3B,EAAalkB,GAAkB7f,EAAS6E,EAAiBC,KAAM,MAC/Dk/B,EAAcnkB,GAAkB7f,EAAS6E,EAAiBE,MAAO,MACjEk/B,EAAYpkB,GAAkB7f,EAAS6E,EAAiBG,SAAU,MAClEk/B,EAAYrkB,GAAkB7f,EAAS6E,EAAiBC,KAAM,OAC9Dq/B,EAAatkB,GAAkB7f,EAAS6E,EAAiBE,MAAO,OAChEq/B,EAAWvkB,GAAkB7f,EAAS6E,EAAiBG,SAAU,OAEjEq/B,EACJx3B,IAAehI,EAAiBE,MAE5By+B,IAAcJ,GACZe,EACAH,EAEJn3B,IAAehI,EAAiBC,KAC9B0+B,IAAcJ,GACZc,EACAH,EAEJP,IAAcJ,GACZgB,EACAH,EAGN/kC,qBAAU,WACJ2N,IAAehI,EAAiBC,MAAQg/B,GAAcA,IAAej/B,EAAiBC,MACxF2+B,EAAaL,MAEd,CAACU,EAAYj3B,IAGhB3N,qBAAU,WACJ2N,IAAehI,EAAiBE,OAAS++B,GAAcA,IAAej/B,EAAiBE,OACzF0+B,EAAaL,IAEXv2B,IAAehI,EAAiBG,UAAY8+B,GAAcA,IAAej/B,EAAiBG,UAC5Fy+B,EAAaL,MAEd,CAACU,EAAYj3B,IAEhB,IAAMgiB,EAAYF,aAAS,uBACrBD,EAAWC,aAAS,sBAEtB7hB,EAAeF,GAAaC,GAC1By3B,EAAS,CAAC,SAAAC,GAAO,OAAKA,EAAUz3B,EAAey3B,EAAUz3B,GAAe,WACxEguB,EAASjM,EAAY,MAAUH,EAAW,GAAK,GAAK,GAAK,GAE/D9a,EAAS,UAAGA,SAAH,aAAG,EAAWmE,QAAO,SAAA2D,GAAK,OAAIA,EAAM1N,MAAQlB,KAGrD,IAAM2f,EAAML,mBACNmO,EAA6B,kBAAXj8B,OAzEuB,EA0ErBue,mBAAQ,OAAC4P,QAAD,IAACA,OAAD,YAACA,EAAK9X,eAAN,uBAAC,EAAc6lB,iBAAf,aAAC,EAAyBC,aA1Eb,mBA0ExC1K,EA1EwC,KA0EjC2K,EA1EiC,KAsF/C,OAXAx7B,qBAAU,WACR,IAAKq7B,EACH,OAAO,EAET,SAASI,IAAgB,IAAD,MACtBD,EAAQ,iBAACjO,QAAD,IAACA,OAAD,YAACA,EAAK9X,eAAN,uBAAC,EAAc6lB,iBAAf,aAAC,EAAyBC,mBAA1B,QAAyC1K,GAGnD,OADAzxB,OAAOs8B,iBAAiB,SAAUD,GAC3B,kBAAMr8B,OAAOu8B,oBAAoB,SAAUF,MACjD,CAACJ,EAAUxK,IAGZ,kBAACkT,GAAD,KACGvU,EACC,kBAACzI,GAAD,CAAYyb,GAAI,IACd,kBAAC,GAAD,CAAgB9V,QAAS8N,GAAY/H,OAAQ2R,EAAa1R,UAAW2R,EAAgB7iC,MAAOA,IAC5F,kBAAC,GAAD,CAAgBkrB,QAAS/mB,EAAkB8sB,OAAQ9kB,EAAY+kB,UAAWiS,EAAenjC,MAAOA,KAGlG,kBAACulB,GAAD,CACEyb,GACE4B,IAAgB5J,GAAWE,WAC3B0J,IAAgB5J,GAAWC,QAC1B2J,IAAgB5J,GAAW3I,OAASyS,IAAcJ,GAC/C,GACA,EAENxd,MAAM,cAEN,kBAACW,GAAD,CAAYH,IAAI,OACd,kBAACC,GAAD,KACE,kBAACoT,GAAD,CACE9H,OAAQ2R,IAAgB5J,GAAWE,UACnCvM,QAAS,kBAAMkW,EAAe7J,GAAWE,YACzChoB,MAAO,CAAEke,YAAa,QAHxB,aAOA,kBAAC2J,GAAD,CACE9H,OAAQ2R,IAAgB5J,GAAWC,OACnCtM,QAAS,kBAAMkW,EAAe7J,GAAWC,SACzC/nB,MAAO,CAAEke,YAAa,QAHxB,UAOA,kBAAC2J,GAAD,CACE9H,OAAQ2R,IAAgB5J,GAAW3I,MACnC1D,QAAS,WACPkW,EAAe7J,GAAW3I,SAH9B,UASDuS,IAAgB5J,GAAW3I,OAC1B,kBAAC7K,GAAD,CAASE,IAAI,OACX,kBAAC8c,GAAD,CACEvR,OAAQ6R,IAAcJ,GACtB/V,QAAS,WACPwW,EAAch/B,EAAiBE,OAC/B0+B,EAAaL,MAJjB,KASA,kBAACF,GAAD,CACEvR,OAAQ6R,IAAcJ,GACtB/V,QAAS,kBAAMoW,EAAaL,MAF9B,KAMA,kBAACF,GAAD,CACEvR,OAAQ6R,IAAcJ,GACtB/V,QAAS,kBAAMoW,EAAaL,MAE5B,kBAAC,KAAD,CAAUxa,KAAM,QAKxB,kBAAC1C,GAAD,CAASF,QAAQ,WAAWI,IAAI,MAAMR,MAAM,cAC1C,kBAAC6T,GAAD,CACE9H,OAAQ9kB,IAAehI,EAAiBC,KACxCuoB,QAAS,kBAAMwW,EAAch/B,EAAiBC,QAFhD,MAMA,kBAAC20B,GAAD,CACE9H,OAAQ9kB,IAAehI,EAAiBE,MACxCsoB,QAAS,kBAAMwW,EAAch/B,EAAiBE,SAFhD,MAMA,kBAAC00B,GAAD,CACE9H,OAAQ9kB,IAAehI,EAAiBG,SACxCqoB,QAAS,kBAAMwW,EAAch/B,EAAiBG,YAFhD,SASLs+B,IAAgB5J,GAAWE,WAAahmB,GACvC,kBAAC,KAAD,CAAqBknB,OAAQA,GAC3B,kBAAC,KAAD,CAAWpR,OAAQ,CAAE8M,IAAK,EAAGgO,MAAO,GAAI/N,OAAQ,EAAGyB,KAAM,GAAKuM,eAAgB,EAAG/4B,KAAMkI,GACrF,8BACE,oCAAgBH,GAAG,UAAUixB,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,KACnD,0BAAMhZ,OAAO,KAAKiZ,UAAWpkC,EAAOqkC,YAAa,MACjD,0BAAMlZ,OAAO,MAAMiZ,UAAWpkC,EAAOqkC,YAAa,MAGtD,kBAAC,KAAD,CACEC,UAAU,EACVC,UAAU,EACVpnB,SAAS,cACTqnB,WAAY,GACZC,WAAY,IACZC,cAAe,SAAA/Y,GAAI,OAAIte,GAAWse,IAClCgZ,QAAQ,OACRhZ,KAAM,CAAE1F,KAAM/lB,GACdlD,KAAM,SACN4mC,OAAQ,CAAC,UAAW,aAEtB,kBAAC,KAAD,CACE5mC,KAAK,SACL4nC,YAAY,QACZF,cAAe,SAAA/Y,GAAI,MAAI,IAAM/a,GAAI+a,IACjC4Y,UAAU,EACVD,UAAU,EACVnnB,SAAS,cACTsnB,WAAY,GACZI,QAAS,EACTlZ,KAAM,CAAE1F,KAAM/lB,KAEhB,kBAAC,KAAD,CACE4kC,QAAQ,EACRC,UAAW,SAAAh4B,GAAG,OAAIqE,GAAarE,GAAK,IACpCi4B,eAAgB,SAAAC,GAAK,OAAI10B,GAAe00B,IACxCC,WAAY,CAAEC,WAAY,GAC1BC,aAAc,CACZjgB,QAAS,YACTE,aAAc,GACdyc,YAAa9hC,EACbA,MAAO,SAETqlC,aAAc,CAAEvP,KAAM,GAAI0B,MAAO,MAEnC,kBAAC,KAAD,CACEt6B,IAAK,QACLynC,QAAS,oBACTW,QAAQ,IACRC,YAAa,EACbC,KAAK,EACLxoC,KAAK,WACL+K,KAAM,YACN88B,QAAS,EACTY,OAAQ3e,aAAO,IAAM9mB,GACrBimB,KAAK,oBAKZ2c,IAAgB5J,GAAW3I,QACzByS,IAAcJ,GACb,kBAAC,KAAD,CAAqBtI,OAAQjM,EAAY,MAAU,MACjD,kBAAC,KAAD,CAAWnF,OAAQ,CAAE8M,IAAK,EAAGgO,MAAO,GAAI/N,OAAQ,EAAGyB,KAAM,GAAKuM,eAAgB,EAAG/4B,KAAMkI,GACrF,8BACE,oCAAgBH,GAAG,UAAUixB,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,KACnD,0BAAMhZ,OAAO,KAAKiZ,UAAWpkC,EAAOqkC,YAAa,MACjD,0BAAMlZ,OAAO,MAAMiZ,UAAWpkC,EAAOqkC,YAAa,MAGtD,kBAAC,KAAD,CACEC,UAAU,EACVC,UAAU,EACVpnB,SAAS,cACTqnB,WAAY,GACZC,WAAY,IACZC,cAAe,SAAA/Y,GAAI,OAAIte,GAAWse,IAClCgZ,QAAQ,OACRhZ,KAAM,CAAE1F,KAAM/lB,GACdlD,KAAM,SACN4mC,OAAQA,IAEV,kBAAC,KAAD,CACE5mC,KAAK,SACL4nC,YAAY,QACZF,cAAe,SAAA/Y,GAAI,MAAI,IAAM/a,GAAI+a,IACjC4Y,UAAU,EACVD,UAAU,EACVnnB,SAAS,cACTsnB,WAAY,GACZI,QAAS,EACTlZ,KAAM,CAAE1F,KAAM/lB,KAEhB,kBAAC,KAAD,CACE4kC,QAAQ,EACRC,UAAW,SAAAh4B,GAAG,OAAIqE,GAAarE,GAAK,IACpCi4B,eAAgB,SAAAC,GAAK,OAAI10B,GAAe00B,IACxCC,WAAY,CAAEC,WAAY,GAC1BC,aAAc,CACZjgB,QAAS,YACTE,aAAc,GACdyc,YAAa9hC,EACbA,MAAO,SAETqlC,aAAc,CAAEvP,KAAM,GAAI0B,MAAO,MAEnC,kBAAC,KAAD,CACEt6B,IAAK,QACLynC,QAAS,WACTW,QAAQ,IACRC,YAAa,EACbC,KAAK,EACLxoC,KAAK,WACL+K,KAAM,QACN88B,QAAS,EACTY,OAAQ3e,aAAO,IAAM9mB,GACrBimB,KAAK,oBAIT0d,EACF,kBAAC,KAAD,CAAqBvJ,OAAQA,EAAQrO,IAAKA,GACxC,kBAAC,GAAD,CAAkB/gB,KAAM24B,EAAWtU,MAAOA,EAAO+E,KAAMA,KAGzD,kBAAC,GAAD,OAGHwO,IAAgB5J,GAAWC,QAC1B,kBAAC,KAAD,CAAqBmB,OAAQA,GAC3B,kBAAC,KAAD,CAAUpR,OAAQ,CAAE8M,IAAK,EAAGgO,MAAO,GAAI/N,OAAQ,EAAGyB,KAAM,IAAMuM,eAAgB,EAAG/4B,KAAMkI,GACrF,kBAAC,KAAD,CACEoxB,UAAU,EACVC,UAAU,EACVpnB,SAAS,cACTsnB,WAAY,GACZD,WAAY,GACZE,cAAe,SAAA/Y,GAAI,OAAIte,GAAWse,IAClCgZ,QAAQ,OACRhZ,KAAM,CAAE1F,KAAM/lB,GACdlD,KAAM,SACN4mC,OAAQ,CAAC,UAAW,aAEtB,kBAAC,KAAD,CACE5mC,KAAK,SACLunC,UAAU,EACVC,WAAY,GACZE,cAAe,SAAA/Y,GAAI,MAAI,IAAM/a,GAAI+a,IACjC2Y,UAAU,EACVM,YAAY,QACZznB,SAAS,cACTsnB,WAAY,GACZI,QAAS,EACTlZ,KAAM,CAAE1F,KAAM/lB,KAEhB,kBAAC,KAAD,CACE4kC,OAAQ,CAAE7e,KAAMjmB,EAAO0lC,QAAS,IAChCX,UAAW,SAAAh4B,GAAG,OAAIqE,GAAarE,GAAK,IACpCi4B,eAAgB,SAAAC,GAAK,OAAI10B,GAAe00B,IACxCC,WAAY,CAAEC,WAAY,GAC1BC,aAAc,CACZjgB,QAAS,YACTE,aAAc,GACdyc,YAAa9hC,EACbA,MAAO,SAETqlC,aAAc,CAAEvP,KAAM,GAAI0B,MAAO,MAEnC,kBAAC,KAAD,CACEx6B,KAAK,WACL+K,KAAM,SACN48B,QAAS,iBACT1e,KAAMjmB,EACN0lC,QAAS,MACTb,QAAS,EACTY,OAAQzlC,Q,4cCtYtB,IAAM2lC,GAAW/iC,UAAOO,IAAV,MAcRyiC,GAAwBhjC,UAAO2kB,KAAV,MAEvB,qBAAGznB,MAAkB+lC,iBAKV,SAASC,GAAT,GAAiC,IAAXC,EAAU,EAAVA,OAAU,ElBOxC,WAA0C,IAAhBC,EAAe,uDAAL,IAAK,EACd7pB,oBAAS,GADK,mBACvC8pB,EADuC,KAC7BC,EAD6B,KAGxCC,EAAa9nC,uBAAY,SAAAiuB,GAC7B,IAAM8Z,EAAUC,KAAK/Z,GACrB4Z,EAAYE,KACX,IAcH,OAZA5nC,qBAAU,WACR,GAAIynC,EAAU,CACZ,IAAMjL,EAAOsL,YAAW,WACtBJ,GAAY,KACXF,GAEH,OAAO,WACLO,aAAavL,OAGhB,CAACiL,EAAUC,EAAaF,IAEpB,CAACC,EAAUE,GkB1BYK,GADe,mBACtCP,EADsC,KAC5BQ,EAD4B,KAG7C,OACE,kBAACd,GAAD,CAAUhZ,QAAS,kBAAM8Z,EAAUV,KAChCE,EACC,kBAACL,GAAD,KACE,kBAACxe,GAAD,KACE,kBAAC,KAAD,CAAac,KAAM,SAIvB,kBAAC0d,GAAD,KACE,kBAACxe,GAAD,KACE,kBAAC,KAAD,CAAMc,KAAM,U,ogBC7BxB,IAAMwe,GAAiB9jC,UAAOO,IAAV,MAMP,qBAAG+mB,MAAoB,UAU9Byc,GAAoB/jC,kBAAOgkC,KAAPhkC,CAAH,MAMR,SAASikC,GAAT,GAAmD,EAAhC7pC,KAAiC,IAA3BktB,EAA0B,EAA1BA,KAAMuC,EAAoB,EAApBA,QACtCmN,GAD0D,EAAXt6B,QACpC2uB,aAAS,uBAEpB6Y,EAAclN,EAClB,6BACE,kBAAC,IAAD,CAAM52B,WAAY,IAAKi+B,WAAY,UAAW8F,GAAI,QAAlD,gMAIA,kBAAC,IAAD,CAAM/jC,WAAY,IAAKi+B,WAAY,UAAW8F,GAAI,QAAlD,sSAOF,kBAAC,IAAD,CAAM/jC,WAAY,IAAKi+B,WAAY,UAAW8F,GAAI,QAAlD,keASF,OACE,kBAACL,GAAD,CAAgBxc,KAAMA,GACpB,kBAACrE,GAAD,CAAYH,IAAI,OACd,kBAACC,GAAD,KACE,kBAACghB,GAAD,MACA,kBAAC,IAAD,CAAM3jC,WAAY,IAAKi+B,WAAY,UAAW+F,GAAI,QAAlD,uBAIDF,EACAlN,EACC,6BACE,kBAAC,GAAD,CAAO1oB,MAAO,CAAEiwB,UAAW,SACzB,kBAAC,GAAD,CACEn+B,WAAY,IACZi+B,WAAY,UACZjhC,MAAO,UACPozB,KAAM,sCACN9vB,OAAO,UALT,+BAUF,kBAACiiB,GAAD,CAAYrU,MAAO,CAAEiwB,UAAW,SAC9B,8BACA,kBAACrI,GAAD,CAAY94B,MAAO,UAAWkR,MAAO,CAAE+1B,SAAU,SAAWta,QAAS,kBAAMF,GAAQ,KAAnF,kBAMJ,kBAAClH,GAAD,CAAYrU,MAAO,CAAEiwB,UAAW,SAC9B,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEn+B,WAAY,IACZi+B,WAAY,UACZjhC,MAAO,UACPozB,KAAM,sCACN9vB,OAAO,UALT,+BAUF,kBAACw1B,GAAD,CAAY94B,MAAO,UAAWkR,MAAO,CAAE+1B,SAAU,SAAWta,QAAS,kBAAMF,GAAQ,KAAnF,mB,4sCCrEZ,IAAMya,GAAmBtkC,UAAOO,IAAV,MAIhBgkC,GAAevkC,UAAOO,IAAV,MAsBZikC,GAAqBxkC,UAAOO,IAAV,MA0BlBkkC,GAAkBzkC,UAAOO,IAAV,MACR,qBAAGqpB,UAA2B,SACvB,qBAAGA,UAA2B,UA8SnCqB,qBA3Sf,YAA0C,IAArBvuB,EAAoB,EAApBA,QAASgoC,EAAW,EAAXA,QAAW,EAenCtoB,GAAa1f,GAbfyT,EAFqC,EAErCA,GACAhL,EAHqC,EAGrCA,KACAlI,EAJqC,EAIrCA,OACAie,EALqC,EAKrCA,SACA3I,EANqC,EAMrCA,gBACAiF,EAPqC,EAOrCA,kBACAhF,EARqC,EAQrCA,gBACA+I,EATqC,EASrCA,eACAC,EAVqC,EAUrCA,eACAP,EAXqC,EAWrCA,eACAlI,EAZqC,EAYrCA,mBACAuE,EAbqC,EAarCA,WACAC,EAdqC,EAcrCA,UAGF3b,qBAAU,WACRs2B,SAAS8L,cAAc,QAAQC,SAAS,EAAG,KAC1C,IAGH,IAAMzgC,EAAkBkpB,GAASvW,EAAIlT,GAK/B0nC,EhC+YD,SAAwB9zB,GAAW,IAAD,EACvBb,KAAT7V,EADgC,sBAEpB+a,KAAZ/H,EAFgC,sBAIboM,oBAAS,GAJI,mBAIhCqrB,EAJgC,KAIzBC,EAJyB,OAKTtrB,mBAAS,IALA,mBAKhCurB,EALgC,KAKvBC,EALuB,KAiDvC,OAzCAnpC,qBAAU,WACJiV,IACFg0B,GAAS,GACTE,OAED,CAACl0B,IAEJjV,qBAAU,WAAM,4CACd,gCAAA4E,EAAA,6DACMwkC,EAAa,GACbC,EAAY,GAEhBp0B,EAASxO,IAAT,uCAAa,WAAMqB,GAAN,eAAAlD,EAAA,uDACPu2B,EADO,OACO58B,QADP,IACOA,OADP,EACOA,EAAQuJ,EAAKyM,KAI7B60B,EAAW/4B,KAAK8qB,GAFhBkO,EAAUh5B,KAAKvI,EAAKyM,IAHX,2CAAb,uDAJF,SAa0BS,GACtBq0B,EAAU5iC,KAAI,SAAAqB,GACZ,OAAOA,KAETyJ,GAjBJ,OAaM+3B,EAbN,OAmBEH,EAAWC,EAAWzxB,OAAO2xB,IAnB/B,4CADc,sBAsBV/3B,GAAY0D,GAAYA,EAAShL,OAAS,IAAMi/B,IAAYF,IAC9DC,GAAS,GAvBI,WAAD,wBAwBZM,MAED,CAACh4B,EAAUhT,EAAO0W,EAAU+zB,EAAOE,IAGpCA,GACAA,EAAQt+B,QAAO,SAACmL,EAAKC,GACnB,OAAO,eAAKD,EAAZ,sBAAkBC,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAKzB,GAAKyB,MAC3B,IgC9boBwzB,C9BshBpB,SAAuB5iC,GAAe,IAAD,IACN4X,KADM,mBACnCjgB,EADmC,KAC1BugB,EAD0B,KAC1BA,eACV2qB,EAAU,OAAGlrC,QAAH,IAAGA,OAAH,YAAGA,EAAQqI,UAAX,aAAG,kBAYnB,OAVA5G,qBAAU,WAAM,4CACd,4BAAA4E,EAAA,sEACuBmb,GAAcnZ,GADrC,OACM4O,EADN,OAEEsJ,EAAelY,EAAc4O,GAF/B,4CADc,uBAKTi0B,GAAcz3B,GAAUpL,IALd,WAAD,wBAMZ8S,KAED,CAAC9S,EAAc6iC,EAAY3qB,IAEvB2qB,GAAc,G8BviBJC,CAAc5oC,IAMzB0T,E9B2fD,SAA8B5N,GAAe,IAAD,IACZ4X,KADY,mBAC1CjgB,EAD0C,KACjCsgB,EADiC,KACjCA,gBACV8qB,EAAS,OAAGprC,QAAH,IAAGA,OAAH,YAAGA,EAAQqI,UAAX,aAAG,EAAuB6N,KAEnCqL,EACJvhB,EAAMqI,IACNrI,EAAMqI,GAAcgjC,iBACpBrrC,EAAMqI,GAAcgjC,gBAAgBnjC,KAAI,SAAAqB,GACtC,OAAOA,EAAKyM,MAahB,OAVAvU,qBAAU,WAAM,4CACd,4BAAA4E,EAAA,yDACO+kC,IAAa7pB,EADpB,gCAE6BD,GAAqBC,GAFlD,OAEQtL,EAFR,OAGIqK,EAAgBjY,EAAc4N,GAHlC,4CADc,uBAAC,WAAD,wBAOdq1B,KACC,CAACF,EAAW/iC,EAAciY,EAAiBiB,IAEvC6pB,GAAa,G8BhhBCG,CAAqBhpC,GAGpC64B,EAAQra,EAAW1M,GAAa0M,GAAU,GAAQ,GAClDjB,EAAcgB,EAAiBlM,GAAiBkM,GAAkB,GAGlEmR,EACJ7Z,GAAuC,IAApBA,EACf/D,GAAiC,IAApB+D,EAAwBgJ,EAAiBhJ,GAAiB,GACnD,IAApBA,EACA,KACA,IA1CiC,EA6CGgH,oBAAS,GA7CZ,mBA6ChCosB,EA7CgC,KA6CjBC,EA7CiB,KA8CvChqC,qBAAU,WACRgqC,EAAqC,IAApBrzB,KAChB,CAACA,IAEJ,IAAMszB,EAAe92B,GAAkB42B,EAAkCnqB,EAAlBhJ,GAGjD2Z,EAAY3U,EAAoBhJ,GAAagJ,GAAmB,GAA8B,IAAtBA,EAA0B,KAAO,IACzGsuB,EAAkB/2B,GAAiBgE,GAGnCgzB,EAAqBh3B,GAAiBwI,GAEtCgU,EAAYF,aAAS,uBACrB2L,EAAW3L,aAAS,sBACpBD,EAAWC,aAAS,sBACpB2a,EAAW3a,aAAS,sBAGpB4a,EAAS1a,EAAY,GAAK,GAC1B2a,GAAwB,OAANjpC,QAAM,IAANA,OAAA,EAAAA,EAAQ4I,QAASogC,EAAShpC,EAAOsO,MAAM,EAAG06B,GAAU,MAAQhpC,EAlE7C,EAoEFX,EAAiBooC,EAAQyB,SAASC,UApEhC,mBAoEhCC,EApEgC,KAoErBC,EApEqB,QAqEPtpC,IArEO,qBAqEhCupC,GArEgC,MAqEnBC,GArEmB,MAsEjCC,GAAeh+B,KASrB,OAPA7M,qBAAU,WACRZ,OAAOijC,SAAS,CACdC,SAAU,SACVhL,IAAK,MAEN,IAGD,kBAACxO,GAAD,KACE,kBAACpkB,EAAD,CAAkB9C,gBAAiB+pB,aAAe,GAAK/pB,KAEvD,kBAACymC,GAAD,CACE7pC,KAAM,QACNktB,MAAO+e,GAAaI,KAAiBA,GAAa3pB,SAASpgB,GAC3DmtB,QAASyc,EACT5pC,QAASA,IAEX,kBAACqoB,GAAD,KACE,kBAACpC,GAAD,CAAYrU,MAAO,CAAEo4B,SAAU,OAAQC,WAAY,UACjD,kBAAC/jB,GAAD,CAASN,MAAM,WAAWhU,MAAO,CAAEme,MAAO,gBACxC,kBAACvsB,EAAD,KACE,kBAACikB,GAAD,CAAWwI,GAAG,WAAW,WAD3B,UACoD1vB,EACjD,MAEH,kBAAC,GAAD,CACEqR,MAAO,CAAEme,MAAO,eAChBrvB,MAAOI,EACPqmB,UAAQ,EACR2M,KAAM,+BAAiC9zB,GAEvC,kBAAC,IAAD,CAAM4R,MAAO,CAAEwb,WAAY,UAAYzpB,SAAU,OAAQD,WAAY,KAArE,IACI1D,EAAQ6O,MAAM,EAAG,GAAK,MAAQ7O,EAAQ6O,MAAM,GAAI,IADpD,QAKF6f,GAAY,kBAAC,GAAD,CAAQuM,OAAO,KAG/B,kBAAC8M,GAAD,CAAiB7a,UAAWyc,GAAaI,KAAiBA,GAAa3pB,SAASpgB,IAC9E,kBAAC4nC,GAAD,CAAkBh2B,MAAO,CAAEiwB,UAAWhT,EAAY,IAAM,SACtD,kBAAC5I,GAAD,CAAYrU,MAAO,CAAEo4B,SAAU,OAAQlI,aAAc,OAAQvR,WAAY,eACvE,kBAAClK,GAAD,CAAUzU,MAAO,CAAEo4B,SAAU,SAC3B,kBAAC3jB,GAAD,CAAUzU,MAAO,CAAE2e,WAAY,aAC7B,kBAACzH,GAAD,CAAW9oB,QAASA,EAAS4oB,KAAK,OAAOhX,MAAO,CAAEs4B,UAAW,YAC7D,kBAAC1mC,EAAD,CAAWG,SAAUkrB,EAAY,SAAW,OAAQnrB,WAAY,IAAKkO,MAAO,CAAE8X,OAAQ,WACpF,kBAACrD,GAAD,CAAUD,IAAI,OACZ,kBAAC,GAAD,CAAe4G,KAAMvkB,EAAOA,EAAO,IAAM,GAAIilB,cAAe,GAAI9b,MAAO,CAAEke,YAAa,SAAY,IACjG0Z,EAAe,WAAOA,EAAP,KAA4B,KAEnC,KACX3a,GACA,oCACE,kBAACrrB,EAAD,CAAWG,SAAU,SAAUD,WAAY,IAAKkO,MAAO,CAAEke,YAAa,SACnE+I,GAEFtb,KAKT,8BACE,kBAAC8I,GAAD,CAAUqhB,GAAI4B,EAAW,IAAM,SAAU7B,GAAI6B,EAAW,OAAS,KAC3DO,GAAY7pC,IAAas6B,EAMxBzL,EAKH,qCAJA,kBAAC/G,GAAD,KACE,kBAAC,KAAD,CAAUlW,MAAO,CAAEke,YAAa,SAAUsW,QAAS,OAPrD,kBAAC,GAAD,CAAO/Y,QAAS,kBAAMyc,GAAS9pC,EAASO,KACtC,kBAACunB,GAAD,KACE,kBAAC,KAAD,CAAYlW,MAAO,CAAEke,YAAa,cAUxC,kBAAC,GAAD,CAAMgE,KAAM1mB,GAAYpN,GAAUgE,OAAO,UACvC,kBAACo1B,GAAD,CAAa14B,MAAOI,GAApB,oBAEF,kBAAC,GAAD,CAAMgzB,KAAMxmB,GAAYtN,GAAUgE,OAAO,UACvC,kBAACw1B,GAAD,CAAYkO,GAAI,QAASxG,GAAIrS,GAAa,QAASnuB,MAAOI,GAA1D,aAQR,oCACE,kBAAC+mC,GAAD,CAAcj2B,MAAO,CAAEiwB,UAAWhT,EAAY,IAAM,SACjDA,GAAagK,GACZ,kBAAC,GAAD,KACE,kBAACtS,GAAD,CAAYH,IAAI,QACd,kBAACH,GAAD,KACE,kBAACziB,EAAD,cACA,+BAEF,kBAACyiB,GAAD,CAAYL,MAAM,YACf,IACD,kBAACpiB,EAAD,CAAWG,SAAU,SAAUg+B,WAAY,EAAGj+B,WAAY,KACvDm1B,GAEH,kBAACr1B,EAAD,KAAY+Z,MAKpB,kBAAC,GAAD,KACE,kBAACgJ,GAAD,CAAYH,IAAI,QACd,kBAACH,GAAD,KACE,kBAACziB,EAAD,wBACA,+BAEF,kBAACyiB,GAAD,CAAYL,MAAM,YAChB,kBAACpiB,EAAD,CAAWG,SAAU,SAAUg+B,WAAY,EAAGj+B,WAAY,KACvD+rB,GAEH,kBAACjsB,EAAD,KAAY4lC,MAIlB,kBAAC,GAAD,KACE,kBAAC7iB,GAAD,CAAYH,IAAI,QACd,kBAACH,GAAD,KACE,kBAACziB,EAAD,uBAA2BylC,GAAiB,eAC5C,+BAEF,kBAAChjB,GAAD,CAAYL,MAAM,YAChB,kBAACpiB,EAAD,CAAWG,SAAU,SAAUg+B,WAAY,EAAGj+B,WAAY,KACvDgsB,GAEH,kBAAClsB,EAAD,KAAY2lC,MAKlB,kBAAC,GAAD,KACE,kBAAC5iB,GAAD,CAAYH,IAAI,QACd,kBAACH,GAAD,KACE,kBAACziB,EAAD,6BACA,+BAEF,kBAACyiB,GAAD,CAAYL,MAAM,YAChB,kBAACpiB,EAAD,CAAWG,SAAU,SAAUg+B,WAAY,EAAGj+B,WAAY,KACvDkX,EAAapN,GAAYoN,GAA6B,IAAfA,EAAmB,EAAI,KAEjE,kBAACpX,EAAD,KAAY6lC,MAIlB,kBAAC,GAAD,CAAOz3B,MAAO,CAAEu4B,WAAYtb,EAAY,IAAM,MAAOub,QAASvb,EAAY,GAAK,QAC7E,kBAAC,GAAD,CAAY7uB,QAASA,EAASU,MAAOI,EAAiBg0B,KAAMtW,OAKlE,8BACE,kBAAChb,EAAD,CAAWG,SAAU,WAAYiO,MAAO,CAAEiwB,UAAW,SAArD,cAIF,kBAAC,GAAD,CACEpC,SAAO,EACP7tB,MAAO,CACLiwB,UAAW,SACXhc,QAAS,gBAGV7lB,GAAWioC,EACV,kBAAC,GAAD,CAAUvnC,MAAOI,EAAiBd,QAASA,EAAS6G,MAAOohC,IAE3D,kBAAC,GAAD,OAGJ,kBAAChiB,GAAD,CAAYwhB,GAAI,GAAI/F,GAAI,QACtB,kBAACl+B,EAAD,CAAWG,SAAU,YAArB,gBADF,IAC4D,+BAE5D,kBAAC,GAAD,CAAO87B,SAAO,GACX/rB,EAAe,kBAAC,GAAD,CAAShT,MAAOI,EAAiB4S,aAAcA,IAAmB,kBAAC,GAAD,OAEpF,oCACE,kBAACuS,GAAD,CAAYrU,MAAO,CAAEiwB,UAAW,SAC9B,kBAACr+B,EAAD,CAAWG,SAAU,YAArB,qBAA+D,KAEjE,kBAAC,GAAD,CACE87B,SAAO,EACP7tB,MAAO,CACLiwB,UAAW,UAEbnR,EAAG,IAEH,kBAACoX,GAAD,KACE,kBAAC,GAAD,KACE,kBAACtkC,EAAD,eACA,kBAAC,IAAD,CAAMoO,MAAO,CAAEiwB,UAAW,SAAWl+B,SAAU,GAAID,WAAW,OAC5D,kBAAC,GAAD,CAAespB,KAAMzsB,EAAQmtB,cAAe,OAGhD,kBAAC,GAAD,KACE,kBAAClqB,EAAD,aACA,kBAACA,EAAD,CAAWoO,MAAO,CAAEiwB,UAAW,SAAWl+B,SAAU,GAAID,WAAW,OACjE,kBAAC,GAAD,CAAespB,KAAMvkB,EAAMilB,cAAe,OAG9C,kBAAC,GAAD,KACE,kBAAClqB,EAAD,gBACA,kBAAC0iB,GAAD,CAASN,MAAM,YACb,kBAACpiB,EAAD,CAAWoO,MAAO,CAAEiwB,UAAW,SAAWl+B,SAAU,GAAID,WAAW,OAChE1D,EAAQ6O,MAAM,EAAG,GAAK,MAAQ7O,EAAQ6O,MAAM,GAAI,KAEnD,kBAAC23B,GAAD,CAAYC,OAAQzmC,MAGxB,kBAACo5B,GAAD,CAAa14B,MAAOI,GAClB,kBAAC,GAAD,CAAMJ,MAAOI,EAAiBqmB,UAAQ,EAAC2M,KAAM,+BAAiC9zB,GAA9E,qC,oVCtWpB,IAAMijC,GAAe3/B,UAAOO,IAAV,MASZwmC,GAAa/mC,UAAOO,IAAV,MAOV61B,GAAa,CACjBC,OAAQ,SACRC,UAAW,YACX0Q,MAAO,SACPC,MAAO,UAySMC,GAtSG,SAAC,GAAsC,IAAD,sBAAnCxqC,EAAmC,EAAnCA,QAASU,EAA0B,EAA1BA,MAAO+pC,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,MAAY,EAChB7tB,mBAAS6c,GAAWE,WADJ,mBAC/C0J,EAD+C,KAClCC,EADkC,OAGlB1mB,mBAAShY,EAAiBE,OAHR,mBAG/C8H,EAH+C,KAGnCg3B,EAHmC,OAKnCpkC,IACbmB,EANgD,oBAMzB,QAAU,QAGjC6rB,EAAML,mBACNmO,EAA6B,kBAAXj8B,OAV8B,EAW5Bue,mBAAQ,OAAC4P,QAAD,IAACA,OAAD,YAACA,EAAK9X,eAAN,uBAAC,EAAc6lB,iBAAf,aAAC,EAAyBC,aAXN,mBAW/C1K,EAX+C,KAWxC2K,EAXwC,OAY1B7d,mBAAQ,OAAC4P,QAAD,IAACA,OAAD,YAACA,EAAK9X,eAAN,uBAAC,EAAc6lB,iBAAf,aAAC,EAAyBmQ,cAZR,mBAY/C/jB,EAZ+C,KAYvCgkB,EAZuC,KAatD1rC,qBAAU,WACR,IAAKq7B,EACH,OAAO,EAET,SAASI,IAAgB,IAAD,YACtBD,EAAQ,iBAACjO,QAAD,IAACA,OAAD,YAACA,EAAK9X,eAAN,uBAAC,EAAc6lB,iBAAf,aAAC,EAAyBC,mBAA1B,QAAyC1K,GACjD6a,EAAS,iBAACne,QAAD,IAACA,OAAD,YAACA,EAAK9X,eAAN,uBAAC,EAAc6lB,iBAAf,aAAC,EAAyBmQ,oBAA1B,QAA0C/jB,GAGrD,OADAtoB,OAAOs8B,iBAAiB,SAAUD,GAC3B,kBAAMr8B,OAAOu8B,oBAAoB,SAAUF,MACjD,CAAC/T,EAAQ2T,EAAUxK,IAGtB,IAAMra,EAAWiD,GAAY3Y,GACzB4T,EjC8hBC,SAA0BxN,GAAc,IAAD,IACPkN,KADO,mBACrC7V,EADqC,KAC5BuW,EAD4B,KAC5BA,gBACVJ,EAAS,OAAGnW,QAAH,IAAGA,OAAH,YAAGA,EAAQ2I,UAAX,aAAG,EAAsBwN,UAWxC,OATA1U,qBAAU,WAAM,4CACd,4BAAA4E,EAAA,yDACO8P,EADP,gCAEqB+C,GAAiBvQ,GAFtC,OAEQsF,EAFR,OAGIsI,EAAgB5N,EAAasF,GAHjC,4CADc,uBAAC,WAAD,wBAOdi4B,KACC,CAAC/vB,EAAWxN,EAAa4N,IACrBJ,EiC3iBSi3B,CAAiB7qC,GAC3B6T,EjCgaD,SAA2BzN,EAAayG,GAAa,IAAD,MACnByG,KADmB,mBAClD7V,EADkD,KACzCwW,EADyC,KACzCA,iBACVL,EAAS,OAAGnW,QAAH,IAAGA,OAAH,YAAGA,EAAQ2I,UAAX,uBAAG,EAAsByN,kBAAzB,aAAG,EAAmChH,GAC/CtB,EAAcD,KAsBpB,OApBApM,qBAAU,WACR,IAAM4gB,EAAc1V,KAAME,MACpByV,EAAalT,IAAehI,EAAiBE,MAAQ,QAAU,OAC/D6R,EACJ/J,IAAehI,EAAiBG,SAC5B,SACA8a,EACG9S,SAAS,EAAG+S,GACZ5S,QAAQ,QACRD,OATK,4CAWd,4BAAApJ,EAAA,sEACmB+T,GAAkBzR,EAAawQ,EAAWrL,GAD7D,OACMG,EADN,OAEEuI,EAAiB7N,EAAasF,EAAMmB,GAFtC,4CAXc,sBAeT+G,GAfS,mCAgBZrK,KAED,CAACqK,EAAW/G,EAAYzG,EAAa6N,EAAkB1I,IAEnDqI,EiCzbYk3B,CAAkB9qC,EAAS6M,GACxCk+B,EAAcl3B,GAAcA,EAAW,GACvCm3B,EAAcn3B,GAAcA,EAAW,GAGvCo3B,GACI,OAARv1B,QAAQ,IAARA,OAAA,YAAAA,EAAUtF,cAAV,eAAkB7P,OAAO4I,QAAS,GAAY,OAARuM,QAAQ,IAARA,OAAA,YAAAA,EAAUtF,cAAV,eAAkB7P,OAAOsO,MAAM,EAAG,IAAK,MAA7E,OAAqF6G,QAArF,IAAqFA,OAArF,YAAqFA,EAAUtF,cAA/F,aAAqF,EAAkB7P,OACnG2qC,GACI,OAARx1B,QAAQ,IAARA,OAAA,YAAAA,EAAUnF,cAAV,eAAkBhQ,OAAO4I,QAAS,GAAY,OAARuM,QAAQ,IAARA,OAAA,YAAAA,EAAUnF,cAAV,eAAkBhQ,OAAOsO,MAAM,EAAG,IAAK,MAA7E,OAAqF6G,QAArF,IAAqFA,OAArF,YAAqFA,EAAUnF,cAA/F,aAAqF,EAAkBhQ,OAEnG4qC,EAAYxc,aAAS,uBACrBE,EAAYF,aAAS,uBACrBD,EAAWC,aAAS,sBAEtB7hB,EAAeF,GAAaC,GAGhC,IAFA+G,EAAS,UAAGA,SAAH,aAAG,EAAWmE,QAAO,SAAA2D,GAAK,OAAIA,EAAM1N,MAAQlB,OAEf,IAArB8G,EAAUzK,OACzB,OACE,kBAAC,GAAD,KACE,kBAAC4e,GAAD,CAAWnB,OAAO,SAAlB,2BAA8D,KAUpE,SAASob,GAAev0B,GACtB,OAAI61B,IAAgB5J,GAAW4Q,MAE3Bx4B,GAAarE,GAAb,2DACoDy9B,EADpD,YACwED,EADxE,UAIA3H,IAAgB5J,GAAW6Q,MAE3Bz4B,GAAarE,GAAb,2DACoDw9B,EADpD,YACwEC,EADxE,eAFJ,EAQF,IAAMpQ,GAASjM,EAAY,EAAUsc,EAAY,GAAK,GAAK,GAAK,GAEhE,OACE,kBAAC,GAAD,KACGzc,EACC,kBAACzI,GAAD,CAAYyb,GAAI,IACd,kBAAC,GAAD,CAAgB9V,QAAS8N,GAAY/H,OAAQ2R,EAAa1R,UAAW2R,EAAgB7iC,MAAOA,IAC5F,kBAAC,GAAD,CAAgBkrB,QAAS/mB,EAAkB8sB,OAAQ9kB,EAAY+kB,UAAWiS,EAAenjC,MAAOA,KAGlG,kBAAC2pC,GAAD,KACE,kBAACnkB,GAAD,CAASE,IAAI,MAAMxU,MAAO,CAAEo4B,SAAU,WACpC,kBAACvQ,GAAD,CACE9H,OAAQ2R,IAAgB5J,GAAWE,UACnCvM,QAAS,WACPwW,EAAch/B,EAAiBG,UAC/Bu+B,EAAe7J,GAAWE,aAJ9B,aASA,kBAACH,GAAD,CACE9H,OAAQ2R,IAAgB5J,GAAWC,OACnCtM,QAAS,WACPwW,EAAch/B,EAAiBG,UAC/Bu+B,EAAe7J,GAAWC,UAJ9B,UASA,kBAACF,GAAD,CACE9H,OAAQ2R,IAAgB5J,GAAW4Q,MACnCjd,QAAS,WACPwW,EAAch/B,EAAiBC,MAC/By+B,EAAe7J,GAAW4Q,SAG3B50B,EAAStF,OAAS86B,EAAmB,IAAMD,EAAmB,KAEjE,kBAACxR,GAAD,CACE9H,OAAQ2R,IAAgB5J,GAAW6Q,MACnCld,QAAS,WACPwW,EAAch/B,EAAiBC,MAC/By+B,EAAe7J,GAAW6Q,SAG3B70B,EAAStF,OAAS66B,EAAmB,IAAMC,EAAmB,MAGnE,kBAAChlB,GAAD,CAASF,QAAQ,WAAWI,IAAI,OAC9B,kBAACqT,GAAD,CACE9H,OAAQ9kB,IAAehI,EAAiBC,KACxCuoB,QAAS,kBAAMwW,EAAch/B,EAAiBC,QAFhD,MAMA,kBAAC20B,GAAD,CACE9H,OAAQ9kB,IAAehI,EAAiBE,MACxCsoB,QAAS,kBAAMwW,EAAch/B,EAAiBE,SAFhD,MAMA,kBAAC00B,GAAD,CACE9H,OAAQ9kB,IAAehI,EAAiBG,SACxCqoB,QAAS,kBAAMwW,EAAch/B,EAAiBG,YAFhD,SASLs+B,IAAgB5J,GAAWE,WAC1B,kBAAC,KAAD,CAAqBkB,OAAQA,IAC3B,kBAAC,KAAD,CAAWpR,OAAQ,CAAE8M,IAAK,EAAGgO,MAAO,GAAI/N,OAAQ,EAAGyB,KAAM,GAAKuM,eAAgB,EAAG/4B,KAAMkI,GACrF,8BACE,oCAAgBH,GAAG,UAAUixB,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,KACnD,0BAAMhZ,OAAO,KAAKiZ,UAAWpkC,EAAOqkC,YAAa,MACjD,0BAAMlZ,OAAO,MAAMiZ,UAAWpkC,EAAOqkC,YAAa,MAGtD,kBAAC,KAAD,CACEC,UAAU,EACVC,UAAU,EACVpnB,SAAS,cACTqnB,WAAY,GACZC,WAAY,GACZC,cAAe,SAAA/Y,GAAI,OAAIte,GAAWse,IAClCgZ,QAAQ,OACRhZ,KAAM,CAAE1F,KAAM/lB,GACdlD,KAAM,SACN4mC,OAAQ,CAAC,UAAW,aAEtB,kBAAC,KAAD,CACE5mC,KAAK,SACL4nC,YAAY,QACZF,cAAe,SAAA/Y,GAAI,MAAI,IAAM/a,GAAI+a,IACjC4Y,UAAU,EACVD,UAAU,EACVnnB,SAAS,cACTsnB,WAAY,GACZI,QAAS,EACTL,WAAY,GACZ7Y,KAAM,CAAE1F,KAAM/lB,KAEhB,kBAAC,KAAD,CACE4kC,QAAQ,EACRC,UAAW,SAAAh4B,GAAG,OAAIqE,GAAarE,GAAK,IACpCi4B,eAAgB,SAAAC,GAAK,OAAI10B,GAAe00B,IACxCC,WAAY,CAAEC,WAAY,GAC1BC,aAAc,CACZjgB,QAAS,YACTE,aAAc,GACdyc,YAAa9hC,EACbA,MAAO,SAETqlC,aAAc,CAAEvP,KAAM,GAAI0B,MAAO,MAEnC,kBAAC,KAAD,CACE+N,YAAa,EACbC,KAAK,EACLxoC,KAAK,WACL+K,KAAM,SACN48B,QAAS,aACTE,QAAS,EACTY,OAAQ3e,aAAO,IAAM9mB,GACrBimB,KAAK,oBAMZ2c,IAAgB5J,GAAW6Q,QACzBS,EACC,kBAAC,KAAD,CAAqBlQ,OAAQA,GAAQrO,IAAKA,GACxC,kBAAC,GAAD,CACE/gB,KAAMs/B,EACNlW,KAAM2V,EACN/gB,QAAQ,EACRqG,MAAOA,EACPiS,eAAgBA,MAIpB,kBAAC,GAAD,OAGHsB,IAAgB5J,GAAW4Q,QACzBS,EACC,kBAAC,KAAD,CAAqBjQ,OAAQA,GAAQrO,IAAKA,GACxC,kBAAC,GAAD,CACE/gB,KAAMq/B,EACNjW,KAAM4V,EACNhhB,QAAQ,EACRqG,MAAOA,EACPiS,eAAgBA,MAIpB,kBAAC,GAAD,OAGHsB,IAAgB5J,GAAWC,QAC1B,kBAAC,KAAD,CAAqBmB,OAAQA,IAC3B,kBAAC,KAAD,CACEpR,OAAQ,CAAE8M,IAAK,EAAGgO,MAAO,EAAG/N,OAAQ,EAAGyB,KAAMrJ,EAAY,EAAI,IAC7D4V,eAAgB,EAChB/4B,KAAMkI,GAEN,kBAAC,KAAD,CACEoxB,UAAU,EACVC,UAAU,EACVpnB,SAAS,cACTsnB,WAAY,GACZD,WAAY,GACZE,cAAe,SAAA/Y,GAAI,OAAIte,GAAWse,IAClCgZ,QAAQ,OACRhZ,KAAM,CAAE1F,KAAM/lB,GACdlD,KAAM,SACN4mC,OAAQ,CAAC,UAAW,aAEtB,kBAAC,KAAD,CACE5mC,KAAK,SACLunC,UAAU,EACVC,WAAY,GACZE,cAAe,SAAA/Y,GAAI,MAAI,IAAM/a,GAAI+a,IACjC2Y,UAAU,EACVnnB,SAAS,cACTynB,YAAY,QACZH,WAAY,GACZI,QAAS,EACTlZ,KAAM,CAAE1F,KAAM/lB,KAEhB,kBAAC,KAAD,CACE4kC,OAAQ,CAAE7e,KAAMjmB,EAAO0lC,QAAS,IAChCX,UAAW,SAAAh4B,GAAG,OAAIqE,GAAarE,GAAK,IACpCi4B,eAAgB,SAAAC,GAAK,OAAI10B,GAAe00B,IACxCC,WAAY,CAAEC,WAAY,GAC1BC,aAAc,CACZjgB,QAAS,YACTE,aAAc,GACdyc,YAAa9hC,EACbA,MAAO,SAETqlC,aAAc,CAAEvP,KAAM,GAAI0B,MAAO,MAEnC,kBAAC,KAAD,CACEx6B,KAAK,WACL+K,KAAM,SACN48B,QAAS,iBACT1e,KAAMjmB,EACN0lC,QAAS,MACTb,QAAS,EACTY,OAAQzlC,Q,+gDCnStB,IAAMknC,GAAmBtkC,UAAOO,IAAV,MAIhBgkC,GAAevkC,UAAOO,IAAV,MAsBZikC,GAAqBxkC,UAAOO,IAAV,MA0BlBunC,GAAa9nC,kBAAO+7B,GAAP/7B,CAAH,MAOQ,qBAAG9C,MAAkBmB,OAIvC0pC,GAAY/nC,UAAO2kB,KAAV,MAOT8f,GAAkBzkC,UAAOO,IAAV,MACR,qBAAGqpB,UAA2B,SACvB,qBAAGA,UAA2B,UAsYnCqB,qBAnYf,YAA6C,IAAD,YAAxBnoB,EAAwB,EAAxBA,YAAa4hC,EAAW,EAAXA,QAAW,EAatCrvB,GAAYvS,GAXdgK,EAFwC,EAExCA,OACAG,EAHwC,EAGxCA,OACAN,EAJwC,EAIxCA,SACAC,EALwC,EAKxCA,SACAH,EANwC,EAMxCA,WACAoG,EAPwC,EAOxCA,kBACAN,EARwC,EAQxCA,gBACAC,EATwC,EASxCA,gBACAE,EAVwC,EAUxCA,sBACAC,EAXwC,EAWxCA,sBACAI,EAZwC,EAYxCA,mBAGFnX,qBAAU,WACRs2B,SAAS8L,cAAc,QAAQC,SAAS,EAAG,KAC1C,IAEH,IAAM7tB,ElCkdD,SAA6BtN,GAAc,IAAD,IACXkN,KADW,mBACxC7V,EADwC,KAC/BsW,EAD+B,KAC/BA,eACVu3B,EAAQ,OAAG7tC,QAAH,IAAGA,OAAH,YAAGA,EAAQ2I,UAAX,aAAG,EAAsBuN,KAUvC,OATAzU,qBAAU,WAAM,4CACd,4BAAA4E,EAAA,yDACOwnC,EADP,gCAE6B/0B,GAAoBnQ,GAFjD,OAEQsN,EAFR,OAGIK,EAAe3N,EAAasN,GAHhC,4CADc,uBAAC,WAAD,wBAOdq1B,KACC,CAACuC,EAAUllC,EAAa2N,IACpBu3B,EkC9dcC,CAAoBnlC,GACnCtF,EAAkBkpB,GAAS5jB,GAG3BqpB,EAAYtZ,EACdrE,GAAaqE,GAAmB,GAChCpG,EACA+B,GAAa/B,GAAY,GACzB,IACEq5B,EAAkB/2B,GAAiBgE,GA5BC,EA+BFwG,oBAAS,GA/BP,mBA+BnC2uB,EA/BmC,KA+BrBC,EA/BqB,KAgC1CvsC,qBAAU,WACRusC,IAAiBt1B,KAChB,CAACA,IAGJ,IAAMuZ,EACJ7Z,GAAuC,IAApBA,EACf/D,GAAiC,IAApB+D,EAAwBG,EAAwBH,GAAiB,GAC1D,IAApBA,EACA,KACA,IA1CoC,EA6CAgH,oBAAS,GA7CT,mBA6CnCosB,EA7CmC,KA6CpBC,EA7CoB,KA8C1ChqC,qBAAU,WACRgqC,EAAqC,IAApBrzB,KAChB,CAACA,IAEJ,IAAMszB,EAAe92B,GAAkB42B,EAAkChzB,EAAlBH,GAGjD6M,EACJ9M,GAAuC,IAApBA,EAEb/D,GADFm3B,EACuC,KAAxBjzB,EACkB,KAAlBH,GAD+B,GAE9C,IA1DoC,EA6DvB2C,KAAZ/H,EA7DmC,oBA8DpCi7B,GACE,OAANt7B,QAAM,IAANA,OAAA,EAAAA,EAAQC,aAAcI,EAAWqB,GAAahC,WAAWM,EAAOC,YAAcP,WAAWW,IAAW,GAAQ,GAExGk7B,GACE,OAANp7B,QAAM,IAANA,OAAA,EAAAA,EAAQF,aAAcI,EAAWqB,GAAahC,WAAWS,EAAOF,YAAcP,WAAWW,IAAW,GAAQ,GAGxGm7B,EAAa37B,GAAYC,EAAW4B,GAAa5B,EAAWD,GAAY,IACxE47B,EAAa57B,GAAYC,EAAW4B,GAAa7B,EAAWC,GAAY,IAGxE+6B,GAAyB,OAAN76B,QAAM,IAANA,OAAA,EAAAA,EAAQ7P,OAAO4I,QAAS,GAAU,OAANiH,QAAM,IAANA,OAAA,EAAAA,EAAQ7P,OAAOsO,MAAM,EAAG,IAAK,MAAzD,OAAiEuB,QAAjE,IAAiEA,OAAjE,EAAiEA,EAAQ7P,OAC5F2qC,IAAyB,OAAN36B,QAAM,IAANA,OAAA,EAAAA,EAAQhQ,OAAO4I,QAAS,GAAU,OAANoH,QAAM,IAANA,OAAA,EAAAA,EAAQhQ,OAAOsO,MAAM,EAAG,IAAK,MAAzD,OAAiE0B,QAAjE,IAAiEA,OAAjE,EAAiEA,EAAQhQ,OAE5FsuB,GAAYF,aAAS,uBACrBmd,GAAWnd,aAAS,sBACpBD,GAAWC,aAAS,sBA9EgB,GAgFL/uB,EAAiBooC,EAAQyB,SAASC,UAhF7B,qBAgFnCC,GAhFmC,MAgFxBC,GAhFwB,MAkF1C1qC,qBAAU,WACRZ,OAAOijC,SAAS,CACdC,SAAU,SACVhL,IAAK,MAEN,IAvFuC,OAyFZz2B,IAzFY,qBAyFnCgsC,GAzFmC,MAyFvBC,GAzFuB,MA2FpCjC,GAAeh+B,KAErB,OACE,kBAACic,GAAD,KACE,kBAACpkB,EAAD,CAAkB9C,gBAAiB+pB,aAAe,GAAK/pB,KACvD,+BACA,kBAACymC,GAAD,CACE7pC,KAAM,OACNktB,MAAO+e,IAAaI,MAAkBA,GAAa3pB,SAAb,OAAsBhQ,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAQqD,KAAOs2B,GAAa3pB,SAAb,OAAsB7P,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAQkD,KACzG0Z,QAASyc,GACT5pC,QAASoG,IAEX,kBAACkiB,GAAD,KACE,kBAACrC,GAAD,KACA,kBAACC,GAAD,CAASN,MAAM,WAAWhU,MAAO,CAAEme,MAAO,gBACxC,kBAACvsB,EAAD,KACE,kBAACikB,GAAD,CAAWwI,GAAG,UAAU,UAD1B,iBACkD7f,QADlD,IACkDA,OADlD,EACkDA,EAAQ7P,OAD1D,WACmEgQ,QADnE,IACmEA,OADnE,EACmEA,EAAQhQ,QAE3E,kBAAC,GAAD,CACEqR,MAAO,CAAEme,MAAO,eAChBrvB,MAAOI,EACPqmB,UAAQ,EACR2M,KAAM,+BAAiC1tB,GAEvC,kBAAC,IAAD,CAAMwL,MAAO,CAAEwb,WAAY,UAAYzpB,SAAU,OAAQD,WAAY,KAArE,IACI0C,EAAYyI,MAAM,EAAG,GAAK,MAAQzI,EAAYyI,MAAM,GAAI,IAD5D,QAKA6f,IAAY,kBAAC,GAAD,CAAQuM,OAAO,KAE/B,kBAAC,GAAD,CACE/N,UACGyc,IAAaI,MAAkBA,GAAa3pB,SAAb,OAAsBhQ,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAQqD,KAAOs2B,GAAa3pB,SAAb,OAAsB7P,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAQkD,MAGrG,kBAAC,GAAD,KACE,kBAAC8S,GAAD,CAAYH,IAAI,OAAOxU,MAAO,CAAEkwB,aAAc,WAC5C,yBAAKlwB,MAAO,CAAEqmB,QAAS,OAAQzH,eAAgB,gBAAiBwZ,SAAU,OAAQja,MAAO,SACvF,kBAAC1J,GAAD,CAAUzU,MAAO,CAAEo4B,SAAU,OAAQrC,SAAU,UAC7C,kBAACthB,GAAD,KACGjW,GAAUG,GACT,kBAACgZ,GAAD,CAAiBC,IAAU,OAANpZ,QAAM,IAANA,OAAA,EAAAA,EAAQqD,KAAM,GAAIgW,IAAU,OAANlZ,QAAM,IAANA,OAAA,EAAAA,EAAQkD,KAAM,GAAImV,KAAM,GAAIc,QAAQ,IAC9E,IACH,kBAAClmB,EAAD,CAAWG,SAAUkrB,GAAY,SAAW,OAAQjd,MAAO,CAAE8X,OAAQ,WAClEtZ,GAAUG,EACT,oCACE,kBAAC86B,GAAD,CAAWhe,QAAS,kBAAM2a,EAAQz4B,KAAR,wBAAuBa,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAQqD,OAAQrD,EAAO7P,QACxE,mCACA,kBAAC8qC,GAAD,CAAWhe,QAAS,kBAAM2a,EAAQz4B,KAAR,wBAAuBgB,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAQkD,OACtDlD,EAAOhQ,QACG,IALf,QASA,MAKR,kBAAC8lB,GAAD,CACEqhB,GAAIoE,GAAW,IAAM,SACrBrE,GAAI5Y,IAAa,OACjBjd,MAAO,CAAEq6B,cAAepd,GAAY,cAAgB,YAEhDkd,GAAW3lC,IAAiByoB,GAM3BA,GAKH,qCAJA,kBAAC/G,GAAD,KACE,kBAAC,KAAD,CAAUlW,MAAO,CAAEke,YAAa,SAAUsW,QAAS,OAPrD,kBAAC,GAAD,CAAO/Y,QAAS,kBAAM2e,GAAQ5lC,EAAagK,EAAOqD,GAAIlD,EAAOkD,GAAIrD,EAAO7P,OAAQgQ,EAAOhQ,UACrF,kBAACunB,GAAD,KACE,kBAAC,KAAD,CAAYlW,MAAO,CAAEke,YAAa,cAWxC,kBAAC,GAAD,CAAM3I,UAAQ,EAAC2M,KAAM1mB,GAAW,OAACgD,QAAD,IAACA,OAAD,EAACA,EAAQqD,GAAT,OAAalD,QAAb,IAAaA,OAAb,EAAaA,EAAQkD,KACnD,kBAAC2lB,GAAD,CAAa14B,MAAOI,GAApB,oBAEF,kBAAC,GAAD,CAAMqmB,UAAQ,EAAC2M,KAAMxmB,GAAW,OAAC8C,QAAD,IAACA,OAAD,EAACA,EAAQqD,GAAT,OAAalD,QAAb,IAAaA,OAAb,EAAaA,EAAQkD,KACnD,kBAAC+lB,GAAD,CAAYkO,IAAK7Y,IAAa,QAASqS,GAAIrS,IAAa,QAASnuB,MAAOI,GAAxE,UAIF,kBAAC,GAAD,CAAMgzB,KAAMvmB,GAAanH,GAAcpC,OAAO,UAC5C,kBAACw1B,GAAD,CAAYkO,GAAI,QAASxG,GAAIrS,IAAa,QAASnuB,MAAOI,GAA1D,kBAOR,kBAAColB,GAAD,CACEE,IAAI,MACJxU,MAAO,CACLme,MAAO,cACP8R,UAAWiK,GAAW,OAAS,IAC/BhK,aAAcgK,GAAW,IAAM,OAC/B9B,SAAU,SAGZ,kBAACoB,GAAD,CAAY/d,QAAS,kBAAM2a,EAAQz4B,KAAR,wBAAuBa,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAQqD,OACxD,kBAAC4S,GAAD,KACE,kBAACyC,GAAD,CAAW9oB,QAAO,OAAEoQ,QAAF,IAAEA,OAAF,EAAEA,EAAQqD,GAAImV,KAAM,SACtC,kBAACplB,EAAD,CAAWG,SAAU,OAAQg+B,WAAY,EAAGj+B,WAAY,IAAKgkC,GAAI,OAC9Dt3B,GAAUG,EAAV,YACQ06B,EADR,cAC8BW,EAD9B,YAC4CV,GAD5C,YAEKp7B,WAAU,OAACM,QAAD,IAACA,OAAD,EAACA,EAAQC,YAAc,IAAMq7B,EAAY,IAAM,IAE3D,OAIV,kBAACN,GAAD,CAAY/d,QAAS,kBAAM2a,EAAQz4B,KAAR,wBAAuBgB,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAQkD,OACxD,kBAAC4S,GAAD,KACE,kBAACyC,GAAD,CAAW9oB,QAAO,OAAEuQ,QAAF,IAAEA,OAAF,EAAEA,EAAQkD,GAAImV,KAAM,SACtC,kBAACplB,EAAD,CAAWG,SAAU,OAAQg+B,WAAY,EAAGj+B,WAAY,IAAKgkC,GAAI,OAC9Dt3B,GAAUG,EAAV,YACQ26B,GADR,cAC8BW,EAD9B,YAC4CZ,EAD5C,aAEKn7B,WAAU,OAACS,QAAD,IAACA,OAAD,EAACA,EAAQF,YAAc,IAAMs7B,EAAY,IAAM,IAE3D,QAKZ,qCACI9c,IAAa,kBAACrrB,EAAD,CAAWG,SAAU,YAArB,cACf,kBAAC,GAAD,CAAciO,MAAO,CAAEiwB,UAAW,WAChC,kBAAC,GAAD,CAAOjwB,MAAO,CAAEgV,OAAQ,SACtB,kBAACL,GAAD,CAAYH,IAAI,QACd,kBAACH,GAAD,KACE,kBAACziB,EAAD,wBAA6BgoC,EAA+B,GAAhB,eAC5C,+BAEF,kBAACvlB,GAAD,CAAYL,MAAM,YAChB,kBAACpiB,EAAD,CAAWG,SAAU,SAAUg+B,WAAY,EAAGj+B,WAAY,KACvD+rB,GAEH,kBAACjsB,EAAD,KAAY4lC,MAIlB,kBAAC,GAAD,CAAOx3B,MAAO,CAAEgV,OAAQ,SACtB,kBAACL,GAAD,CAAYH,IAAI,QACd,kBAACH,GAAD,KACE,kBAACziB,EAAD,uBAA2BylC,GAAiB,eAC5C,+BAEF,kBAAChjB,GAAD,CAAYL,MAAM,YAChB,kBAACpiB,EAAD,CAAWG,SAAU,SAAUg+B,WAAY,EAAGj+B,WAAY,KACvDgsB,GAEH,kBAAClsB,EAAD,KAAY2lC,MAIlB,kBAAC,GAAD,CAAOv3B,MAAO,CAAEgV,OAAQ,SACtB,kBAACL,GAAD,CAAYH,IAAI,QACd,kBAACH,GAAD,KACE,kBAACziB,EAAD,qBACA,+BAEF,kBAACyiB,GAAD,CAAYL,MAAM,YAChB,kBAACpiB,EAAD,CAAWG,SAAU,SAAUg+B,WAAY,EAAGj+B,WAAY,KACvDif,GAEH,kBAACnf,EAAD,KAAY2lC,MAKlB,kBAAC,GAAD,CAAOv3B,MAAO,CAAEgV,OAAQ,SACtB,kBAACL,GAAD,CAAYH,IAAI,QACd,kBAACH,GAAD,KACE,kBAACziB,EAAD,sBACA,+BAEF,kBAAC,GAAD,CAAO6pB,QAAS,kBAAM2a,EAAQz4B,KAAR,wBAAuBa,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAQqD,MAAOoU,MAAM,GAChE,kBAAC3B,GAAD,CAASE,IAAI,OACX,kBAAC0C,GAAD,CAAW9oB,QAAO,OAAEoQ,QAAF,IAAEA,OAAF,EAAEA,EAAQqD,KAC5B,kBAACjQ,EAAD,CAAWG,SAAU,GAAIg+B,WAAY,EAAGj+B,WAAY,KAClD,kBAAC2iB,GAAD,KACGpW,EAAW6B,GAAa7B,GAAY,GAAI,IACzC,kBAAC,GAAD,CAAe+c,KAAI,iBAAE5c,QAAF,IAAEA,OAAF,EAAEA,EAAQ7P,cAAV,QAAoB,GAAImtB,cAAe,EAAGhE,QAAQ,QAK7E,kBAAC,GAAD,CAAO2D,QAAS,kBAAM2a,EAAQz4B,KAAR,wBAAuBgB,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAQkD,MAAOoU,MAAM,GAChE,kBAAC3B,GAAD,CAASE,IAAI,OACX,kBAAC0C,GAAD,CAAW9oB,QAAO,OAAEuQ,QAAF,IAAEA,OAAF,EAAEA,EAAQkD,KAC5B,kBAACjQ,EAAD,CAAWG,SAAU,GAAIg+B,WAAY,EAAGj+B,WAAY,KAClD,kBAAC2iB,GAAD,KACGnW,EAAW4B,GAAa5B,GAAY,GAAI,IACzC,kBAAC,GAAD,CAAe8c,KAAI,iBAAEzc,QAAF,IAAEA,OAAF,EAAEA,EAAQhQ,cAAV,QAAoB,GAAImtB,cAAe,EAAGhE,QAAQ,UAOjF,kBAAC,GAAD,CAAO9X,MAAO,CAAEu4B,WAAYtb,GAAY,IAAM,MAAOub,QAASvb,GAAY,GAAK,QAC7E,kBAAC,GAAD,CACE7uB,QAASoG,EACT1F,MAAOI,EACP2pC,MAAOv6B,EAAWD,EAClBy6B,MAAOz6B,EAAWC,MAIxB,kBAAC1M,EAAD,CAAWG,SAAU,WAAYiO,MAAO,CAAEiwB,UAAW,SAArD,gBAEa,IACb,kBAAC,GAAD,CACEjwB,MAAO,CACLiwB,UAAW,WAGZnuB,EAAe,kBAAC,GAAD,CAASA,aAAcA,IAAmB,kBAAC,GAAD,OAE5D,kBAACuS,GAAD,CAAYrU,MAAO,CAAEiwB,UAAW,SAC9B,kBAACr+B,EAAD,CAAWG,SAAU,YAArB,oBAA8D,KAEhE,kBAAC,GAAD,CACE87B,SAAO,EACP7tB,MAAO,CACLiwB,UAAW,UAEbnR,EAAG,IAEH,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAACltB,EAAD,kBACA,kBAACA,EAAD,CAAWoO,MAAO,CAAEiwB,UAAW,UAC7B,kBAACxb,GAAD,KACE,kBAAC,GAAD,CAAe2G,KAAI,iBAAE5c,QAAF,IAAEA,OAAF,EAAEA,EAAQ7P,cAAV,QAAoB,GAAImtB,cAAe,IAD5D,IAEE,kBAAC,GAAD,CAAeV,KAAI,iBAAEzc,QAAF,IAAEA,OAAF,EAAEA,EAAQhQ,cAAV,QAAoB,GAAImtB,cAAe,OAIhE,kBAAC,GAAD,KACE,kBAAClqB,EAAD,qBACA,kBAAC0iB,GAAD,CAASN,MAAM,YACb,kBAACpiB,EAAD,CAAWoO,MAAO,CAAEiwB,UAAW,UAC5Bz7B,EAAYyI,MAAM,EAAG,GAAK,MAAQzI,EAAYyI,MAAM,GAAI,KAE3D,kBAAC23B,GAAD,CAAYC,OAAQrgC,MAGxB,kBAAC,GAAD,KACE,kBAAC5C,EAAD,KACE,kBAAC6iB,GAAD,KACE,kBAAC,GAAD,CAAe2G,KAAI,iBAAE5c,QAAF,IAAEA,OAAF,EAAEA,EAAQ7P,cAAV,QAAoB,GAAImtB,cAAe,IAAM,IAChE,0BAAM9b,MAAO,CAAEwb,WAAY,QAA3B,aAGJ,kBAAClH,GAAD,CAASN,MAAM,YACb,kBAACpiB,EAAD,CAAWoO,MAAO,CAAEiwB,UAAW,UAC5BzxB,GAAUA,EAAOqD,GAAG5E,MAAM,EAAG,GAAK,MAAQuB,EAAOqD,GAAG5E,MAAM,GAAI,KAEjE,kBAAC23B,GAAD,CAAYC,OAAM,OAAEr2B,QAAF,IAAEA,OAAF,EAAEA,EAAQqD,OAGhC,kBAAC,GAAD,KACE,kBAACjQ,EAAD,KACE,kBAAC6iB,GAAD,KACE,kBAAC,GAAD,CAAe2G,KAAI,iBAAEzc,QAAF,IAAEA,OAAF,EAAEA,EAAQhQ,cAAV,QAAoB,GAAImtB,cAAe,IAAM,IAChE,0BAAM9b,MAAO,CAAEwb,WAAY,QAA3B,aAGJ,kBAAClH,GAAD,CAASN,MAAM,YACb,kBAACpiB,EAAD,CAAWoO,MAAO,CAAEiwB,UAAW,SAAWl+B,SAAU,IACjD4M,GAAUA,EAAOkD,GAAG5E,MAAM,EAAG,GAAK,MAAQ0B,EAAOkD,GAAG5E,MAAM,GAAI,KAEjE,kBAAC23B,GAAD,CAAYC,OAAM,OAAEl2B,QAAF,IAAEA,OAAF,EAAEA,EAAQkD,OAGhC,kBAAC2lB,GAAD,CAAa14B,MAAOI,GAClB,kBAAC,GAAD,CAAMJ,MAAOI,EAAiBqmB,UAAQ,EAAC2M,KAAM,+BAAiC1tB,GAA9E,qC,yLCndpB,IAAM68B,GAAe3/B,UAAOO,IAAV,MA6HHqoC,GApHG,SAAC,GAAiB,IAC5Bt4B,E/B+PD,SAA+BgR,GACpC,IAAMojB,EAAU9iB,GAAiBN,GADY,EAGG/H,qBAHH,mBAGtCsC,EAHsC,KAGpBgtB,EAHoB,OAKOtvB,qBALP,mBAKtCgG,EALsC,KAKlB0C,EALkB,OAMtBzZ,KAAhBkR,EANsC,oBAmI7C,OA1HA9d,qBAAU,WACR,IAEI4N,EAFEC,EAAa3C,KAAME,MAGzB,OAAQ0S,GACN,KAAKnY,EAAiBC,KACpBgI,EAAeC,EAAWC,SAAS,EAAG,QAAQG,QAAQ,OACtD,MACF,KAAKtI,EAAiBG,SACpB8H,EAAeC,EAAWC,SAAS,EAAG,QACtC,MACF,QACEF,EAAeC,EAAWC,SAAS,EAAG,QAAQG,QAAQ,QAG1D,IAAIyJ,EAAY9J,EAAaI,OAAS,GACjC8P,GAAgBpG,EAAYiM,IAAwBA,IACvD0C,EAAsB3O,KAEvB,CAACoG,EAAc6F,IAElB3jB,qBAAU,WAAM,4CACd,gDAAA4E,EAAA,sDAeE,IAdIof,EAAWtL,SAASiL,EAAqB,OACvCvL,EAAkBM,SAASxN,KAAME,MAAM4C,OAAS,OAGlDkW,EAAkB4kB,EAAQtwB,MAAK,SAAC5T,EAAG6T,GACrC,OAAOC,SAAS9T,EAAE8B,WAAagS,SAASD,EAAE/R,WAAa,GAAK,KAG1DgS,SAASwL,EAAgB,GAAGxd,WAAasd,IAC3CA,EAAWtL,SAASA,SAASwL,EAAgB,GAAGxd,WAAa,QAGzDyd,EAAgB,GAEfH,EAAW5L,GAChB+L,EAAc9T,KAA0B,MAArBqI,SAASsL,IAC5BA,GAAsB,EAjB1B,OAoBQrc,EAAQmhC,EAAQl+B,QAAO,SAACqK,EAAUgM,GACtC,MAAM,GAAN,oBAAWhM,GAAX,CAAqBgM,EAASnZ,KAAKyM,OAClC,IAtBL,SA2BYrP,EAAOoH,MAAM,CACrBA,MAAO5E,GAAmBC,EAAOgc,KA5BrC,OAmCE,IAAWhS,KAnCb,SA0BYiG,EA1BZ,EA0BIpL,KAAQoL,aAKJqI,EAAmB,GAGnBitB,EAAmB,GAlC3B,WAmCav7B,GACT,IAAM6S,EAAeL,EAAcxS,GAC7B8S,EAAmBD,EAAe,MAGlC2oB,EAAoBrE,EAAQjwB,QAAO,SAAA8L,GACvC,OAAOA,EAASje,UAAY+d,GAAoBE,EAASje,UAAY8d,KAEvE,IAAK,IAAM7S,KAASw7B,EAAmB,CACrC,IAAMlsB,EAAWksB,EAAkBx7B,GAE9Bu7B,EAAiBjsB,EAASnZ,KAAKyM,MAClC24B,EAAiBjsB,EAASnZ,KAAKyM,IAAM,CACnC64B,eAAgBnsB,EAASgB,sBACzBvb,UAAWua,EAASva,YAIpBwmC,EAAiBjsB,EAASnZ,KAAKyM,KAAO24B,EAAiBjsB,EAASnZ,KAAKyM,IAAI7N,UAAYua,EAASva,YAChGwmC,EAAiBjsB,EAASnZ,KAAKyM,IAAM,CACnC64B,eAAgBnsB,EAASgB,sBACzBvb,UAAWua,EAASva,YAK1B,IAiBM2mC,EAjBmBv9B,OAAOC,KAAKm9B,GAAkBzmC,KAAI,SAAAS,GAEzD,IAAMomC,EAAsB11B,EAAaiB,QAAO,SAAAZ,GAC9C,OAAOA,EAAQ/Q,cAAgBA,KAG7BqmC,EAAaD,EAAoB,GACrC,IAAK,IAAM37B,KAAS27B,EAAqB,CACvC,IAAMr1B,EAAUq1B,EAAoB37B,GAChCsG,EAAQnJ,KAAO0V,GAAgBvM,EAAQnJ,KAAOy+B,EAAWz+B,OAC3Dy+B,EAAat1B,GAGjB,OAAOs1B,KAIyB3iC,QAAO,SAAC4iC,EAAUv1B,GAClD,OACEu1B,GACCN,EAAiBj1B,EAAQ/Q,aACrB0J,WAAWs8B,EAAiBj1B,EAAQ/Q,aAAakmC,gBAAkBx8B,WAAWqH,EAAQnH,aACvFF,WAAWqH,EAAQpH,YACnB,KACL,GAEHoP,EAAiB5P,KAAK,CACpBvB,KAAM0V,EACNipB,SAAUJ,KAtDMlpB,EAAgB,EAAzBxS,GA0DXs7B,EAAoBhtB,GA7FtB,6CADc,sBAgGV6oB,GAAWnlB,GAAsBmlB,EAAQ7+B,OAAS,GAhGvC,WAAD,wBAiGZyP,KAED,CAACovB,EAASnlB,IAEN1D,E+BlYWytB,CADe,EAAdhoB,SAAc,EAGG/H,mBAAShY,EAAiBG,UAH7B,mBAG1B6H,EAH0B,KAGdg3B,EAHc,KAI7B/2B,EAAeF,GAAaC,GAE1B6hB,EAAWC,aAAS,sBAGpB2V,EAAS,CAAC,SAAAC,GAAO,OAAKA,EAAUz3B,EAAey3B,EAAUz3B,GAAe,WAExEguB,EAJYnM,aAAS,uBAIA,EAAUD,EAAW,GAAK,GAAK,KAXzB,EAadjvB,IACbmB,EAd2B,oBAcJ,QAAU,QAEvC,OACE,kBAAC,GAAD,KACG8tB,EACC,kBAACzI,GAAD,CAAYyb,GAAI,IACd,8BACA,kBAAC,GAAD,CAAgB9V,QAAS/mB,EAAkB8sB,OAAQ9kB,EAAY+kB,UAAWiS,EAAenjC,MAAO,aAGlG,kBAACulB,GAAD,CAAYyb,GAAI,IACd,kBAACxb,GAAD,CAASE,IAAI,QACX,kBAAC5iB,EAAD,yBAEF,kBAAC0iB,GAAD,CAASF,QAAQ,WAAWI,IAAI,OAC9B,kBAACqT,GAAD,CACE9H,OAAQ9kB,IAAehI,EAAiBE,MACxCsoB,QAAS,kBAAMwW,EAAch/B,EAAiBE,SAFhD,MAMA,kBAAC00B,GAAD,CACE9H,OAAQ9kB,IAAehI,EAAiBC,KACxCuoB,QAAS,kBAAMwW,EAAch/B,EAAiBC,QAFhD,MAMA,kBAAC20B,GAAD,CACE9H,OAAQ9kB,IAAehI,EAAiBG,SACxCqoB,QAAS,kBAAMwW,EAAch/B,EAAiBG,YAFhD,SASL4O,EACC,kBAAC,KAAD,CAAqBknB,OAAQA,EAAQlpB,MAAO,CAAEgV,OAAQ,YACpD,kBAAC,KAAD,CAAW8C,OAAQ,CAAE8M,IAAK,EAAGgO,MAAO,GAAI/N,OAAQ,EAAGyB,KAAM,GAAKuM,eAAgB,EAAG/4B,KAAMkI,GACrF,8BACE,oCAAgBH,GAAG,UAAUixB,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,KACnD,0BAAMhZ,OAAO,KAAKiZ,UAAW,UAAWC,YAAa,MACrD,0BAAMlZ,OAAO,MAAMiZ,UAAW,UAAWC,YAAa,MAG1D,kBAAC,KAAD,CACEC,UAAU,EACVC,UAAU,EACVpnB,SAAS,cACTqnB,WAAY,GACZC,WAAY,EACZC,cAAe,SAAA/Y,GAAI,OAAIte,GAAWse,IAClCgZ,QAAQ,OACRhZ,KAAM,CAAE1F,KAAM/lB,GACdlD,KAAM,SACN4mC,OAAQA,IAEV,kBAAC,KAAD,CACE5mC,KAAK,SACL4nC,YAAY,QACZF,cAAe,SAAA/Y,GAAI,MAAI,IAAM/a,GAAI+a,IACjC4Y,UAAU,EACVD,UAAU,EACVnnB,SAAS,cACTsnB,WAAY,EACZI,QAAS,EACTlZ,KAAM,CAAE1F,KAAM/lB,KAEhB,kBAAC,KAAD,CACE4kC,QAAQ,EACRC,UAAW,SAAAh4B,GAAG,OAAIqE,GAAarE,GAAK,IACpCi4B,eAAgB,SAAAC,GAAK,OAAI10B,GAAe00B,IACxCC,WAAY,CAAEC,WAAY,GAC1BC,aAAc,CACZjgB,QAAS,YACTE,aAAc,GACdyc,YAAa,UACb9hC,MAAO,SAETqlC,aAAc,CAAEvP,KAAM,GAAI0B,MAAO,MAEnC,kBAAC,KAAD,CACEt6B,IAAK,QACLynC,QAAS,WACTW,QAAQ,IACRC,YAAa,EACbC,KAAK,EACLxoC,KAAK,WACL+K,KAAM,YACN88B,QAAS,EACTY,OAAQ3e,aAAO,IAAM,WACrBb,KAAK,oBAKX,kBAAC,GAAD,Q,mUCtHR,IAAMsc,GAAe3/B,UAAOO,IAAV,MAQZwmC,GAAa/mC,UAAOO,IAAV,MAOV61B,GACG,QADHA,GAEE,OA4HOmT,GAzHU,SAAC,GAA2B,IAAD,EAAxBjoB,EAAwB,EAAxBA,QAASzE,EAAe,EAAfA,SAC/BzU,EAAO4Z,GAAqBnF,EAAUyE,GADQ,EAGd9Y,KAHc,mBAG3Ce,EAH2C,KAG/Bg3B,EAH+B,KAK5CnV,EAAWC,aAAS,sBAEpBjuB,EAAQspB,GAAQ,OAAC7J,QAAD,IAACA,OAAD,EAACA,EAAUnZ,KAAKoJ,OAAOqD,IAPK,EAShBoJ,mBAAS6c,IATO,mBAS3CK,EAT2C,KAShCC,EATgC,KAY9CltB,EAAeF,GAAaC,GAChCnB,EAAI,UAAGA,SAAH,aAAG,EAAMqM,QAAO,SAAA2D,GAAK,OAAIA,EAAM1N,MAAQlB,KAE3C,IAAMguB,EAASpM,EAAW,GAAK,GAAK,KAfc,EAiB/BjvB,IACbmB,EAlB4C,oBAkBrB,QAAU,QAEvC,OACE,kBAAC,GAAD,KACG8tB,EACC,kBAACzI,GAAD,CAAYyb,GAAI,IACd,8BACA,kBAAC,GAAD,CAAgB9V,QAAS/mB,EAAkB8sB,OAAQ9kB,EAAY+kB,UAAWiS,KAG5E,kBAAC,GAAD,KACE,kBAAC3d,GAAD,CAASE,IAAI,MAAMxU,MAAO,CAAEo4B,SAAU,WACpC,kBAACvQ,GAAD,CAAc9H,OAAQoI,IAAcL,GAAkBrM,QAAS,kBAAM2M,EAAaN,MAAlF,aAGA,kBAACD,GAAD,CAAc9H,OAAQoI,IAAcL,GAAiBrM,QAAS,kBAAM2M,EAAaN,MAAjF,SAIF,kBAACxT,GAAD,CAASF,QAAQ,WAAWI,IAAI,OAC9B,kBAACqT,GAAD,CACE9H,OAAQ9kB,IAAehI,EAAiBC,KACxCuoB,QAAS,kBAAMwW,EAAch/B,EAAiBC,QAFhD,MAMA,kBAAC20B,GAAD,CACE9H,OAAQ9kB,IAAehI,EAAiBE,MACxCsoB,QAAS,kBAAMwW,EAAch/B,EAAiBE,SAFhD,MAMA,kBAAC00B,GAAD,CACE9H,OAAQ9kB,IAAehI,EAAiBG,SACxCqoB,QAAS,kBAAMwW,EAAch/B,EAAiBG,YAFhD,SASN,kBAAC,KAAD,CAAqB81B,OAAQA,GAC1BpvB,EACC,kBAAC,KAAD,CAAWge,OAAQ,CAAE8M,IAAK,EAAGgO,MAAO,EAAG/N,OAAQ,EAAGyB,KAAM,GAAKuM,eAAgB,EAAG/4B,KAAMA,GACpF,8BACE,oCAAgB+H,GAAG,UAAUixB,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,KACnD,0BAAMhZ,OAAO,KAAKiZ,UAAWpkC,EAAOqkC,YAAa,MACjD,0BAAMlZ,OAAO,MAAMiZ,UAAWpkC,EAAOqkC,YAAa,MAGtD,kBAAC,KAAD,CAAe+H,gBAAgB,QAC/B,kBAAC,KAAD,CACE9H,UAAU,EACVC,UAAU,EACVpnB,SAAS,cACTqnB,WAAY,GACZE,cAAe,SAAA/Y,GAAI,OAAIte,GAAWse,IAClCgZ,QAAQ,OACRhZ,KAAM,CAAE1F,KAAM/lB,GACdlD,KAAM,SACN4mC,OAAQ,CAAC,UAAW,aAEtB,kBAAC,KAAD,CACE5mC,KAAK,SACL4nC,YAAY,QACZF,cAAe,SAAA/Y,GAAI,MAAI,IAAM/a,GAAI+a,IACjC4Y,UAAU,EACVD,UAAU,EACVnnB,SAAS,mBACTsnB,WAAY,EACZI,QAAS,EACTlZ,KAAM,CAAE1F,KAAM/lB,KAEhB,kBAAC,KAAD,CACE4kC,QAAQ,EACRC,UAAW,SAAAh4B,GAAG,OAAIqE,GAAarE,GAAK,IACpCi4B,eAAgB,SAAAC,GAAK,OAAI10B,GAAe00B,IACxCC,WAAY,CAAEC,WAAY,GAC1BC,aAAc,CACZjgB,QAAS,YACTE,aAAc,GACdyc,YAAa9hC,EACbA,MAAO,SAETqlC,aAAc,CAAEvP,KAAM,GAAI0B,MAAO,MAGnC,kBAAC,KAAD,CACEx6B,KAAK,WACL2nC,QAAStL,IAAcL,GAAmB,WAAa,OACvDyM,OAAQzlC,EACR6kC,QAAS,EACT98B,KAAMsxB,IAAcL,GAAmB,YAAc,8BAIzD,kBAAC,GAAD,S,+yDCnIVtvB,KAAMC,OAAOC,MAEb,IAAMujB,GAAcvqB,UAAOO,IAAV,MAQXknB,GAAQznB,UAAOO,IAAV,MACA,qBAAGrD,MAAkB4B,YACnB,SAAAqB,GAAK,OAAKA,EAAMqqB,MAAQ,GAAM,KAQrCC,GAAOzqB,kBAAOqiB,IAAPriB,CAAH,MAIJ0qB,GAAW1qB,UAAOO,IAAV,MAmCRoqB,GAAc3qB,UAAOO,IAAV,MAEXqqB,GAAgB5qB,kBAAOC,IAAPD,CAAH,MACR,qBAAG9C,MAAkBY,SAU1B+sB,GAAW7qB,kBAAO8qB,IAAP9qB,CAAH,MAGH,qBAAG9C,MAAkBY,SAU1BitB,GAAa,CACjB0e,MAAO,QACPC,eAAgB,kBAuOHze,qBApOf,YAAsC,IAAd1J,EAAa,EAAbA,UAChBykB,EAAW3a,aAAS,sBACpBC,EAAWD,aAAS,sBAFS,EAKX9R,mBAAS,GALE,mBAK5BiS,EAL4B,KAKtBC,EALsB,OAMLlS,mBAAS,GANJ,mBAM5BmS,EAN4B,KAMnBC,EANmB,OAUOpS,oBAAS,GAVhB,mBAU5BsS,EAV4B,KAUbC,EAVa,OAWKvS,mBAASwR,GAAW0e,OAXzB,mBAW5B1d,EAX4B,KAWdC,EAXc,KAanCpwB,qBAAU,WACR+vB,EAAW,GACXF,EAAQ,KACP,CAAClK,IAEJ3lB,qBAAU,WACR,GAAI2lB,EAAW,CACb,IAAI0K,EAAa,EACb1K,EAAU1b,OAdK,KAcuB,IACxComB,EAAa,GAEfN,EAAW5vB,KAAKC,MAAMulB,EAAU1b,OAjBb,IAiBwComB,GAAc,MAE1E,CAAC1K,IA1B+B,MA4BhBrM,KAAZ/H,EA5B4B,oBA8B7B+e,EAAW,SAAC,GAAyB,IAAvBrP,EAAsB,EAAtBA,SAAUtP,EAAY,EAAZA,MACtBo8B,EAAgB9sB,EAASgB,sBAAwBhB,EAASnZ,KAAKgJ,YAC/D28B,EAAWM,EAAgB9sB,EAASnZ,KAAK+I,WAE/C,OACE,kBAAC,GAAD,CAAU6B,MAAO,CAAEw0B,QAAS6G,EAAgB,EAAI,EAAI,IAAOrd,OAAO,IAC9DhB,GAAY,kBAAC,GAAD,CAAUiB,KAAK,UAAUhf,GACvC,kBAAC,GAAD,CAAUgf,KAAK,OAAOW,eAAe,aAAaD,WAAW,cAC3D,kBAAChK,GAAD,CAAYH,IAAI,MAAMJ,QAAQ,aAAaJ,MAAM,cAC/C,kBAAC2D,GAAD,CAAiBX,KAAM,GAAIY,GAAIrJ,EAASnZ,KAAKoJ,OAAOqD,GAAIgW,GAAItJ,EAASnZ,KAAKuJ,OAAOkD,GAAIiW,QAASkF,KAEhG,kBAACrI,GAAD,CAAYH,IAAI,MAAMJ,QAAQ,aAAapU,MAAO,CAAEwb,WAAY,SAC9D,kBAAC/F,GAAD,CAAY4I,GAAI,SAAW9P,EAASnZ,KAAKyM,IACvC,kBAACjQ,EAAD,CAAWoO,MAAO,CAAEoe,WAAY,UAAYC,GAAI,UAC9C,kBAAC,GAAD,CACEjD,KAAM7M,EAASnZ,KAAKoJ,OAAO7P,OAAS,IAAM4f,EAASnZ,KAAKuJ,OAAOhQ,OAC/DmtB,cAAekB,EAAW,GAAK,OAKrC,kBAACvI,GAAD,CAAUD,IAAI,MAAMJ,QAAQ,cAC1B,kBAAC,GAAD,CACEmB,UAAQ,EACR2M,KAAM1mB,GAAY+S,EAASnZ,KAAKoJ,OAAOqD,GAAI0M,EAASnZ,KAAKuJ,OAAOkD,IAChE7B,MAAO,CAAEke,YAAa,UAEtB,kBAACsJ,GAAD,CAAaxnB,MAAO,CAAEiU,QAAS,UAAWE,aAAc,QAAxD,QAEDknB,EAAgB,GACf,kBAAC,GAAD,CAAM9lB,UAAQ,EAAC2M,KAAM1mB,GAAY+S,EAASnZ,KAAKoJ,OAAOqD,GAAI0M,EAASnZ,KAAKuJ,OAAOkD,IAAI,IACjF,kBAAC2lB,GAAD,CAAaxnB,MAAO,CAAEiU,QAAS,UAAWE,aAAc,QAAxD,cAMV,kBAAC,GAAD,CAAU8J,KAAK,WACb,kBAACtJ,GAAD,CAAYH,IAAI,OAAOJ,QAAQ,YAC7B,kBAACxiB,EAAD,KAAYsO,GAAa66B,GAAU,GAAM,IACzC,kBAACpmB,GAAD,CAAYH,IAAI,MAAMJ,QAAQ,YAC5B,kBAACK,GAAD,KACE,kBAAC7iB,EAAD,CAAYE,WAAY,KACrBoO,GAAam7B,EAAgBn9B,WAAWqQ,EAASnZ,KAAKiJ,WAAY,KAErE,kBAAC,GAAD,CACE+c,KAAM7M,EAASnZ,KAAKoJ,OAAO7P,OAC3BmtB,cAAekB,EAAW,GAAK,GAC/BlF,QAAQ,EACR/lB,SAAU,UAGd,kBAAC0iB,GAAD,KACE,kBAAC7iB,EAAD,CAAYE,WAAY,KACrBoO,GAAam7B,EAAgBn9B,WAAWqQ,EAASnZ,KAAKkJ,WAAY,KAErE,kBAAC,GAAD,CACE8c,KAAM7M,EAASnZ,KAAKuJ,OAAOhQ,OAC3BmtB,cAAekB,EAAW,GAAK,GAC/BlF,QAAQ,EACR/lB,SAAU,cAMlB2lC,GACA,kBAAC,GAAD,CAAUzZ,KAAK,UACb,kBAACtJ,GAAD,CAAYH,IAAI,OAAOJ,QAAQ,YAC7B,kBAACxiB,EAAD,CAAW9C,MAAO,SAChB,kBAAC2lB,GAAD,KAAWvU,GAAY,OAACqO,QAAD,IAACA,OAAD,EAACA,EAAUwC,KAAK8B,KAAK,GAAM,KAEpD,kBAAC8B,GAAD,CAAYH,IAAI,MAAMJ,QAAQ,YAC5B,kBAACK,GAAD,KACE,kBAAC7iB,EAAD,CAAYE,WAAY,KACrBoM,WAAWqQ,EAASnZ,KAAKoJ,OAAOC,YAC7ByB,IACU,OAARqO,QAAQ,IAARA,OAAA,EAAAA,EAAUwC,KAAK8B,MAAO3U,WAAWqQ,EAASnZ,KAAKoJ,OAAOC,YAAcI,GAAY,GAChF,GACA,GAEF,EAAG,KAET,kBAAC,GAAD,CACEuc,KAAM7M,EAASnZ,KAAKoJ,OAAO7P,OAC3BmtB,cAAekB,EAAW,GAAK,GAC/BlF,QAAQ,EACR/lB,SAAU,UAGd,kBAAC0iB,GAAD,KACE,kBAAC7iB,EAAD,CAAYE,WAAY,KACrBoM,WAAWqQ,EAASnZ,KAAKuJ,OAAOF,YAC7ByB,IACU,OAARqO,QAAQ,IAARA,OAAA,EAAAA,EAAUwC,KAAK8B,MAAO3U,WAAWqQ,EAASnZ,KAAKuJ,OAAOF,YAAcI,GAAY,GAChF,GACA,GAEF,EAAG,KAET,kBAAC,GAAD,CACEuc,KAAM7M,EAASnZ,KAAKuJ,OAAOhQ,OAC3BmtB,cAAekB,EAAW,GAAK,GAC/BlF,QAAQ,EACR/lB,SAAU,eAWtBupC,EACJroB,GACAA,EAEGnN,MAAK,SAACy1B,EAAIC,GACmC,IAAD,IAGL,IAGU,IANhD,OAAI/d,IAAiBhB,GAAWgf,WACrB,OAAFF,QAAE,IAAFA,OAAA,YAAAA,EAAI/oB,iBAAJ,eAAerS,MAAf,OAAqBq7B,QAArB,IAAqBA,OAArB,YAAqBA,EAAIhpB,iBAAzB,aAAqB,EAAerS,KAAOod,GAAiB,EAAI,EAAKA,EAAgB,GAAK,EAE/FE,IAAiBhB,GAAWif,MACrB,OAAFH,QAAE,IAAFA,OAAA,YAAAA,EAAII,YAAJ,eAAU9oB,MAAV,OAAgB2oB,QAAhB,IAAgBA,OAAhB,YAAgBA,EAAIG,YAApB,aAAgB,EAAU9oB,KAAO0K,GAAiB,EAAI,EAAKA,EAAgB,GAAK,EAErFE,IAAiBhB,GAAW2e,gBACrB,OAAFG,QAAE,IAAFA,OAAA,YAAAA,EAAI3oB,eAAJ,eAAaD,SAAb,OAAsB6oB,QAAtB,IAAsBA,OAAtB,YAAsBA,EAAI5oB,eAA1B,aAAsB,EAAaD,QAAU4K,GAAiB,EAAI,EAAKA,EAAgB,GAAK,EAEjGE,IAAiBhB,GAAW0e,MAChBI,EAAGhsB,sBAAwBgsB,EAAGnmC,KAAKgJ,YAAem9B,EAAGnmC,KAAK+I,WAC1Dq9B,EAAGjsB,sBAAwBisB,EAAGpmC,KAAKgJ,YAAeo9B,EAAGpmC,KAAK+I,WAClDof,GAAiB,EAAI,EAAKA,EAAgB,GAAK,EAEhE,KAERtgB,MA/JkB,IA+JMigB,EAAO,GA/Jb,GA+JiBA,GACnCnpB,KAAI,SAACwa,EAAUtP,GACd,OACE,yBAAKjT,IAAKiT,GACR,kBAAC2e,EAAD,CAAU5xB,IAAKiT,EAAOA,MAAoB,IAAZie,EAAO,GAAUje,EAAQ,EAAGsP,SAAUA,IACpE,kBAACuH,GAAD,UAKV,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAU4I,QAAQ,EAAM1e,MAAO,CAAEgV,OAAQ,OAAQf,QAAS,KACtD+I,GACA,kBAAC,IAAD,CAAM2B,WAAW,aAAaC,eAAe,aAC3C,kBAAChtB,EAAD,CAAWqsB,KAAK,UAAhB,MAGJ,kBAAC,IAAD,CAAMU,WAAW,aAAaC,eAAe,cAC3C,kBAAChtB,EAAD,CAAWqsB,KAAK,UAAhB,SAEF,kBAAC,IAAD,CAAMU,WAAW,SAASC,eAAe,WACvC,kBAAC,GAAD,CACEX,KAAK,UACLxC,QAAS,SAAAoD,GACPnB,EAAgBjB,GAAW0e,OAC3B3d,EAAiBC,IAAiBhB,GAAW0e,QAAgB5d,KAG9DP,EAAW,QAAU,YAPxB,IAOsCS,IAAiBhB,GAAW0e,MAAU5d,EAAsB,SAAN,SAAa,MAGzGma,GACA,kBAAC,IAAD,CAAM/Y,WAAW,SAASC,eAAe,WACvC,kBAAC,GAAD,CACEX,KAAK,SACLxC,QAAS,WACPiC,EAAgBjB,GAAW2e,gBAC3B5d,EAAiBC,IAAiBhB,GAAW2e,iBAAyB7d,KAGvEP,EAAW,OAAS,oBAAqB,IACzCS,IAAiBhB,GAAW2e,eAAmB7d,EAAsB,SAAN,SAAa,MAKrF,kBAACzH,GAAD,MACA,kBAAC,GAAD,CAAMgJ,EAAG,GAAKwc,GAAkB,kBAAC,GAAD,OAChC,kBAAC,GAAD,KACE,yBAAK7f,QAAS,kBAAM0B,EAAiB,IAATD,EAAaA,EAAOA,EAAO,KACrD,kBAAC,GAAD,CAAOhB,MAAgB,IAATgB,GAAd,WAEF,kBAACtrB,EAAD,KAAY,QAAUsrB,EAAO,OAASE,GACtC,yBAAK3B,QAAS,kBAAM0B,EAAQD,IAASE,EAAUF,EAAOA,EAAO,KAC3D,kBAAC,GAAD,CAAOhB,MAAOgB,IAASE,GAAvB,gB,4gDCpTV,IAAMwe,GAAiBlqC,UAAOO,IAAV,MASdw8B,GAAS/8B,UAAOO,IAAV,MAEN+jC,GAAmBtkC,UAAOO,IAAV,MAIhB4pC,GAAkBnqC,UAAOO,IAAV,MAOf6pC,GAASpqC,UAAOO,IAAV,MAKU,qBAAGrD,MAAkBkB,OASrCisC,GAAUrqC,kBAAOoiB,GAAPpiB,CAAH,MAOW,qBAAG9C,MAAkBmB,OAIvCkmC,GAAevkC,UAAOO,IAAV,MASZ0jC,GAAUjkC,UAAOO,IAAV,MACS,qBAAGrD,MAAkBmB,OAChC,qBAAGnB,MAAkBY,SAuQjBwsC,OA/Pf,YAAmC,IAAD,MAAXhpB,EAAW,EAAXA,QAEflR,ElC6CD,SAA6BkR,GAAU,IAAD,IACHD,KADG,mBACpClnB,EADoC,KAC3B+b,EAD2B,KAC3BA,mBACV9F,EAAY,OAAGjW,QAAH,IAAGA,OAAH,YAAGA,EAAQmnB,UAAX,aAAG,mBAuBrB,OAtBA1lB,qBAAU,WAAM,4CACd,WAAyB0lB,GAAzB,eAAA9gB,EAAA,+EAEuBM,EAAOoH,MAAM,CAC9BA,MAAO9E,GACPyI,UAAW,CACTmR,KAAMsE,GAER9V,YAAa,aAPnB,QASI,QAPIC,EAFR,cASI,IAAIA,OAAJ,EAAIA,EAAQrD,OACV8N,EAAmBoL,EAAD,OAAU7V,QAAV,IAAUA,OAAV,EAAUA,EAAQrD,MAV1C,gDAaIlC,QAAQqC,IAAR,MAbJ,0DADc,uBAiBT6H,GAAgBkR,GAjBN,SAAD,2BAkBZhM,CAAUgM,KAEX,CAACA,EAASlR,EAAc8F,IAEpB9F,GAAgB,GkCtEFm6B,CAAoBjpB,GACnCC,ElCmUD,SAA0BD,GAAU,IAAD,IACHD,KADG,mBACjClnB,EADiC,KACxBsnB,EADwB,KACxBA,gBACVF,EAAS,OAAGpnB,QAAH,IAAGA,OAAH,YAAGA,EAAQmnB,UAAX,aAAG,gBAEZT,EAAYe,GAAiBN,GAJK,EAKrBpM,KAAZ/H,EALiC,oBAsCxC,OA/BAvR,qBAAU,WAAM,4CACd,WAAyB0lB,GAAzB,qBAAA9gB,EAAA,+EAEuBM,EAAOoH,MAAM,CAC9BA,MAAO/E,GACP0I,UAAW,CACTmR,KAAMsE,GAER9V,YAAa,aAPnB,oBAEQC,EAFR,kBASQA,OATR,YASQA,EAAQrD,YAThB,aASQ,EAAcoiC,oBATtB,gCAUqC3hC,QAAQyI,IAAR,OAC7B7F,QAD6B,IAC7BA,OAD6B,YAC7BA,EAAQrD,YADqB,aAC7B,EAAcoiC,mBAAmBnoC,IAAjC,uCAAqC,WAAMooC,GAAN,eAAAjqC,EAAA,sEACVogB,GAAmBU,EAASmpB,EAAa/mC,KAAMyJ,EAAU0T,GAD/C,cAC7B6pB,EAD6B,wCAG9BD,EAH8B,GAI9BC,IAJ8B,2CAArC,wDAXR,OAUUC,EAVV,OAmBMlpB,EAAgBH,EAASqpB,GAnB/B,yDAsBIzkC,QAAQqC,IAAR,MAtBJ,2DADc,uBA0BTgZ,GAAaD,GAAWnU,GAAY0T,GA1B1B,SAAD,2BA2BZvL,CAAUgM,KAEX,CAACA,EAASC,EAAWE,EAAiBtU,EAAU0T,IAE5CU,EkCzWWqpB,CAAiBtpB,GAG7BupB,GAA+B,OAAZz6B,QAAY,IAAZA,OAAA,YAAAA,EAAcgD,aAAd,eAAqBvN,SAArB,OAA8BuK,QAA9B,IAA8BA,OAA9B,YAA8BA,EAAc+C,aAA5C,aAA8B,EAAqBtN,SAAnD,OAA4DuK,QAA5D,IAA4DA,OAA5D,YAA4DA,EAAc8C,aAA1E,aAA4D,EAAqBrN,QAGtGilC,EAAkBpvC,mBAAQ,WAC5B,OAAmB,OAAZ0U,QAAY,IAAZA,OAAA,EAAAA,EAAcgD,OAAd,OACHhD,QADG,IACHA,OADG,EACHA,EAAcgD,MAAM5M,QAAO,SAACukC,EAAOpyB,GACjC,OAAOoyB,EAAQv+B,WAAWmM,EAAK2E,aAC9B,GACH,IACH,CAAClN,IAf4B,EAkBMmJ,oBAAS,GAlBf,mBAkBzByxB,EAlByB,KAkBZC,EAlBY,KAmBhCrvC,qBAAU,WACR,GAAI2lB,EACF,IAAK,IAAI3b,EAAI,EAAGA,EAAI2b,EAAU1b,OAAQD,KAElC9D,GAAmBgb,SAASyE,EAAU3b,GAAGlC,KAAKoJ,OAAOqD,KACrDrO,GAAmBgb,SAASyE,EAAU3b,GAAGlC,KAAKuJ,OAAOkD,MAErD86B,GAAe,KAIpB,CAAC1pB,IAGJ,IAAM2pB,EAAgB3pB,GAAkC,IAArBA,EAAU1b,OAjCb,EAkCQ0T,oBAAS,GAlCjB,mBAkCzBgV,EAlCyB,KAkCX4c,EAlCW,OAmCY5xB,qBAnCZ,mBAmCzB6xB,EAnCyB,KAmCTC,EAnCS,KAqC1BC,EAAmBF,EAAiB,CAACA,GAAkB7pB,EAEvDgqB,EAAa,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAkB9kC,QAAO,SAASukC,EAAOluB,GAC7D,OAAOkuB,EAAQluB,EAASwC,KAAK8B,MAC5B,GAEGqqB,EAAgB9vC,mBAAQ,WAC5B,OAAO4vC,EACHA,EAAiB9kC,QAAO,SAACukC,EAAOluB,GAAc,IAAD,IAC3C,OACEkuB,EACCv+B,WAAU,OAACqQ,QAAD,IAACA,OAAD,EAACA,EAAUgB,uBAAyBrR,WAAU,OAACqQ,QAAD,IAACA,OAAD,YAACA,EAAUnZ,YAAX,aAAC,EAAgBgJ,cAA1E,OACEmQ,QADF,IACEA,OADF,YACEA,EAAUnZ,YADZ,aACE,EAAgB+I,cAEnB,GACH,OACH,CAAC6+B,IAEJ1vC,qBAAU,WACRZ,OAAOijC,SAAS,CACdC,SAAU,SACVhL,IAAK,MAEN,IAEH,IAAM9H,EAAWC,aAAS,sBAE1B,OACE,kBAAC3G,GAAD,KACE,kBAACK,GAAD,KACE,kBAACpC,GAAD,KACE,kBAACziB,EAAD,KACE,kBAACikB,GAAD,CAAWwI,GAAG,aAAa,aAD7B,SACuD,IACrD,kBAAC,GAAD,CAAM0R,WAAY,UAAW7N,KAAM,+BAAiClP,EAAS5gB,OAAO,UACjF,IADH,OAEG4gB,QAFH,IAEGA,OAFH,EAEGA,EAAS/V,MAAM,EAAG,IAAK,OAG1B6f,GAAY,kBAAC,GAAD,CAAQuM,OAAO,KAE/B,kBAAC,GAAD,KACE,kBAAChV,GAAD,KACE,8BACE,kBAACziB,EAAD,CAAaG,SAAU,KAAY,OAAPihB,QAAO,IAAPA,OAAA,EAAAA,EAAS/V,MAAM,EAAG,IAAK,OAAvB,OAA+B+V,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAS/V,MAAM,GAAI,MAC9E,kBAAC,GAAD,CAAM8yB,WAAY,UAAW7N,KAAM,+BAAiClP,EAAS5gB,OAAO,UAClF,kBAACR,EAAD,CAAWG,SAAU,IAArB,qBAGJ,kBAAC6pC,GAAD,KACE,kBAAC1lB,GAAD,KACE,kBAAC,KAAD,CAAUlW,MAAO,CAAEw0B,QAAS,UAKpC,kBAAC,GAAD,KACGkI,GAAe,kBAAC,GAAD,0EACdE,GACA,kBAACf,GAAD,KACE,kBAACpU,GAAD,CAAgBtJ,MAAM,OAAO1C,QAAS,kBAAMohB,GAAiB5c,IAAevZ,KAAMuZ,IAC9E6c,GACA,kBAACroB,GAAD,KACE,kBAACyB,GAAD,KACE,kBAAC,KAAD,CAAUc,KAAM,MAElB,kBAACplB,EAAD,CAAWkkC,GAAI,QAAf,kBAGHgH,GACC,kBAACroB,GAAD,KACE,kBAACkD,GAAD,CAAiBC,GAAIklB,EAAe1nC,KAAKoJ,OAAOqD,GAAIgW,GAAIilB,EAAe1nC,KAAKuJ,OAAOkD,GAAImV,KAAM,KAC7F,kBAACplB,EAAD,CAAWkkC,GAAI,QACZgH,EAAe1nC,KAAKoJ,OAAO7P,OAD9B,IACuCmuC,EAAe1nC,KAAKuJ,OAAOhQ,OADlE,eAMLsxB,GACC,kBAAC6b,GAAD,KACE,kBAACnnB,GAAD,CAAYH,IAAI,OAAhB,OACGvB,QADH,IACGA,OADH,EACGA,EAAWlf,KAAI,SAAC+qB,EAAGxnB,GAOlB,MAN6B,SAAzBwnB,EAAE1pB,KAAKuJ,OAAOhQ,SAChBmwB,EAAE1pB,KAAKuJ,OAAOhQ,OAAS,OAEI,SAAzBmwB,EAAE1pB,KAAKoJ,OAAO7P,SAChBmwB,EAAE1pB,KAAKoJ,OAAO7P,OAAS,OAGvBmwB,EAAE1pB,KAAKyM,MAAP,OAAci7B,QAAd,IAAcA,OAAd,EAAcA,EAAgB1nC,KAAKyM,KACjC,kBAACk6B,GAAD,CACEtgB,QAAS,WACPshB,EAAkBje,GAClB+d,GAAgB,IAElB7wC,IAAKsL,GAEL,kBAACqgB,GAAD,CAAiBC,GAAIkH,EAAE1pB,KAAKoJ,OAAOqD,GAAIgW,GAAIiH,EAAE1pB,KAAKuJ,OAAOkD,GAAImV,KAAM,KACnE,kBAACplB,EAAD,CAAWkkC,GAAI,QACZhX,EAAE1pB,KAAKoJ,OAAO7P,OADjB,IAC0BmwB,EAAE1pB,KAAKuJ,OAAOhQ,OADxC,iBAOPmuC,GACC,kBAACf,GAAD,CACEtgB,QAAS,WACPshB,IACAF,GAAgB,KAGlB,kBAACpoB,GAAD,KACE,kBAACyB,GAAD,KACE,kBAAC,KAAD,CAAUc,KAAM,MAElB,kBAACplB,EAAD,CAAWkkC,GAAI,QAAf,uBASd8G,GACA,kBAAC,GAAD,CAAO58B,MAAO,CAAEgV,OAAQ,OAAQkb,aAAc,SAC5C,kBAAC5b,GAAD,CAASE,IAAI,QACX,kBAACG,GAAD,CAAYH,IAAI,QACd,kBAACH,GAAD,KACE,kBAACziB,EAAD,mCACA,+BAEF,kBAAC6iB,GAAD,CAAUT,MAAM,YACd,kBAACpiB,EAAD,CAAaG,SAAU,OAAQg+B,WAAY,GACxCmN,EACGh9B,GAAag9B,GAAe,GACV,IAAlBA,EACAh9B,GAAa,GAAG,GAChB,OAIV,kBAACyU,GAAD,CAAYH,IAAI,QACd,kBAACH,GAAD,KACE,kBAACziB,EAAD,iCACA,+BAEF,kBAAC6iB,GAAD,CAAUT,MAAM,YACd,kBAACpiB,EAAD,CAAaG,SAAU,OAAQg+B,WAAY,EAAGjhC,MAAOmuC,GAAiB,SACnEA,EAAgB/8B,GAAa+8B,GAAe,GAAM,GAAQ,UAOrEL,GACA,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAO58B,MAAO,CAAEu4B,WAAY,MACzBuE,EACC,kBAAC,GAAD,CAAkB9pB,QAASA,EAASzE,SAAUuuB,IAE9C,kBAAC,GAAD,CAAW9pB,QAASA,EAASzE,SAAUuuB,MAK/C,kBAAClrC,EAAD,CAAWG,SAAU,WAAYiO,MAAO,CAAEiwB,UAAW,SAArD,aAEa,IACb,kBAAC,GAAD,CACEjwB,MAAO,CACLiwB,UAAW,WAGb,kBAAC,GAAD,CAAchd,UAAWA,KAE3B,kBAACrhB,EAAD,CAAWG,SAAU,WAAYiO,MAAO,CAAEiwB,UAAW,SAArD,gBAEa,IACb,kBAAC,GAAD,CACEjwB,MAAO,CACLiwB,UAAW,WAGb,kBAAC,GAAD,CAASnuB,aAAcA,KAEzB,kBAAClQ,EAAD,CAAWG,SAAU,WAAYiO,MAAO,CAAEiwB,UAAW,SAArD,gBAEa,IACb,kBAAC,GAAD,CACEjwB,MAAO,CACLiwB,UAAW,WAGb,kBAAC3b,GAAD,CAASE,IAAI,QACX,kBAACG,GAAD,CAAYH,IAAI,OACd,kBAAC5iB,EAAD,CAAaG,SAAU,IAAKyqC,EAAkBt8B,GAAas8B,GAAiB,GAAQ,KACpF,kBAAC5qC,EAAD,6BAEF,kBAAC+iB,GAAD,CAAYH,IAAI,OACd,kBAAC5iB,EAAD,CAAaG,SAAU,IACpByqC,EAAkBt8B,GAA+B,KAAlBs8B,GAAyB,GAAQ,KAEnE,kBAAC5qC,EAAD,yBAEF,kBAAC+iB,GAAD,CAAYH,IAAI,OACd,kBAAC5iB,EAAD,CAAaG,SAAU,IAAKwqC,GAAsC,KAClE,kBAAC3qC,EAAD,kCCzSDurC,OAxBf,WACE,IAAMz1B,EAAY0G,KAElB9gB,qBAAU,WACRZ,OAAOijC,SAAS,EAAG,KAClB,IAEH,IAAM7S,EAAWC,aAAS,sBAE1B,OACE,kBAAC3G,GAAD,KACE,kBAACO,GAAD,KACE,kBAACtC,GAAD,KACE,kBAACziB,EAAD,oBACEkrB,GAAY,kBAAC,GAAD,CAAQuM,OAAO,KAE/B,kBAAC,GAAD,CAAOrpB,MAAO,CAAEiwB,UAAW,MAAOhc,QAAS6I,GAAY,gBACrD,kBAAC,GAAD,CAAcriB,OAAQiN,EAAW2X,QAAS,SCOrC+d,OAxBf,WACE,IAAMt6B,EAAWmE,KAEjB3Z,qBAAU,WACRZ,OAAOijC,SAAS,EAAG,KAClB,IAEH,IAAMjH,EAAW3L,aAAS,sBAE1B,OACE,kBAAC3G,GAAD,KACE,kBAACO,GAAD,KACE,kBAACtC,GAAD,KACE,kBAACziB,EAAD,mBACE82B,GAAY,kBAAC,GAAD,CAAQW,OAAO,KAE/B,kBAAC,GAAD,CAAOrpB,MAAO,CAAEiU,QAASyU,GAAY,gBACnC,kBAAC,GAAD,CAAUzzB,MAAO6N,EAAU8Z,cAAc,EAAMC,SAAU,S,upCCZnE,IAAM8C,GAAUjuB,UAAOO,IAAV,MASPq3B,GAAQ53B,UAAO63B,MAAV,MAWA,qBAAG36B,MAAkBY,SACV,qBAAGZ,MAAkBkB,OAGrB,qBAAGlB,MAAkBoB,OAG9B,qBAAGpB,MAAkBc,SAW5B2tC,GAAc3rC,UAAO2kB,KAAV,MAGN,qBAAGznB,MAAkB0C,QAK1B8qB,GAAW1qB,UAAOO,IAAV,MA2GC0qB,qBA/Ff,YAA4C,IAAnByZ,EAAkB,EAAlBA,QAAS/M,EAAS,EAATA,MAAS,EACDpe,qBADC,mBAClCqyB,EADkC,KACpBC,EADoB,OjDuCpC,WAA6B,IAAD,EACF7xC,IADE,mBAC1BG,EAD0B,KACjBqB,EADiB,KACjBA,UAkBhB,MAAO,CAjBY,OAAGrB,QAAH,IAAGA,OAAH,EAAGA,EAAK,eAE3B,SAAoBmnB,GAClB,IAAIwqB,EAAW,OAAG3xC,QAAH,IAAGA,OAAH,EAAGA,EAAK,eACvB2xC,EAAY7/B,KAAKqV,GACjB9lB,EAjHmB,iBAiHOswC,IAG5B,SAAuBxqB,GACrB,IAAIwqB,EAAW,OAAG3xC,QAAH,IAAGA,OAAH,EAAGA,EAAK,eACnBoT,EAAQu+B,EAAYC,QAAQzqB,GAC5B/T,GAAS,GACXu+B,EAAYE,OAAOz+B,EAAO,GAE5B/R,EA1HmB,iBA0HOswC,KiDrDuBG,GAFV,mBAElCC,EAFkC,KAEnBC,EAFmB,KAEPC,EAFO,KAazC,OACE,kBAACnpB,GAAD,CAAYH,IAAK,SACb6U,GACA,oCACE,kBAAC/U,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE+Y,YAAY,QACZC,SAAU,SAAAzO,GACR0e,EAAgB1e,EAAEzsB,OAAOnG,WAI/B,kBAACu7B,GAAD,CAAa/L,QAtBvB,WACMnc,GAAUg+B,KACZlH,EAAQz4B,KAAK,YAAc2/B,GACtBM,EAAcpvB,SAAS8uB,IAC1BO,EAAWP,MAkBP,0BAKN,kBAAC3oB,GAAD,CAAYH,IAAK,SACb6U,GACA,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAU3K,QAAQ,EAAM1e,MAAO,CAAEgV,OAAQ,cAAef,QAAS,eAC/D,kBAACriB,EAAD,CAAWqsB,KAAK,WAAhB,mBAEF,kBAACnI,GAAD,OACc,OAAb8nB,QAAa,IAAbA,OAAA,EAAAA,EAAermC,QAAS,EACvBqmC,EAAc7pC,KAAI,SAAAif,GAChB,OACE,kBAAC,GAAD,CAAUhnB,IAAKgnB,EAAS0L,QAAQ,EAAM1e,MAAO,CAAEgV,OAAQ,cAAef,QAAS,eAC7E,kBAAC,IAAD,CACEgK,KAAK,UACLW,eAAe,gBACfnD,QAAS,kBAAM2a,EAAQz4B,KAAK,YAAcqV,KAE1C,kBAACqqB,GAAD,YAAcrqB,QAAd,IAAcA,OAAd,EAAcA,EAAS/V,MAAM,EAAG,KAChC,kBAAC,GAAD,CAAOwe,QAAS,kBAAMqiB,EAAc9qB,KAClC,kBAACkD,GAAD,KACE,kBAAC,KAAD,CAAGc,KAAM,YAQrB,kBAACplB,EAAD,CAAYoO,MAAO,CAAEiwB,UAAW,SAAhC,sBAKL5G,GACC,oCACE,kBAACz3B,EAAD,KAAY,aACE,OAAbgsC,QAAa,IAAbA,OAAA,EAAAA,EAAermC,QAAS,EACvBqmC,EAAc7pC,KAAI,SAAAif,GAChB,OACE,kBAACqB,GAAD,CAAYroB,IAAKgnB,GACf,kBAAC0U,GAAD,CAAajM,QAAS,kBAAM2a,EAAQz4B,KAAK,YAAcqV,KACpDqW,EACC,kBAACz3B,EAAD,MAAqB,OAAPohB,QAAO,IAAPA,OAAA,EAAAA,EAAS/V,MAAM,EAAG,IAAK,OAAvB,OAA+B+V,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAS/V,MAAM,GAAI,MAEhE,kBAACogC,GAAD,YAAcrqB,QAAd,IAAcA,OAAd,EAAcA,EAAS/V,MAAM,EAAG,MAGpC,kBAAC,GAAD,CAAOwe,QAAS,kBAAMqiB,EAAc9qB,KAClC,kBAACkD,GAAD,KACE,kBAAC,KAAD,CAAGc,KAAM,WAOnB,kBAACplB,EAAD,gC,2rBCnJd,IAAMmsC,GAAcrsC,UAAOO,IAAV,MAKN,qBAAGyU,KAAmB,QAAU,UAE1B,gBAAG9X,EAAH,EAAGA,MAAH,EAAU8X,KAAV,MAAqB,YAAc9X,EAAMoB,OACpC,qBAAGpB,MAAkBkB,OAQrCkuC,GAActsC,kBAAO2iB,GAAP3iB,CAAH,MACG,qBAAGgV,MAAmB,UACvB,gBAAG9X,EAAH,EAAGA,MAAH,SAAU8X,MAAmB,YAAc9X,EAAMoB,OACjD,qBAAG0W,MAAmB,aAOnCu3B,GAAgBvsC,kBAAOijB,GAAPjjB,CAAH,MAKbwkB,GAAaxkB,UAAOO,IAAV,MACL,qBAAGrD,MAAkBa,SAwGjBktB,qBArGf,YAAsD,IAAhCyZ,EAA+B,EAA/BA,QAAS1vB,EAAsB,EAAtBA,KAAMw3B,EAAgB,EAAhBA,aAAgB,EAChB/vC,IADgB,mBAC5CgsC,EAD4C,KAC9BgE,EAD8B,OAEdzvC,IAFc,mBAE5CupC,EAF4C,KAE7BmG,EAF6B,KAInD,OAAQ13B,EASN,kBAACq3B,GAAD,CAAavpB,IAAI,OAAO9N,KAAMA,GAC5B,kBAACs3B,GAAD,CAAaviB,QAAS,kBAAMyiB,GAAa,IAAQx3B,KAAMA,GACrD,kBAAC+N,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,KAAD,CAAUuC,KAAM,MAElB,kBAACplB,EAAD,CAAWkkC,GAAI,OAAf,UAEF,kBAAC,GAAD,KACE,kBAAC,KAAD,QAGJ,kBAAC,GAAD,CAAezM,OAAO,IACtB,kBAAC1U,GAAD,CAAYH,IAAI,OAAOxU,MAAO,CAAEiwB,UAAW,SACzC,kBAACtb,GAAD,CAAYH,IAAK,QACf,kBAAC5iB,EAAD,qBACCwL,OAAOC,KAAK88B,GAAYh0B,QAAO,SAAAna,GAC9B,QAASmuC,EAAWnuC,MACnBuL,OAAS,EACV6F,OAAOC,KAAK88B,GACTh0B,QAAO,SAAA/X,GACN,QAAS+rC,EAAW/rC,MAErB2F,KAAI,SAAA3F,GACH,IAAMgH,EAAO+kC,EAAW/rC,GACxB,OACE,kBAACimB,GAAD,CAAYroB,IAAKoJ,EAAKhH,SACpB,kBAACs5B,GAAD,CAAajM,QAAS,kBAAM2a,EAAQz4B,KAAK,SAAWvP,KAClD,kBAACqmB,GAAD,KACE,kBAAC7iB,EAAD,KACE,kBAAC,GAAD,CACEwpB,KAAMhmB,EAAK7G,aAAe,IAAM6G,EAAK5G,aACrCstB,cAAe,GACf/pB,SAAU,YAKlB,kBAAC,GAAD,CAAO0pB,QAAS,kBAAM0iB,EAAW/oC,EAAKhH,WACpC,kBAAC,GAAD,KACE,kBAAC,KAAD,CAAG4oB,KAAM,WAOrB,kBAACplB,EAAD,wCAGJ,kBAACqsC,GAAD,CAAezpB,IAAK,QAClB,kBAAC5iB,EAAD,sBACCwL,OAAOC,KAAK46B,GAAa9xB,QAAO,SAAAna,GAC/B,QAASisC,EAAYjsC,MACpBuL,OAAS,EACV6F,OAAOC,KAAK46B,GACT9xB,QAAO,SAAA/X,GACN,QAAS6pC,EAAY7pC,MAEtB2F,KAAI,SAAA3F,GACH,IAAM4d,EAAQisB,EAAY7pC,GAC1B,OACE,kBAACimB,GAAD,CAAYroB,IAAKoC,GACf,kBAACs5B,GAAD,CAAajM,QAAS,kBAAM2a,EAAQz4B,KAAK,UAAYvP,KACnD,kBAACqmB,GAAD,KACE,kBAACyC,GAAD,CAAW9oB,QAASA,EAAS4oB,KAAM,SACnC,kBAACplB,EAAD,CAAakkC,GAAI,OACf,kBAAC,GAAD,CAAe1a,KAAMpP,EAAMrd,OAAQmtB,cAAe,GAAI/pB,SAAU,YAItE,kBAAC,GAAD,CAAO0pB,QAAS,kBAAM2iB,EAAYhwC,KAChC,kBAAC,GAAD,KACE,kBAAC,KAAD,CAAG4oB,KAAM,WAOrB,kBAACplB,EAAD,2CAxFR,kBAACmsC,GAAD,CAAar3B,KAAMA,EAAM+U,QAAS,kBAAMyiB,GAAa,KACnD,kBAACF,GAAD,CAAat3B,KAAMA,GACjB,kBAAC,GAAD,KACE,kBAAC,KAAD,CAAUsQ,KAAM,W,sWC/C1B,IAAMqnB,GAAe3sC,UAAOO,IAAV,MAUZqsC,GAAU5sC,kBAAO4jB,GAAP5jB,CAAH,MAOE,SAAS6sC,KACtB,IAAMnI,EAAUoI,eAEhB,OACE,kBAACH,GAAD,CAAc5iB,QAAS,kBAAM2a,EAAQz4B,KAAK,OACxC,kBAAC,IAAD,CAAMghB,WAAW,UACf,kBAAClK,GAAD,KACE,kBAAC6pB,GAAD,CAASz8B,GAAG,OAAO4Z,QAAS,kBAAM2a,EAAQz4B,KAAK,OAC7C,yBAAKwgB,MAAO,OAAQhJ,IAAKspB,KAAMppB,IAAI,UAErC,yBAAK8I,MAAO,OAAQne,MAAO,CAAEwb,WAAY,MAAOyU,UAAW,OAAS9a,IAAKupB,KAAUrpB,IAAI,Y,mbCjCjG,IAAMU,GAAcrkB,UAAOO,IAAV,MACJ,qBAAGukB,SAA2B,GAAM,MAO3CmoB,GAAejtC,UAAOO,IAAV,MAkBH,SAAS2sC,GAAT,GAAoD,IAAlCpoB,EAAiC,EAAjCA,SAAUqoB,EAAuB,EAAvBA,OACzC,OACE,kBAACF,GAAD,CAAcljB,QAASojB,GACrB,8BACE,kBAAC,GAAD,CAAaroB,UAAWA,GACtB,kBAAC,KAAD,CAAKQ,KAAM,OAGf,0BAAMhX,MAAO,CAAEiU,QAAS,YAAc,OACtC,8BACE,kBAAC,GAAD,CAAauC,SAAUA,GACrB,kBAAC,KAAD,CAAMQ,KAAM,Q,g0DC1BtB,IAAM2I,GAAUjuB,UAAOO,IAAV,MACD,qBAAG6sC,SAA2B,UAAY,WAChC,gBAAGlwC,EAAH,EAAGA,MAAH,OAAeqqB,aAAe,GAAKrqB,EAAMkB,QACpD,qBAAGlB,MAAkBY,SAQrB,qBAAGZ,MAAkBmB,OAY1BgvC,GAASrtC,UAAOO,IAAV,MAGC,qBAAG+sC,WAA+B,EAAI,MACxC,qBAAGpwC,MAAkBiB,SAO1BovC,GAAiBvtC,UAAOO,IAAV,MAOditC,GAAgBxtC,UAAOO,IAAV,MAMbktC,GAAaztC,UAAOO,IAAV,MAWH,qBAAGrD,MAAkBiB,SAI5BuvC,GAAU1tC,UAAOO,IAAV,MAaPotC,GAAa3tC,UAAOO,IAAV,MAQM,qBAAGrD,MAAkBuC,UAiI5BwrB,qBA9Hf,YAA+B,IAAD,QAAXyZ,EAAW,EAAXA,QACXnZ,EAAYF,aAAS,uBAErB8R,EAAY9R,aAAS,uBAErBuiB,E/C2HD,WAA4B,IAAD,EACQ1mC,KADR,mBACzB/M,EADyB,KAChByN,EADgB,KAChBA,mBACVimC,EAAY,OAAG1zC,QAAH,IAAGA,OAAH,EAAGA,EAAK,cAE1ByB,qBAAU,WACHiyC,GACHjmC,EAAmB3L,KAAKC,UANI,MAUFqd,mBAAS,GAVP,mBAUzBq0B,EAVyB,KAUhBE,EAVgB,KAqBhC,OATAlyC,qBAAU,WACR,IAAI2e,EAKJ,OAJAA,EAAWyO,aAAY,WAAO,IAAD,EAC3B8kB,EAAU,UAAC7xC,KAAKC,MAAQ2xC,SAAd,QAA8B5xC,KAAKC,SAC5C,KAEI,kBAAM+sB,cAAc1O,MAC1B,CAACqzB,EAASC,IAENv5B,SAASs5B,EAAU,K+ChJVG,GALY,EAOK5xC,IAPL,mBAOrB6xC,EAPqB,KAOb3xC,EAPa,KAS5B,OACE,kBAAC,GAAD,CAAS+wC,SAAU7hB,GACfA,EA2GA,kBAACiiB,GAAD,KACE,kBAACX,GAAD,OA3GF,kBAACU,GAAD,KACE,kBAACtqB,GAAD,CAAYH,IAAI,OAAOxU,MAAO,CAAEwb,WAAY,SAAUyU,UAAW,WAC/D,kBAACsO,GAAD,OACEthB,GACA,kBAACtI,GAAD,CAAYH,IAAI,UAAUxU,MAAO,CAAEiwB,UAAW,SAC5C,kBAACpa,GAAD,CAAWwI,GAAG,SACZ,kBAAC0gB,GAAD,CAAQC,WAAU,UAAgC,UAA9B5I,EAAQyB,SAASC,gBAAnB,aAA2C9qC,GAC3D,kBAAC,KAAD,CAAYgqB,KAAM,GAAIhX,MAAO,CAAEke,YAAa,YAD9C,aAKF,kBAACrI,GAAD,CAAWwI,GAAG,WACZ,kBAAC0gB,GAAD,CACEC,WAAU,UACqC,WAA5C5I,EAAQyB,SAASC,SAASthC,MAAM,KAAK,IACQ,UAA5C4/B,EAAQyB,SAASC,SAASthC,MAAM,KAAK,UAF/B,aAGRxJ,GAGF,kBAAC,KAAD,CAAMgqB,KAAM,GAAIhX,MAAO,CAAEke,YAAa,YAPxC,WAWF,kBAACrI,GAAD,CAAWwI,GAAG,UACZ,kBAAC0gB,GAAD,CACEC,WAAU,UACqC,UAA5C5I,EAAQyB,SAASC,SAASthC,MAAM,KAAK,IACQ,SAA5C4/B,EAAQyB,SAASC,SAASthC,MAAM,KAAK,UAF/B,aAGRxJ,GAGF,kBAAC,KAAD,CAAUgqB,KAAM,GAAIhX,MAAO,CAAEke,YAAa,YAP5C,UAYF,kBAACrI,GAAD,CAAWwI,GAAG,aACZ,kBAAC0gB,GAAD,CACEC,WAAU,UACqC,aAA5C5I,EAAQyB,SAASC,SAASthC,MAAM,KAAK,IACQ,YAA5C4/B,EAAQyB,SAASC,SAASthC,MAAM,KAAK,UAF/B,aAGRxJ,GAGF,kBAAC,KAAD,CAAMgqB,KAAM,GAAIhX,MAAO,CAAEke,YAAa,YAPxC,eAcR,kBAACvJ,GAAD,CAAYH,IAAI,SAASxU,MAAO,CAAEwb,WAAY,SAAU0U,aAAc,SACpE,kBAACiP,GAAD,KACE,kBAAC,GAAD,CAAMjd,KAAK,sBAAsB9vB,OAAO,UAAxC,gBAIF,kBAAC+sC,GAAD,KACE,kBAAC,GAAD,CAAMjd,KAAK,uBAAuB9vB,OAAO,UAAzC,aAIF,kBAAC+sC,GAAD,KACE,kBAAC,GAAD,CAAMjd,KAAK,6BAA6B9vB,OAAO,UAA/C,YAIF,kBAAC+sC,GAAD,KACE,kBAAC,GAAD,CAAMjd,KAAK,sCAAsC9vB,OAAO,UAAxD,YAIF,kBAAC+sC,GAAD,KACE,kBAAC,GAAD,CAAMjd,KAAK,gDAAgD9vB,OAAO,UAAlE,kBAIF,kBAAC+sC,GAAD,KACE,kBAAC,GAAD,CAAMjd,KAAK,8DAA8D9vB,OAAO,UAAhF,cAIF,kBAAC+sC,GAAD,KACE,kBAAC,GAAD,CAAMjd,KAAK,iDAAiD9vB,OAAO,UAAnE,cAIF,kBAAC+sC,GAAD,KACE,kBAAC,GAAD,CAAMjd,KAAK,8CAA8C9vB,OAAO,UAAhE,kBAIF,kBAACwsC,GAAD,CAAQpoB,SAAUkpB,EAAQb,OAAQ9wC,MAElC8gC,GACA,kBAACuQ,GAAD,CAASp/B,MAAO,CAAEwb,WAAY,UAC5B,kBAAC6jB,GAAD,MACA,uBAAGnd,KAAK,IAAIliB,MAAO,CAAElR,MAAO,UAC1B,kBAAC8C,EAAD,CAAY9C,MAAO,SAAnB,WACawwC,EAAUA,EAAU,IAAM,IADvC,QACgD,qC,q0CCpMhE9mC,KAAMC,OAAOC,MAEb,IAAMujB,GAAcvqB,UAAOO,IAAV,MAQXknB,GAAQznB,UAAOO,IAAV,MACA,qBAAGrD,MAAkB4B,YACnB,SAAAqB,GAAK,OAAKA,EAAMqqB,MAAQ,GAAM,KAQrCC,GAAOzqB,kBAAOqiB,IAAPriB,CAAH,MAIJ0qB,GAAW1qB,UAAOO,IAAV,MAsBRoqB,GAAc3qB,UAAOO,IAAV,MAEXsqB,GAAW7qB,kBAAO8qB,IAAP9qB,CAAH,MAGH,qBAAG9C,MAAkBY,SAoHjBmtB,qBA1Gf,YAAuD,IAArCgjB,EAAoC,EAApCA,IAAK/iB,EAA+B,EAA/BA,aAA+B,IAAjBC,gBAAiB,MAAN,GAAM,EAC9CC,EAAWC,aAAS,sBACpB2L,EAAW3L,aAAS,sBAF0B,EAK5B9R,mBAAS,GALmB,mBAK7CiS,EAL6C,KAKvCC,EALuC,OAMtBlS,mBAAS,GANa,mBAM7CmS,EAN6C,KAMpCC,EANoC,KAO9CC,EAAiBT,EAEvBvvB,qBAAU,WACR+vB,EAAW,GACXF,EAAQ,KACP,CAACwiB,IAEJryC,qBAAU,WACR,GAAIqyC,EAAK,CACP,IAAIhiB,EAAa,EACbvgB,OAAOC,KAAKsiC,GAAKpoC,OAAS+lB,IAAmB,IAC/CK,EAAa,GAEfN,EAAW5vB,KAAKC,MAAM0P,OAAOC,KAAKsiC,GAAKpoC,OAAS+lB,GAAkBK,MAEnE,CAACL,EAAgBqiB,IAEpB,IAAM/hB,EAAW,SAAC,GAAmB,IAAjBgiB,EAAgB,EAAhBA,GAAI3gC,EAAY,EAAZA,MACtB,OACE,kBAAC,GAAD,CAAUe,MAAO,CAAEgV,OAAQ,QAAU4H,aAAcA,EAAcoB,OAAO,IACpElB,GACA,kBAAC,GAAD,CAAUmB,KAAK,SAASnsB,WAAW,OAChCmN,GAGL,kBAAC,GAAD,CAAUgf,KAAK,OAAOnsB,WAAW,MAAM8sB,eAAe,cACpD,kBAACnJ,GAAD,CAAYzV,MAAO,CAAEwb,WAAYsB,EAAW,EAAI,OAAQsB,WAAY,UAAYC,GAAI,YAAcuhB,EAAGlxB,KAAK7M,IACvG6mB,EAAWkX,EAAGlxB,KAAK7M,GAAG5E,MAAM,EAAG,GAAK,MAAQ2iC,EAAGlxB,KAAK7M,GAAG5E,MAAM,GAAI,IAAM2iC,EAAGlxB,KAAK7M,KAUpF,kBAAC,GAAD,KACE,kBAAC4T,GAAD,CAAYwI,KAAK,OAAOI,GAAI,SAAWuhB,EAAGprC,aACxC,kBAACigB,GAAD,MACIqI,GAAY,kBAACnF,GAAD,CAAiBC,GAAIgoB,EAAGphC,OAAQqZ,GAAI+nB,EAAGjhC,OAAQqY,KAAM,GAAIc,QAAQ,IAC9E8nB,EAAGC,YAIV,kBAAC,GAAD,CAAU5hB,KAAK,SAAS/d,GAAa0/B,EAAGz/B,KAAK,MAK7C2/B,EACJH,GACAA,EAAI1iC,MAAMqgB,GAAkBJ,EAAO,GAAIA,EAAOI,GAAgBvpB,KAAI,SAAC6rC,EAAI3gC,GACrE,OACE,yBAAKjT,IAAKiT,GACR,kBAAC2e,EAAD,CAAU5xB,IAAKiT,EAAOA,MAAoB,IAAZie,EAAO,GAAUje,EAAQ,EAAG2gC,GAAIA,IAC9D,kBAAC9pB,GAAD,UAKR,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAU4I,QAAQ,EAAM9B,aAAcA,EAAc5c,MAAO,CAAEgV,OAAQ,cAAef,QAAS,iBACzF6I,GACA,kBAAC,IAAD,CAAM6B,WAAW,SAASC,eAAe,cACvC,kBAAChtB,EAAD,CAAWqsB,KAAK,UAAhB,MAGJ,kBAAC,IAAD,CAAMU,WAAW,SAASC,eAAe,cACvC,kBAAChtB,EAAD,CAAWqsB,KAAK,QAAhB,YAOF,kBAAC,IAAD,CAAMU,WAAW,SAASC,eAAe,WACvC,kBAAChtB,EAAD,CAAWqsB,KAAK,QAAhB,SAEF,kBAAC,IAAD,CAAMU,WAAW,SAASC,eAAe,WACvC,kBAAChtB,EAAD,CAAWqsB,KAAK,SAAhB,WAGJ,kBAACnI,GAAD,MACA,kBAAC,GAAD,CAAMgJ,EAAG,GAAKghB,GAAS,kBAAC,GAAD,OACvB,kBAAC,GAAD,KACE,yBAAKrkB,QAAS,kBAAM0B,EAAiB,IAATD,EAAaA,EAAOA,EAAO,KACrD,kBAAC,GAAD,CAAOhB,MAAgB,IAATgB,GAAd,WAEF,kBAACtrB,EAAD,KAAY,QAAUsrB,EAAO,OAASE,GACtC,yBAAK3B,QAAS,kBAAM0B,EAAQD,IAASE,EAAUF,EAAOA,EAAO,KAC3D,kBAAC,GAAD,CAAOhB,MAAOgB,IAASE,GAAvB,gB,0ICjKV,IAAMwe,GAAiBlqC,UAAOO,IAAV,MAmCL0qB,qBA7Bf,WAEErvB,qBAAU,WACRZ,OAAOijC,SAAS,EAAG,KAClB,IAEH,IAAMhoB,E9CgnBD,WAAsB,IAAD,EACQP,KADR,mBACnBvb,EADmB,KACVoc,EADU,KACVA,aACZN,EAAM,OAAG9b,QAAH,IAAGA,OAAH,EAAGA,EAAO8b,OAEd7E,EAAWmE,KA0DjB,OAxDA3Z,qBAAU,WAAM,4CACd,wCAAA4E,EAAA,6DAEMyP,EAFN,UAEiBvE,OAAOC,KAAKyF,UAF7B,uBAEiB,EACXgD,MAAK,SAAC5T,EAAG6T,GAAJ,OAAU7H,WAAW4E,EAAS5Q,GAAGiM,WAAa2E,EAASiD,GAAG5H,YAAc,EAAI,aAHvF,aAEiB,EAEXlB,MAAM,EAAG,IACVlJ,KAAI,SAAAqB,GAAI,OAAIA,KALjB,SAOyBmF,QAAQyI,IAC7BrB,EAAS5N,IAAT,uCAAa,WAAMqB,GAAN,iBAAAlD,EAAA,+EAGuBM,EAAOoH,MAAM,CAC3CA,MAAOtF,GACPiJ,UAAW,CACTnI,KAAMA,EAAK6iB,YAEb/a,YAAa,gBARN,qBAGK2R,EAHL,EAGD/U,MAHC,yCAWA+U,EAAQqtB,oBAXR,gHAAb,wDARJ,OAOM6D,EAPN,OA0BQp4B,EAAS,GACfo4B,EACG55B,QAAO,SAAA7O,GAAC,QAAMA,KACdvD,KAAI,SAAA2I,GACH,OAAOA,EAAK3I,KAAI,SAAA+V,GACd,IAAMhG,EAAWhB,EAASgH,EAAM1U,KAAKyM,IACrC,OAAO8F,EAAOhK,KAAK,CACjB+Q,KAAM5E,EAAM4E,KACZmxB,SAAU/7B,EAAStF,OAAO7P,OAAS,IAAMmV,EAASnF,OAAOhQ,OACzD6F,YAAasV,EAAM1U,KAAKyM,GACxBrD,OAAQsF,EAAStF,OAAOqD,GACxBlD,OAAQmF,EAASnF,OAAOkD,GACxB1B,IACGjC,WAAW4L,EAAMyF,uBAAyBrR,WAAW4F,EAAS1F,aAC/DF,WAAW4F,EAAS3F,oBAKxB6hC,EAASr4B,EAAO7B,MAAK,SAAC5T,EAAG6T,GAAJ,OAAW7T,EAAEiO,IAAM4F,EAAE5F,KAAO,EAAI,KACrD8/B,EAAUD,EAAOtC,OAAO,EAAG,KACjCz1B,EAAag4B,GA/Cf,4CADc,uBAmDTt4B,GAAU7E,GAAY1F,OAAOC,KAAKyF,GAAUvL,OAAS,GAnD3C,WAAD,wBAoDZyP,MAIGW,E8C9qBQu4B,GAETpjB,EAAWC,aAAS,sBAE1B,OACE,kBAAC3G,GAAD,KACE,kBAACO,GAAD,KACE,kBAACtC,GAAD,KACE,kBAACziB,EAAD,0BACEkrB,GAAY,kBAAC,GAAD,CAAQuM,OAAO,KAE/B,kBAAC,GAAD,KACE,kBAAC,GAAD,OAEF,kBAACz3B,EAAD,CAAWG,SAAU,WAAYiO,MAAO,CAAEiwB,UAAW,SAArD,2BAGA,kBAAC,GAAD,KAAQtoB,GAAUA,EAAOpQ,OAAS,EAAI,kBAAC,GAAD,CAAQooC,IAAKh4B,EAAQkV,SAAU,MAAU,kBAAC,GAAD,Y,05BCvBvF,IAAMsjB,GAAazuC,UAAOO,IAAV,MAIVwkB,GAAiB/kB,UAAOO,IAAV,MAEO,qBAAGyU,KAAmB,kBAAoB,oBAc/D05B,GAAQ1uC,UAAOO,IAAV,MAKA,qBAAGyU,KAAmB,QAAU,UAC/B,qBAAGA,KAAmB,cAAgB,UAE5B,qBAAG9X,MAAkBkB,OAMrCuwC,GAAS3uC,UAAOO,IAAV,MAIU,qBAAGrD,MAAkB0B,aAMrCgwC,GAAgB,SAAC,GAA2C,IAAzCxzC,EAAwC,EAAxCA,SAAUyzC,EAA8B,EAA9BA,UAAWrC,EAAmB,EAAnBA,aAC5C,OACE,oCACE,kBAAC,GAAD,CAAgBx3B,KAAM65B,GACpB,kBAAC,GAAD,MACA,kBAACF,GAAD,CAAQx+B,GAAG,UAAU/U,GACrB,kBAACszC,GAAD,CAAO15B,KAAM65B,GACX,kBAAC,GAAD,CAAY75B,KAAM65B,EAAWrC,aAAcA,QAkHtCsC,OA3Gf,WAAgB,IAAD,EACqBv1B,oBAAS,GAD9B,mBACNs1B,EADM,KACKrC,EADL,KAGP72B,EAAa0D,KACb01B,EAAkBz1B,KAClBrR,EAAcD,KAEpB,OACE,kBAAC,KAAD,CAAgBlH,OAAQA,GACtB,kBAAC2tC,GAAD,KACGxmC,GACD0N,GACAjK,OAAOC,KAAKgK,GAAY9P,OAAS,GACjCkpC,GACArjC,OAAOC,KAAKojC,GAAiBlpC,OAAS,EACpC,kBAAC,KAAD,KACE,kBAAC,KAAD,KACE,kBAAC,KAAD,CACEmpC,QAAM,EACNC,QAAM,EACN1yC,KAAK,uBACL2yC,OAAQ,YAAgB,IAAbhqC,EAAY,EAAZA,MACT,OAAItD,GAAyBkb,SAAS5X,EAAMiqC,OAAO3sC,aAAauC,eACvD,kBAAC,KAAD,CAAU4nB,GAAG,UAElB/e,GAAU1I,EAAMiqC,OAAO3sC,aAAauC,eAEpC,kBAAC,GAAD,CAAe8pC,UAAWA,EAAWrC,aAAcA,GACjD,kBAAC,GAAD,CAAW9vC,QAASwI,EAAMiqC,OAAO3sC,aAAauC,iBAI3C,kBAAC,KAAD,CAAU4nB,GAAG,aAI1B,kBAAC,KAAD,CACEqiB,QAAM,EACNC,QAAM,EACN1yC,KAAK,qBACL2yC,OAAQ,YAAgB,IAAbhqC,EAAY,EAAZA,MACT,OAAIrD,GAAeib,SAAS5X,EAAMiqC,OAAOrsC,YAAYiC,eAC5C,kBAAC,KAAD,CAAU4nB,GAAG,UAElB/e,GAAU1I,EAAMiqC,OAAOrsC,YAAYiC,eAEnC,kBAAC,GAAD,CAAe8pC,UAAWA,EAAWrC,aAAcA,GACjD,kBAAC,GAAD,CAAU1pC,YAAaoC,EAAMiqC,OAAOrsC,YAAYiC,iBAI7C,kBAAC,KAAD,CAAU4nB,GAAG,aAI1B,kBAAC,KAAD,CACEqiB,QAAM,EACNC,QAAM,EACN1yC,KAAK,2BACL2yC,OAAQ,YAAgB,IAAbhqC,EAAY,EAAZA,MACT,OAAI0I,GAAU1I,EAAMiqC,OAAOC,eAAerqC,eAEtC,kBAAC,GAAD,CAAe8pC,UAAWA,EAAWrC,aAAcA,GACjD,kBAAC,GAAD,CAAalrB,QAASpc,EAAMiqC,OAAOC,eAAerqC,iBAI/C,kBAAC,KAAD,CAAU4nB,GAAG,aAK1B,kBAAC,KAAD,CAAOpwB,KAAK,SACV,kBAAC,GAAD,CAAesyC,UAAWA,EAAWrC,aAAcA,GACjD,kBAAC,GAAD,QAIJ,kBAAC,KAAD,CAAOjwC,KAAK,WACV,kBAAC,GAAD,CAAesyC,UAAWA,EAAWrC,aAAcA,GACjD,kBAAC,GAAD,QAIJ,kBAAC,KAAD,CAAOjwC,KAAK,UACV,kBAAC,GAAD,CAAesyC,UAAWA,EAAWrC,aAAcA,GACjD,kBAAC,GAAD,QAIJ,kBAAC,KAAD,CAAOjwC,KAAK,aACV,kBAAC,GAAD,CAAesyC,UAAWA,EAAWrC,aAAcA,GACjD,kBAAC,GAAD,QAIJ,kBAAC,KAAD,CAAU7f,GAAG,YAIjB,kBAAC,GAAD,CAAatJ,KAAK,YCrKtBgsB,GAAsBC,uGAAYC,8BACL,kBAAxBF,IACTG,IAAQC,WAAWJ,IACnBG,IAAQjlC,IAAI,CACVmlC,kBAAoBtC,WAAuB,SAAUpyC,QAAU,aAAcA,OAAS,aAAe,gBAAtE,aAGjCw0C,IAAQC,WAAW,OAAQ,CAAEE,UAAU,EAAMxpC,OAAO,IA6BtDypC,IAASV,OACP,mBA3BF,YAAyC,IAAb9zC,EAAY,EAAZA,SAC1B,OACE,kBAAC,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KAAsBA,UAoBlC,KACE,mBAZJ,WACE,OACE,oCACE,kBAAC,EAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,SAOF,MACA,mBxD/CW,YAAsC,IAAbA,EAAY,EAAZA,SAAY,EAC/Be,IAAZgB,EAD2C,oBAGlD,OAAO,kBAAC,gBAAD,CAA+BD,MAAOA,EAAMC,IAAY/B,KwD4C7D,KACE,oCACE,kBAACwF,EAAD,MACA,kBAAC,GAAD,SAINsxB,SAASC,eAAe,W","file":"static/js/main.9460e502.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo_white.b506127d.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/bnb.ef75c1df.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/logo.a4bac3f2.png\";","import React, { createContext, useContext, useReducer, useMemo, useCallback, useEffect } from 'react'\r\n\r\nconst BSCSWAP = 'BSCSWAP'\r\n\r\nconst VERSION = 'VERSION'\r\nconst CURRENT_VERSION = 0\r\nconst LAST_SAVED = 'LAST_SAVED'\r\nconst DISMISSED_PATHS = 'DISMISSED_PATHS'\r\nconst SAVED_ACCOUNTS = 'SAVED_ACCOUNTS'\r\nconst SAVED_TOKENS = 'SAVED_TOKENS'\r\nconst SAVED_PAIRS = 'SAVED_PAIRS'\r\n\r\nconst DARK_MODE = 'DARK_MODE'\r\n\r\nconst UPDATABLE_KEYS = [DARK_MODE, DISMISSED_PATHS, SAVED_ACCOUNTS, SAVED_PAIRS, SAVED_TOKENS]\r\n\r\nconst UPDATE_KEY = 'UPDATE_KEY'\r\n\r\nconst LocalStorageContext = createContext()\r\n\r\nfunction useLocalStorageContext() {\r\n  return useContext(LocalStorageContext)\r\n}\r\n\r\nfunction reducer(state, { type, payload }) {\r\n  switch (type) {\r\n    case UPDATE_KEY: {\r\n      const { key, value } = payload\r\n      if (!UPDATABLE_KEYS.some(k => k === key)) {\r\n        throw Error(`Unexpected key in LocalStorageContext reducer: '${key}'.`)\r\n      } else {\r\n        return {\r\n          ...state,\r\n          [key]: value\r\n        }\r\n      }\r\n    }\r\n    default: {\r\n      throw Error(`Unexpected action type in LocalStorageContext reducer: '${type}'.`)\r\n    }\r\n  }\r\n}\r\n\r\nfunction init() {\r\n  const defaultLocalStorage = {\r\n    [VERSION]: CURRENT_VERSION,\r\n    [DARK_MODE]: false,\r\n    [DISMISSED_PATHS]: {},\r\n    [SAVED_ACCOUNTS]: [],\r\n    [SAVED_TOKENS]: {},\r\n    [SAVED_PAIRS]: {}\r\n  }\r\n\r\n  try {\r\n    const parsed = JSON.parse(window.localStorage.getItem(BSCSWAP))\r\n    if (parsed[VERSION] !== CURRENT_VERSION) {\r\n      // this is where we could run migration logic\r\n      return defaultLocalStorage\r\n    } else {\r\n      return { ...defaultLocalStorage, ...parsed }\r\n    }\r\n  } catch {\r\n    return defaultLocalStorage\r\n  }\r\n}\r\n\r\nexport default function Provider({ children }) {\r\n  const [state, dispatch] = useReducer(reducer, undefined, init)\r\n\r\n  const updateKey = useCallback((key, value) => {\r\n    dispatch({ type: UPDATE_KEY, payload: { key, value } })\r\n  }, [])\r\n\r\n  return (\r\n    <LocalStorageContext.Provider value={useMemo(() => [state, { updateKey }], [state, updateKey])}>\r\n      {children}\r\n    </LocalStorageContext.Provider>\r\n  )\r\n}\r\n\r\nexport function Updater() {\r\n  const [state] = useLocalStorageContext()\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem(BSCSWAP, JSON.stringify({ ...state, [LAST_SAVED]: Math.floor(Date.now() / 1000) }))\r\n  })\r\n\r\n  return null\r\n}\r\n\r\nexport function useDarkModeManager() {\r\n  const [state, { updateKey }] = useLocalStorageContext()\r\n  let isDarkMode = state[DARK_MODE]\r\n  const toggleDarkMode = useCallback(\r\n    value => {\r\n      updateKey(DARK_MODE, value === false || value === true ? value : !isDarkMode)\r\n    },\r\n    [updateKey, isDarkMode]\r\n  )\r\n  return [isDarkMode, toggleDarkMode]\r\n}\r\n\r\nexport function usePathDismissed(path) {\r\n  const [state, { updateKey }] = useLocalStorageContext()\r\n  const pathDismissed = state?.[DISMISSED_PATHS]?.[path]\r\n  function dismiss() {\r\n    let newPaths = state?.[DISMISSED_PATHS]\r\n    newPaths[path] = true\r\n    updateKey(DISMISSED_PATHS, newPaths)\r\n  }\r\n\r\n  return [pathDismissed, dismiss]\r\n}\r\n\r\nexport function useSavedAccounts() {\r\n  const [state, { updateKey }] = useLocalStorageContext()\r\n  const savedAccounts = state?.[SAVED_ACCOUNTS]\r\n\r\n  function addAccount(account) {\r\n    let newAccounts = state?.[SAVED_ACCOUNTS]\r\n    newAccounts.push(account)\r\n    updateKey(SAVED_ACCOUNTS, newAccounts)\r\n  }\r\n\r\n  function removeAccount(account) {\r\n    let newAccounts = state?.[SAVED_ACCOUNTS]\r\n    let index = newAccounts.indexOf(account)\r\n    if (index > -1) {\r\n      newAccounts.splice(index, 1)\r\n    }\r\n    updateKey(SAVED_ACCOUNTS, newAccounts)\r\n  }\r\n\r\n  return [savedAccounts, addAccount, removeAccount]\r\n}\r\n\r\nexport function useSavedPairs() {\r\n  const [state, { updateKey }] = useLocalStorageContext()\r\n  const savedPairs = state?.[SAVED_PAIRS]\r\n\r\n  function addPair(address, token0Address, token1Address, token0Symbol, token1Symbol) {\r\n    let newList = state?.[SAVED_PAIRS]\r\n    newList[address] = {\r\n      address,\r\n      token0Address,\r\n      token1Address,\r\n      token0Symbol,\r\n      token1Symbol\r\n    }\r\n    updateKey(SAVED_PAIRS, newList)\r\n  }\r\n\r\n  function removePair(address) {\r\n    let newList = state?.[SAVED_PAIRS]\r\n    newList[address] = null\r\n    updateKey(SAVED_PAIRS, newList)\r\n  }\r\n\r\n  return [savedPairs, addPair, removePair]\r\n}\r\n\r\nexport function useSavedTokens() {\r\n  const [state, { updateKey }] = useLocalStorageContext()\r\n  const savedTokens = state?.[SAVED_TOKENS]\r\n\r\n  function addToken(address, symbol) {\r\n    let newList = state?.[SAVED_TOKENS]\r\n    newList[address] = {\r\n      symbol\r\n    }\r\n    updateKey(SAVED_TOKENS, newList)\r\n  }\r\n\r\n  function removeToken(address) {\r\n    let newList = state?.[SAVED_TOKENS]\r\n    newList[address] = null\r\n    updateKey(SAVED_TOKENS, newList)\r\n  }\r\n\r\n  return [savedTokens, addToken, removeToken]\r\n}\r\n","import React from 'react'\r\nimport { ThemeProvider as StyledComponentsThemeProvider, createGlobalStyle } from 'styled-components'\r\nimport { useDarkModeManager } from '../contexts/LocalStorage'\r\nimport styled from 'styled-components'\r\nimport { Text } from 'rebass'\r\n\r\nexport default function ThemeProvider({ children }) {\r\n  const [darkMode] = useDarkModeManager()\r\n\r\n  return <StyledComponentsThemeProvider theme={theme(darkMode)}>{children}</StyledComponentsThemeProvider>\r\n}\r\n\r\nconst theme = (darkMode, color) => ({\r\n  customColor: color,\r\n  textColor: darkMode ? color : 'black',\r\n\r\n  panelColor: darkMode ? 'rgba(255, 255, 255, 0)' : 'rgba(255, 255, 255, 0)',\r\n  backgroundColor: darkMode ? '#212429' : '#F7F8FA',\r\n\r\n  bscswapYellow: darkMode ? '#FFBB00' : 'black',\r\n\r\n  concreteGray: darkMode ? '#292C2F' : '#FAFAFA',\r\n  inputBackground: darkMode ? '#1F1F1F' : '#FAFAFA',\r\n  shadowColor: darkMode ? '#000' : '#2F80ED',\r\n  mercuryGray: darkMode ? '#333333' : '#E1E1E1',\r\n\r\n  text1: darkMode ? '#FAFAFA' : '#1F1F1F',\r\n  text2: darkMode ? '#C3C5CB' : '#565A69',\r\n  text3: darkMode ? '#6C7284' : '#888D9B',\r\n  text4: darkMode ? '#565A69' : '#C3C5CB',\r\n  text5: darkMode ? '#2C2F36' : '#EDEEF2',\r\n\r\n  // special case text types\r\n  white: '#FFFFFF',\r\n\r\n  // backgrounds / greys\r\n  bg1: darkMode ? '#212429' : '#FAFAFA',\r\n  bg2: darkMode ? '#2C2F36' : '#F7F8FA',\r\n  bg3: darkMode ? '#40444F' : '#EDEEF2',\r\n  bg4: darkMode ? '#565A69' : '#CED0D9',\r\n  bg5: darkMode ? '#565A69' : '#888D9B',\r\n  bg6: darkMode ? '#000' : '#FFFFFF',\r\n\r\n  //specialty colors\r\n  modalBG: darkMode ? 'rgba(0,0,0,0.85)' : 'rgba(0,0,0,0.6)',\r\n  advancedBG: darkMode ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.4)',\r\n  onlyLight: darkMode ? '#22242a' : 'transparent',\r\n  divider: darkMode ? 'rgba(43, 43, 43, 0.435)' : 'rgba(43, 43, 43, 0.035)',\r\n\r\n  //primary colors\r\n  primary1: darkMode ? '#2172E5' : '#FFBB00',\r\n  primary2: darkMode ? '#3680E7' : '#FF8CC3',\r\n  primary3: darkMode ? '#4D8FEA' : '#FF99C9',\r\n  primary4: darkMode ? '#376bad70' : '#F6DDE8',\r\n  primary5: darkMode ? '#153d6f70' : '#FDEAF1',\r\n\r\n  // color text\r\n  primaryText1: darkMode ? '#6da8ff' : '#FFBB00',\r\n\r\n  // secondary colors\r\n  secondary1: darkMode ? '#2172E5' : '#FFBB00',\r\n  secondary2: darkMode ? '#17000b26' : '#F6DDE8',\r\n  secondary3: darkMode ? '#17000b26' : '#FDEAF1',\r\n\r\n  shadow1: darkMode ? '#000' : '#2F80ED',\r\n\r\n  // other\r\n  red1: '#FF6871',\r\n  green1: '#27AE60',\r\n  yellow1: '#FFE270',\r\n  yellow2: '#F3841E',\r\n  link: '#2172E5',\r\n  blue: '2f80ed',\r\n\r\n  background: darkMode ? 'black' : `radial-gradient(50% 50% at 50% 50%, #FFBB0030 0%, #fff 0%)`\r\n})\r\n\r\nconst TextWrapper = styled(Text)`\r\n  color: ${({ color, theme }) => theme[color]};\r\n`\r\n\r\nexport const TYPE = {\r\n  main(props) {\r\n    return <TextWrapper fontWeight={500} fontSize={14} color={'text1'} {...props} />\r\n  },\r\n\r\n  body(props) {\r\n    return <TextWrapper fontWeight={400} fontSize={14} color={'text1'} {...props} />\r\n  },\r\n\r\n  small(props) {\r\n    return <TextWrapper fontWeight={500} fontSize={11} color={'text1'} {...props} />\r\n  },\r\n\r\n  header(props) {\r\n    return <TextWrapper fontWeight={600} color={'text1'} {...props} />\r\n  },\r\n\r\n  largeHeader(props) {\r\n    return <TextWrapper fontWeight={500} color={'text1'} fontSize={24} {...props} />\r\n  },\r\n\r\n  light(props) {\r\n    return <TextWrapper fontWeight={400} color={'text3'} fontSize={14} {...props} />\r\n  },\r\n\r\n  pink(props) {\r\n    return <TextWrapper fontWeight={props.faded ? 400 : 600} color={props.faded ? 'text1' : 'text1'} {...props} />\r\n  }\r\n}\r\n\r\nexport const Hover = styled.div`\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nexport const Link = styled.a.attrs({\r\n  target: '_blank',\r\n  rel: 'noopener noreferrer'\r\n})`\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  color: ${({ theme }) => theme.primary1};\r\n  font-weight: 500;\r\n  :hover {\r\n    text-decoration: underline;\r\n  }\r\n  :focus {\r\n    outline: none;\r\n    text-decoration: underline;\r\n  }\r\n  :active {\r\n    text-decoration: none;\r\n  }\r\n`\r\n\r\nexport const ThemedBackground = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  pointer-events: none;\r\n  max-width: 100vw !important;\r\n  height: 200vh;\r\n  mix-blend-mode: color;\r\n  background: ${({ backgroundColor }) =>\r\n    `radial-gradient(50% 50% at 50% 50%, ${backgroundColor} 0%, rgba(255, 255, 255, 0) 100%)`};\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 0px;\r\n  z-index: 9999;\r\n\r\n  transform: translateY(-110vh);\r\n`\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n  @import url('https://rsms.me/inter/inter.css');\r\n  html { font-family: 'Inter', sans-serif; }\r\n  @supports (font-variation-settings: normal) {\r\n    html { font-family: 'Inter var', sans-serif; }\r\n  }\r\n\r\n  html,\r\n  body {\r\n    margin: 0;\r\n    padding: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: 14px;\r\n    background-color: ${({ theme }) => theme.bg6};\r\n  }\r\n\r\n  a {\r\n    text-decoration: none;\r\n\r\n    :hover {\r\n      text-decoration: none\r\n    }\r\n  }\r\n\r\n\r\n.three-line-legend {\r\n\twidth: 100%;\r\n\theight: 70px;\r\n\tposition: absolute;\r\n\tpadding: 8px;\r\n\tfont-size: 12px;\r\n\tcolor: #20262E;\r\n\tbackground-color: rgba(255, 255, 255, 0.23);\r\n\ttext-align: left;\r\n\tz-index: 10;\r\n  pointer-events: none;\r\n}\r\n\r\n.three-line-legend-dark {\r\n\twidth: 100%;\r\n\theight: 70px;\r\n\tposition: absolute;\r\n\tpadding: 8px;\r\n\tfont-size: 12px;\r\n\tcolor: white;\r\n\tbackground-color: rgba(255, 255, 255, 0.23);\r\n\ttext-align: left;\r\n\tz-index: 10;\r\n  pointer-events: none;\r\n}\r\n\r\n@media screen and (max-width: 800px) {\r\n  .three-line-legend {\r\n    display: none !important;\r\n  }\r\n}\r\n\r\n.tv-lightweight-charts{\r\n  width: 100% !important;\r\n\r\n\r\n  & > * {\r\n    width: 100% !important;\r\n  }\r\n}\r\n\r\n\r\n  html {\r\n    font-size: 1rem;\r\n    font-variant: none;\r\n    color: 'black';\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\r\n    height: 100%;\r\n  }\r\n`\r\n","import { ApolloClient } from 'apollo-client'\r\nimport { InMemoryCache } from 'apollo-cache-inmemory'\r\nimport { HttpLink } from 'apollo-link-http'\r\n\r\nexport const client = new ApolloClient({\r\n  link: new HttpLink({\r\n    uri: 'https://subgraph.bscswap.com/subgraphs/name/bscswap/bscswap-subgraph'\r\n  }),\r\n  cache: new InMemoryCache(),\r\n  shouldBatch: true\r\n})\r\n\r\nexport const healthClient = new ApolloClient({\r\n  link: new HttpLink({\r\n    uri: 'https://subgraph.bscswap.com/index-node/graphql'\r\n  }),\r\n  cache: new InMemoryCache(),\r\n  shouldBatch: true\r\n})\r\n\r\nexport const blockClient = new ApolloClient({\r\n  link: new HttpLink({\r\n    uri: 'https://subgraph.bscswap.com/subgraphs/name/bscswap/bsc-blocks-timestamp'\r\n  }),\r\n  cache: new InMemoryCache()\r\n})\r\n","export const FACTORY_ADDRESS = '0xCe8fd65646F2a2a897755A1188C04aCe94D2B8D0'\r\n\r\nexport const BUNDLE_ID = '1'\r\n\r\nexport const timeframeOptions = {\r\n  WEEK: '1 week',\r\n  MONTH: '1 month',\r\n  // THREE_MONTHS: '3 months',\r\n  // YEAR: '1 year',\r\n  ALL_TIME: 'All time'\r\n}\r\n\r\n// token list urls to fetch tokens from - use for warnings on tokens and pairs\r\nexport const SUPPORTED_LIST_URLS__NO_ENS = [\r\n  'https://tokens.bscswap.com/tokens.json'\r\n]\r\n\r\n// hide from overview list\r\nexport const OVERVIEW_TOKEN_BLACKLIST = [\r\n  '0xe10e9822a5de22f8761919310dda35cd997d63c0',\r\n  '0xc00af6212fcf0e6fd3143e692ccd4191dc308bea',\r\n  '0x097e428494f5373f22679e68d1a1e50d0a507966',\r\n  '0xfd26889cd6454d8751562f1c0fcf88b18b46f7b7',\r\n  '0xca3f508b8e4dd382ee878a314789373d80a5190a',\r\n  '0xab66473323db4ee3c6b2b0fa5e9f5c46a6acb2cc',\r\n  '0x93cf3c9a9dc285af82db4c3a02f09765c22420db',\r\n  '0x654456f62510eabf663515f5b7df93b096bb7042',\r\n  '0x8191113581cbfa3fcdc6b0d2e6f84753d4850080',\r\n  '0xd7dce5ac94535a85cf6a5054d4a014306f200256',\r\n  '0x4cdd6316ef53fa5d90351655b35ebba0d10b65a7',\r\n  '0xf1cb1a440f0f710c9c8d1855e4e11b06d4f0617b',\r\n  '0x2ce0aceaa3ec46166b56ff4dfb4ef42d0084afab',\r\n  '0x48d697c60424f2ee5d6bf92bfa5d83b6dbcb41b6',\r\n  '0x2282d18c5232ac20a41c0a0709367becade2f751',\r\n  '0x21f0894d3cbbc2cf40ad48da845f621e0212b0b2',\r\n  '0x03b0beaf0e9b1006f4a084d6cb90b3f276b6d331',\r\n  '0xd85306254363871718491629885ad55013543fc9',\r\n  '0x2441fae7a7901e608e4cf66e2edb43fb43e01f1b',\r\n  '0xff795d617a1d2aadaab7745d9626402680fa63a5',\r\n  '0xc410b2c84ff954b5ee3dd1b0a0d3b4a8436e6e55',\r\n  '0xe8c4b7a8b95e14981ca4e5fd53f7c219754e8392',\r\n  '0x222d13dceb7820ae1e928a8c527c4f8e4c0ffa8b',\r\n  '0x3d9bf3fddc3513bf103a70e9b499e99b99373dd2',\r\n  '0x9c2d7c8231e00b8e99b24825b60bc4485e05208f',\r\n]\r\n\r\n// pair blacklist\r\nexport const PAIR_BLACKLIST = [\r\n  '0x71c1b6302c7f9c49ee3e675224b22cde34ab5ac7',\r\n  '0xedb814b15774989669779042ffbf82a1361d031a',\r\n  '0x69dc95d1ae562e0701156ead9938d73926239f59',\r\n  '0x8fc8c3e3593f09698bad714d098ab77f13f214a7',\r\n  '0x0cea0262ddce7e140666b1d29292b1293490e001',\r\n  '0xd9a11da36d58f8bd6f62e399aa1686e59a107826',\r\n  '0xb80ad32254a6e4f5b4a2e4bc47e5a6968e3a305b',\r\n  '0x9d6af5ee257d400d9e09abf6f6790f312600a507',\r\n  '0xe71b93dd975303ee09f04a7bb47fbb2a963523cf',\r\n  '0x836c56e31a2644db352aeb7b02be2cfcb3a932bb',\r\n  '0x64b0366ba79fbec70adb2fad2798aadf08468b15',\r\n  '0x476f0ff325c0f788b3f4bb6fc59139bbf0ae64a7',\r\n  '0xbcf0246364fe102dffdad929407d876620999885',\r\n  '0x3436655c0305b5ae5e0149b0c0d85d412ee55808',\r\n  '0x0c762d384f60c6bf4c9d2d833d4a0581752163aa',\r\n  '0x9f293e779bee35fb5a7dd9851833cf8cbc5754b9',\r\n  '0x1596e30c9525aafd2e96662397084fb4ed23200f',\r\n  '0x65fd4adf0db2db40377d310baf3a4adc7c4cd334',\r\n  '0x98528f9cba897d38b59a7b50d55e857b1eb112bd',\r\n  '0x41be43cd6459e5f7652b733004a1145b60a26e5f',\r\n  '0x77397b34893f9295a41aa1dd04d9c9136c24c499',\r\n  '0x2ddc462ba4fbfe6df4a34034e67fbdfbc4bbcedd',\r\n  '0x90796bb9ca24c5fd66e77f3430ac68cfefb57346',\r\n  '0x889c86a45495c04de180379a84821d29eab4bda4',\r\n  '0x9409f3ce6b1701f8a6df1b1b10345c38b6dd93c3',\r\n  '0x6d61d063310956ba6922dcb30fdaa9eb9d91ac7b',\r\n  '0x1b33bd7947c1181916b6fc3892cb7f1f08299f3b',\r\n  '0x960c25bbee1549b29c5224cb8568d057cbde578d',\r\n  '0x1b33bd7947c1181916b6fc3892cb7f1f08299f3b',\r\n  '0xefdd942f7322d0ab091241cfadcd883485021e77',\r\n  '0xdbb9c2f105ed338799561611647946e9ee1e9d9d',\r\n  '0x7336e1b8b556bdbde883670ad72f2cbdca258cee',\r\n  '0x9c90a1c8f1d7d88046d0e9aae90c1749e89814bb',\r\n  '0x3986f021162b2fcaa3f6b81670a28e3fea57a3a8',\r\n  '0xe6dcb4cac22b4e591d6e5d8eeb61600a2158b1dc',\r\n  '0x27c5b858807d42d7a835cfe6c00b8fe217947023',\r\n  '0xdb740f15629d07086b13fab14e49a674721199ff',\r\n  '0x9c79ad77194127148f1a7205c470e47988c0c119',\r\n  '0x51c03563fad9a31bde556258d121d2c61ddcb670',\r\n  '0xc9c1cdb1ad05900d3de6e627a555527eb5b57888',\r\n  '0x0cf65da40aacaa60ec6d28eac4e778375308af49',\r\n]\r\n\r\n/**\r\n * For tokens that cause erros on fee calculations\r\n */\r\nexport const FEE_WARNING_TOKENS = []\r\n","import gql from 'graphql-tag'\r\nimport { FACTORY_ADDRESS, BUNDLE_ID } from '../constants'\r\n\r\nexport const SUBGRAPH_HEALTH = gql`\r\n  query health {\r\n    indexingStatusForCurrentVersion(subgraphName: \"bscswap/bscswap-subgraph\") {\r\n      synced\r\n      health\r\n      chains {\r\n        chainHeadBlock {\r\n          number\r\n        }\r\n        latestBlock {\r\n          number\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const GET_BLOCK = gql`\r\n  query blocks($timestampFrom: Int!, $timestampTo: Int!) {\r\n    blocks(\r\n      first: 1\r\n      orderBy: timestamp\r\n      orderDirection: asc\r\n      where: { timestamp_gt: $timestampFrom, timestamp_lt: $timestampTo }\r\n    ) {\r\n      id\r\n      number\r\n      timestamp\r\n    }\r\n  }\r\n`\r\n\r\nexport const GET_BLOCKS = timestamps => {\r\n  let queryString = 'query blocks {'\r\n  queryString += timestamps.map(timestamp => {\r\n    return `t${timestamp}:blocks(first: 1, orderBy: timestamp, orderDirection: desc, where: { timestamp_gt: ${timestamp}, timestamp_lt: ${timestamp +\r\n      600} }) {\r\n      number\r\n    }`\r\n  })\r\n  queryString += '}'\r\n  return gql(queryString)\r\n}\r\n\r\nexport const POSITIONS_BY_BLOCK = (account, blocks) => {\r\n  let queryString = 'query blocks {'\r\n  queryString += blocks.map(\r\n    block => `\r\n      t${block.timestamp}:liquidityPositions(where: {user: \"${account}\"}, block: { number: ${block.number} }) {\r\n        liquidityTokenBalance\r\n        pair  {\r\n          id\r\n          totalSupply\r\n          reserveUSD\r\n        }\r\n      }\r\n    `\r\n  )\r\n  queryString += '}'\r\n  return gql(queryString)\r\n}\r\n\r\nexport const PRICES_BY_BLOCK = (tokenAddress, blocks) => {\r\n  let queryString = 'query blocks {'\r\n  queryString += blocks.map(\r\n    block => `\r\n      t${block.timestamp}:token(id:\"${tokenAddress}\", block: { number: ${block.number} }) {\r\n        derivedBNB\r\n      }\r\n    `\r\n  )\r\n  queryString += ','\r\n  queryString += blocks.map(\r\n    block => `\r\n      b${block.timestamp}: bundle(id:\"1\", block: { number: ${block.number} }) {\r\n        bnbPrice\r\n      }\r\n    `\r\n  )\r\n\r\n  queryString += '}'\r\n  return gql(queryString)\r\n}\r\n\r\nexport const TOP_LPS_PER_PAIRS = gql`\r\n  query lps($pair: Bytes!) {\r\n    liquidityPositions(where: { pair: $pair }, orderBy: liquidityTokenBalance, orderDirection: desc, first: 10) {\r\n      user {\r\n        id\r\n      }\r\n      pair {\r\n        id\r\n      }\r\n      liquidityTokenBalance\r\n    }\r\n  }\r\n`\r\n\r\nexport const HOURLY_PAIR_RATES = (pairAddress, blocks) => {\r\n  let queryString = 'query blocks {'\r\n  queryString += blocks.map(\r\n    block => `\r\n      t${block.timestamp}: pair(id:\"${pairAddress}\", block: { number: ${block.number} }) {\r\n        token0Price\r\n        token1Price\r\n      }\r\n    `\r\n  )\r\n\r\n  queryString += '}'\r\n  return gql(queryString)\r\n}\r\n\r\nexport const SHARE_VALUE = (pairAddress, blocks) => {\r\n  let queryString = 'query blocks {'\r\n  queryString += blocks.map(\r\n    block => `\r\n      t${block.timestamp}:pair(id:\"${pairAddress}\", block: { number: ${block.number} }) {\r\n        reserve0\r\n        reserve1\r\n        reserveUSD\r\n        totalSupply\r\n        token0{\r\n          derivedBNB\r\n        }\r\n        token1{\r\n          derivedBNB\r\n        }\r\n      }\r\n    `\r\n  )\r\n  queryString += ','\r\n  queryString += blocks.map(\r\n    block => `\r\n      b${block.timestamp}: bundle(id:\"1\", block: { number: ${block.number} }) {\r\n        bnbPrice\r\n      }\r\n    `\r\n  )\r\n\r\n  queryString += '}'\r\n  return gql(queryString)\r\n}\r\n\r\nexport const BNB_PRICE = block => {\r\n  const queryString = block\r\n    ? `\r\n    query bundles {\r\n      bundles(where: { id: ${BUNDLE_ID} } block: {number: ${block}}) {\r\n        id\r\n        bnbPrice\r\n      }\r\n    }\r\n  `\r\n    : ` query bundles {\r\n      bundles(where: { id: ${BUNDLE_ID} }) {\r\n        id\r\n        bnbPrice\r\n      }\r\n    }\r\n  `\r\n  return gql(queryString)\r\n}\r\n\r\nexport const USER = (block, account) => {\r\n  const queryString = `\r\n    query users {\r\n      user(id: \"${account}\", block: {number: ${block}}) {\r\n        liquidityPositions\r\n      }\r\n    }\r\n`\r\n  return gql(queryString)\r\n}\r\n\r\nexport const USER_MINTS_BUNRS_PER_PAIR = gql`\r\n  query events($user: Bytes!, $pair: Bytes!) {\r\n    mints(where: { to: $user, pair: $pair }) {\r\n      amountUSD\r\n      amount0\r\n      amount1\r\n      timestamp\r\n      pair {\r\n        token0 {\r\n          id\r\n        }\r\n        token1 {\r\n          id\r\n        }\r\n      }\r\n    }\r\n    burns(where: { sender: $user, pair: $pair }) {\r\n      amountUSD\r\n      amount0\r\n      amount1\r\n      timestamp\r\n      pair {\r\n        token0 {\r\n          id\r\n        }\r\n        token1 {\r\n          id\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const FIRST_SNAPSHOT = gql`\r\n  query snapshots($user: Bytes!) {\r\n    liquidityPositionSnapshots(first: 1, where: { user: $user }, orderBy: timestamp, orderDirection: asc) {\r\n      timestamp\r\n    }\r\n  }\r\n`\r\n\r\nexport const USER_HISTORY = gql`\r\n  query snapshots($user: Bytes!, $skip: Int!) {\r\n    liquidityPositionSnapshots(first: 1000, skip: $skip, where: { user: $user }) {\r\n      timestamp\r\n      reserveUSD\r\n      liquidityTokenBalance\r\n      liquidityTokenTotalSupply\r\n      reserve0\r\n      reserve1\r\n      token0PriceUSD\r\n      token1PriceUSD\r\n      pair {\r\n        id\r\n        reserve0\r\n        reserve1\r\n        reserveUSD\r\n        token0 {\r\n          id\r\n        }\r\n        token1 {\r\n          id\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const USER_POSITIONS = gql`\r\n  query liquidityPositions($user: Bytes!) {\r\n    liquidityPositions(where: { user: $user }) {\r\n      pair {\r\n        id\r\n        reserve0\r\n        reserve1\r\n        reserveUSD\r\n        token0 {\r\n          id\r\n          symbol\r\n          derivedBNB\r\n        }\r\n        token1 {\r\n          id\r\n          symbol\r\n          derivedBNB\r\n        }\r\n        totalSupply\r\n      }\r\n      liquidityTokenBalance\r\n    }\r\n  }\r\n`\r\n\r\nexport const USER_TRANSACTIONS = gql`\r\n  query transactions($user: Bytes!) {\r\n    mints(orderBy: timestamp, orderDirection: desc, where: { to: $user }) {\r\n      id\r\n      transaction {\r\n        id\r\n        timestamp\r\n      }\r\n      pair {\r\n        id\r\n        token0 {\r\n          id\r\n          symbol\r\n        }\r\n        token1 {\r\n          id\r\n          symbol\r\n        }\r\n      }\r\n      to\r\n      liquidity\r\n      amount0\r\n      amount1\r\n      amountUSD\r\n    }\r\n    burns(orderBy: timestamp, orderDirection: desc, where: { sender: $user }) {\r\n      id\r\n      transaction {\r\n        id\r\n        timestamp\r\n      }\r\n      pair {\r\n        id\r\n        token0 {\r\n          symbol\r\n        }\r\n        token1 {\r\n          symbol\r\n        }\r\n      }\r\n      sender\r\n      to\r\n      liquidity\r\n      amount0\r\n      amount1\r\n      amountUSD\r\n    }\r\n    swaps(orderBy: timestamp, orderDirection: desc, where: { to: $user }) {\r\n      id\r\n      transaction {\r\n        id\r\n        timestamp\r\n      }\r\n      pair {\r\n        token0 {\r\n          symbol\r\n        }\r\n        token1 {\r\n          symbol\r\n        }\r\n      }\r\n      amount0In\r\n      amount0Out\r\n      amount1In\r\n      amount1Out\r\n      amountUSD\r\n      to\r\n    }\r\n  }\r\n`\r\n\r\nexport const PAIR_CHART = gql`\r\n  query pairDayDatas($pairAddress: Bytes!, $skip: Int!) {\r\n    pairDayDatas(first: 1000, skip: $skip, orderBy: date, orderDirection: asc, where: { pairAddress: $pairAddress }) {\r\n      id\r\n      date\r\n      dailyVolumeToken0\r\n      dailyVolumeToken1\r\n      dailyVolumeUSD\r\n      reserveUSD\r\n    }\r\n  }\r\n`\r\n\r\nexport const PAIR_DAY_DATA = gql`\r\n  query pairDayDatas($pairAddress: Bytes!, $date: Int!) {\r\n    pairDayDatas(first: 1, orderBy: date, orderDirection: desc, where: { pairAddress: $pairAddress, date_lt: $date }) {\r\n      id\r\n      date\r\n      dailyVolumeToken0\r\n      dailyVolumeToken1\r\n      dailyVolumeUSD\r\n      totalSupply\r\n      reserveUSD\r\n    }\r\n  }\r\n`\r\n\r\nexport const PAIR_DAY_DATA_BULK = (pairs, startTimestamp) => {\r\n  let pairsString = `[`\r\n  pairs.map(pair => {\r\n    return (pairsString += `\"${pair}\"`)\r\n  })\r\n  pairsString += ']'\r\n  const queryString = `\r\n    query days {\r\n      pairDayDatas(first: 1000, orderBy: date, orderDirection: asc, where: { pairAddress_in: ${pairsString}, date_gt: ${startTimestamp} }) {\r\n        id\r\n        pairAddress\r\n        date\r\n        dailyVolumeToken0\r\n        dailyVolumeToken1\r\n        dailyVolumeUSD\r\n        totalSupply\r\n        reserveUSD\r\n      }\r\n    }\r\n`\r\n  return gql(queryString)\r\n}\r\n\r\nexport const GLOBAL_CHART = gql`\r\n  query bscswapDayDatas($startTime: Int!, $skip: Int!) {\r\n    bscswapDayDatas(first: 1000, skip: $skip, where: { date_gt: $startTime }, orderBy: date, orderDirection: asc) {\r\n      id\r\n      date\r\n      totalVolumeUSD\r\n      dailyVolumeUSD\r\n      dailyVolumeBNB\r\n      totalLiquidityUSD\r\n      totalLiquidityBNB\r\n    }\r\n  }\r\n`\r\n\r\nexport const GLOBAL_DATA = block => {\r\n  const queryString = ` query bscswapFactories {\r\n      bscswapFactories(\r\n       ${block ? `block: { number: ${block}}` : ``}\r\n       where: { id: \"${FACTORY_ADDRESS}\" }) {\r\n        id\r\n        totalVolumeUSD\r\n        totalVolumeBNB\r\n        untrackedVolumeUSD\r\n        totalLiquidityUSD\r\n        totalLiquidityBNB\r\n        txCount\r\n        pairCount\r\n      }\r\n    }`\r\n  return gql(queryString)\r\n}\r\n\r\nexport const GLOBAL_TXNS = gql`\r\n  query transactions {\r\n    transactions(first: 100, orderBy: timestamp, orderDirection: desc) {\r\n      mints(orderBy: timestamp, orderDirection: desc) {\r\n        transaction {\r\n          id\r\n          timestamp\r\n        }\r\n        pair {\r\n          token0 {\r\n            id\r\n            symbol\r\n          }\r\n          token1 {\r\n            id\r\n            symbol\r\n          }\r\n        }\r\n        to\r\n        liquidity\r\n        amount0\r\n        amount1\r\n        amountUSD\r\n      }\r\n      burns(orderBy: timestamp, orderDirection: desc) {\r\n        transaction {\r\n          id\r\n          timestamp\r\n        }\r\n        pair {\r\n          token0 {\r\n            id\r\n            symbol\r\n          }\r\n          token1 {\r\n            id\r\n            symbol\r\n          }\r\n        }\r\n        sender\r\n        liquidity\r\n        amount0\r\n        amount1\r\n        amountUSD\r\n      }\r\n      swaps(orderBy: timestamp, orderDirection: desc) {\r\n        transaction {\r\n          id\r\n          timestamp\r\n        }\r\n        pair {\r\n          token0 {\r\n            id\r\n            symbol\r\n          }\r\n          token1 {\r\n            id\r\n            symbol\r\n          }\r\n        }\r\n        amount0In\r\n        amount0Out\r\n        amount1In\r\n        amount1Out\r\n        amountUSD\r\n        to\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const ALL_TOKENS = gql`\r\n  query tokens($skip: Int!) {\r\n    tokens(first: 500, skip: $skip) {\r\n      id\r\n      name\r\n      symbol\r\n      totalLiquidity\r\n    }\r\n  }\r\n`\r\n\r\nexport const TOKEN_SEARCH = gql`\r\n  query tokens($value: String, $id: String) {\r\n    asSymbol: tokens(where: { symbol_contains: $value }, orderBy: totalLiquidity, orderDirection: desc) {\r\n      id\r\n      symbol\r\n      name\r\n      totalLiquidity\r\n    }\r\n    asName: tokens(where: { name_contains: $value }, orderBy: totalLiquidity, orderDirection: desc) {\r\n      id\r\n      symbol\r\n      name\r\n      totalLiquidity\r\n    }\r\n    asAddress: tokens(where: { id: $id }, orderBy: totalLiquidity, orderDirection: desc) {\r\n      id\r\n      symbol\r\n      name\r\n      totalLiquidity\r\n    }\r\n  }\r\n`\r\n\r\nexport const PAIR_SEARCH = gql`\r\n  query pairs($tokens: [Bytes]!, $id: String) {\r\n    as0: pairs(where: { token0_in: $tokens }) {\r\n      id\r\n      token0 {\r\n        id\r\n        symbol\r\n        name\r\n      }\r\n      token1 {\r\n        id\r\n        symbol\r\n        name\r\n      }\r\n    }\r\n    as1: pairs(where: { token1_in: $tokens }) {\r\n      id\r\n      token0 {\r\n        id\r\n        symbol\r\n        name\r\n      }\r\n      token1 {\r\n        id\r\n        symbol\r\n        name\r\n      }\r\n    }\r\n    asAddress: pairs(where: { id: $id }) {\r\n      id\r\n      token0 {\r\n        id\r\n        symbol\r\n        name\r\n      }\r\n      token1 {\r\n        id\r\n        symbol\r\n        name\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const ALL_PAIRS = gql`\r\n  query pairs($skip: Int!) {\r\n    pairs(first: 500, skip: $skip, orderBy: trackedReserveBNB, orderDirection: desc) {\r\n      id\r\n      token0 {\r\n        id\r\n        symbol\r\n        name\r\n      }\r\n      token1 {\r\n        id\r\n        symbol\r\n        name\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst PairFields = `\r\n  fragment PairFields on Pair {\r\n    id\r\n    txCount\r\n    token0 {\r\n      id\r\n      symbol\r\n      name\r\n      totalLiquidity\r\n      derivedBNB\r\n    }\r\n    token1 {\r\n      id\r\n      symbol\r\n      name\r\n      totalLiquidity\r\n      derivedBNB\r\n    }\r\n    reserve0\r\n    reserve1\r\n    reserveUSD\r\n    totalSupply\r\n    trackedReserveBNB\r\n    reserveBNB\r\n    volumeUSD\r\n    untrackedVolumeUSD\r\n    token0Price\r\n    token1Price\r\n    createdAtTimestamp\r\n  }\r\n`\r\n\r\nexport const PAIRS_CURRENT = gql`\r\n  query pairs {\r\n    pairs(first: 200, orderBy: trackedReserveBNB, orderDirection: desc) {\r\n      id\r\n    }\r\n  }\r\n`\r\n\r\nexport const PAIR_DATA = (pairAddress, block) => {\r\n  const queryString = `\r\n    ${PairFields}\r\n    query pairs {\r\n      pairs(${block ? `block: {number: ${block}}` : ``} where: { id: \"${pairAddress}\"} ) {\r\n        ...PairFields\r\n      }\r\n    }`\r\n  return gql(queryString)\r\n}\r\n\r\nexport const PAIRS_BULK = gql`\r\n  ${PairFields}\r\n  query pairs($allPairs: [Bytes]!) {\r\n    pairs(where: { id_in: $allPairs }, orderBy: trackedReserveBNB, orderDirection: desc) {\r\n      ...PairFields\r\n    }\r\n  }\r\n`\r\n\r\nexport const PAIRS_HISTORICAL_BULK = (block, pairs) => {\r\n  let pairsString = `[`\r\n  pairs.map(pair => {\r\n    return (pairsString += `\"${pair}\"`)\r\n  })\r\n  pairsString += ']'\r\n  let queryString = `\r\n  query pairs {\r\n    pairs(first: 200, where: {id_in: ${pairsString}}, block: {number: ${block}}, orderBy: trackedReserveBNB, orderDirection: desc) {\r\n      id\r\n      reserveUSD\r\n      trackedReserveBNB\r\n      volumeUSD\r\n      untrackedVolumeUSD\r\n    }\r\n  }\r\n  `\r\n  return gql(queryString)\r\n}\r\n\r\nexport const TOKEN_CHART = gql`\r\n  query tokenDayDatas($tokenAddr: String!, $skip: Int!) {\r\n    tokenDayDatas(first: 1000, skip: $skip, orderBy: date, orderDirection: asc, where: { token: $tokenAddr }) {\r\n      id\r\n      date\r\n      priceUSD\r\n      totalLiquidityToken\r\n      totalLiquidityUSD\r\n      totalLiquidityBNB\r\n      dailyVolumeBNB\r\n      dailyVolumeToken\r\n      dailyVolumeUSD\r\n      mostLiquidPairs {\r\n        id\r\n        token0 {\r\n          id\r\n          derivedBNB\r\n        }\r\n        token1 {\r\n          id\r\n          derivedBNB\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst TokenFields = `\r\n  fragment TokenFields on Token {\r\n    id\r\n    name\r\n    symbol\r\n    derivedBNB\r\n    tradeVolume\r\n    tradeVolumeUSD\r\n    untrackedVolumeUSD\r\n    totalLiquidity\r\n    txCount\r\n  }\r\n`\r\n\r\nexport const TOKENS_CURRENT = gql`\r\n  ${TokenFields}\r\n  query tokens {\r\n    tokens(first: 200, orderBy: tradeVolumeUSD, orderDirection: desc) {\r\n      ...TokenFields\r\n    }\r\n  }\r\n`\r\n\r\nexport const TOKENS_DYNAMIC = block => {\r\n  const queryString = `\r\n    ${TokenFields}\r\n    query tokens {\r\n      tokens(block: {number: ${block}} first: 200, orderBy: tradeVolumeUSD, orderDirection: desc) {\r\n        ...TokenFields\r\n      }\r\n    }\r\n  `\r\n  return gql(queryString)\r\n}\r\n\r\nexport const TOKEN_DATA = (tokenAddress, block) => {\r\n  const queryString = `\r\n    ${TokenFields}\r\n    query tokens {\r\n      tokens(${block ? `block : {number: ${block}}` : ``} where: {id:\"${tokenAddress}\"}) {\r\n        ...TokenFields\r\n      }\r\n      pairs0: pairs(where: {token0: \"${tokenAddress}\"}, first: 50, orderBy: reserveUSD, orderDirection: desc){\r\n        id\r\n      }\r\n      pairs1: pairs(where: {token1: \"${tokenAddress}\"}, first: 50, orderBy: reserveUSD, orderDirection: desc){\r\n        id\r\n      }\r\n    }\r\n  `\r\n  return gql(queryString)\r\n}\r\n\r\nexport const FILTERED_TRANSACTIONS = gql`\r\n  query($allPairs: [Bytes]!) {\r\n    mints(first: 20, where: { pair_in: $allPairs }, orderBy: timestamp, orderDirection: desc) {\r\n      transaction {\r\n        id\r\n        timestamp\r\n      }\r\n      pair {\r\n        token0 {\r\n          id\r\n          symbol\r\n        }\r\n        token1 {\r\n          id\r\n          symbol\r\n        }\r\n      }\r\n      to\r\n      liquidity\r\n      amount0\r\n      amount1\r\n      amountUSD\r\n    }\r\n    burns(first: 20, where: { pair_in: $allPairs }, orderBy: timestamp, orderDirection: desc) {\r\n      transaction {\r\n        id\r\n        timestamp\r\n      }\r\n      pair {\r\n        token0 {\r\n          id\r\n          symbol\r\n        }\r\n        token1 {\r\n          id\r\n          symbol\r\n        }\r\n      }\r\n      sender\r\n      liquidity\r\n      amount0\r\n      amount1\r\n      amountUSD\r\n    }\r\n    swaps(first: 30, where: { pair_in: $allPairs }, orderBy: timestamp, orderDirection: desc) {\r\n      transaction {\r\n        id\r\n        timestamp\r\n      }\r\n      id\r\n      pair {\r\n        token0 {\r\n          id\r\n          symbol\r\n        }\r\n        token1 {\r\n          id\r\n          symbol\r\n        }\r\n      }\r\n      amount0In\r\n      amount0Out\r\n      amount1In\r\n      amount1Out\r\n      amountUSD\r\n      to\r\n    }\r\n  }\r\n`\r\n","import { TokenList } from '@uniswap/token-lists'\r\nimport schema from '@uniswap/token-lists/src/tokenlist.schema.json'\r\nimport Ajv from 'ajv'\r\n\r\n/**\r\n * Given a URI that may be ipfs, ipns, http, or https protocol, return the fetch-able http(s) URLs for the same content\r\n * @param uri to convert to fetch-able http url\r\n */\r\nfunction uriToHttp(uri: string): string[] {\r\n  const protocol = uri.split(':')[0].toLowerCase()\r\n  switch (protocol) {\r\n    case 'https':\r\n      return [uri]\r\n    case 'http':\r\n      return ['https' + uri.substr(4), uri]\r\n    case 'ipfs':\r\n      const hash = uri.match(/^ipfs:(\\/\\/)?(.*)$/i)?.[2]\r\n      return [`https://cloudflare-ipfs.com/ipfs/${hash}/`, `https://ipfs.io/ipfs/${hash}/`]\r\n    case 'ipns':\r\n      const name = uri.match(/^ipns:(\\/\\/)?(.*)$/i)?.[2]\r\n      return [`https://cloudflare-ipfs.com/ipns/${name}/`, `https://ipfs.io/ipns/${name}/`]\r\n    default:\r\n      return []\r\n  }\r\n}\r\n\r\nconst tokenListValidator = new Ajv({ allErrors: true }).compile(schema)\r\n\r\n/**\r\n * Contains the logic for resolving a list URL to a validated token list\r\n * @param listUrl list url\r\n */\r\nexport default async function getTokenList(listUrl: string): Promise<TokenList> {\r\n  const urls = uriToHttp(listUrl)\r\n  for (let i = 0; i < urls.length; i++) {\r\n    const url = urls[i]\r\n    const isLast = i === urls.length - 1\r\n    let response\r\n    try {\r\n      response = await fetch(url)\r\n    } catch (error) {\r\n      console.debug('Failed to fetch list', listUrl, error)\r\n      if (isLast) throw new Error(`Failed to download list ${listUrl}`)\r\n      continue\r\n    }\r\n\r\n    if (!response.ok) {\r\n      if (isLast) throw new Error(`Failed to download list ${listUrl}`)\r\n      continue\r\n    }\r\n\r\n    const json = await response.json()\r\n    if (!tokenListValidator(json)) {\r\n      const validationErrors: string =\r\n        tokenListValidator.errors?.reduce<string>((memo, error) => {\r\n          const add = `${error.dataPath} ${error.message ?? ''}`\r\n          return memo.length > 0 ? `${memo}; ${add}` : `${add}`\r\n        }, '') ?? 'unknown error'\r\n      throw new Error(`Token list failed validation: ${validationErrors}`)\r\n    }\r\n    return json\r\n  }\r\n  throw new Error('Unrecognized list URL protocol.')\r\n}\r\n","import React, { createContext, useContext, useReducer, useMemo, useCallback, useState, useEffect } from 'react'\r\nimport { timeframeOptions, SUPPORTED_LIST_URLS__NO_ENS } from '../constants'\r\nimport Web3 from 'web3'\r\nimport dayjs from 'dayjs'\r\nimport utc from 'dayjs/plugin/utc'\r\nimport getTokenList from '../utils/tokenLists'\r\nimport { healthClient } from '../apollo/client'\r\nimport { SUBGRAPH_HEALTH } from '../apollo/queries'\r\ndayjs.extend(utc)\r\n\r\nconst UPDATE = 'UPDATE'\r\nconst UPDATE_TIMEFRAME = 'UPDATE_TIMEFRAME'\r\nconst UPDATE_SESSION_START = 'UPDATE_SESSION_START'\r\nconst UPDATE_WEB3 = 'UPDATE_WEB3'\r\nconst UPDATED_SUPPORTED_TOKENS = 'UPDATED_SUPPORTED_TOKENS'\r\nconst UPDATE_LATEST_BLOCK = 'UPDATE_LATEST_BLOCK'\r\n\r\nconst SUPPORTED_TOKENS = 'SUPPORTED_TOKENS'\r\nconst TIME_KEY = 'TIME_KEY'\r\nconst CURRENCY = 'CURRENCY'\r\nconst SESSION_START = 'SESSION_START'\r\nconst WEB3 = 'WEB3'\r\nconst LATEST_BLOCK = 'LATEST_BLOCK'\r\n\r\nconst ApplicationContext = createContext()\r\n\r\nfunction useApplicationContext() {\r\n  return useContext(ApplicationContext)\r\n}\r\n\r\nfunction reducer(state, { type, payload }) {\r\n  switch (type) {\r\n    case UPDATE: {\r\n      const { currency } = payload\r\n      return {\r\n        ...state,\r\n        [CURRENCY]: currency\r\n      }\r\n    }\r\n    case UPDATE_TIMEFRAME: {\r\n      const { newTimeFrame } = payload\r\n      return {\r\n        ...state,\r\n        [TIME_KEY]: newTimeFrame\r\n      }\r\n    }\r\n    case UPDATE_SESSION_START: {\r\n      const { timestamp } = payload\r\n      return {\r\n        ...state,\r\n        [SESSION_START]: timestamp\r\n      }\r\n    }\r\n    case UPDATE_WEB3: {\r\n      const { web3 } = payload\r\n      return {\r\n        ...state,\r\n        [WEB3]: web3\r\n      }\r\n    }\r\n\r\n    case UPDATE_LATEST_BLOCK: {\r\n      const { block } = payload\r\n      return {\r\n        ...state,\r\n        [LATEST_BLOCK]: block\r\n      }\r\n    }\r\n\r\n    case UPDATED_SUPPORTED_TOKENS: {\r\n      const { supportedTokens } = payload\r\n      return {\r\n        ...state,\r\n        [SUPPORTED_TOKENS]: supportedTokens\r\n      }\r\n    }\r\n\r\n    default: {\r\n      throw Error(`Unexpected action type in DataContext reducer: '${type}'.`)\r\n    }\r\n  }\r\n}\r\n\r\nconst INITIAL_STATE = {\r\n  CURRENCY: 'USD',\r\n  TIME_KEY: timeframeOptions.ALL_TIME\r\n}\r\n\r\nexport default function Provider({ children }) {\r\n  const [state, dispatch] = useReducer(reducer, INITIAL_STATE)\r\n  const update = useCallback(currency => {\r\n    dispatch({\r\n      type: UPDATE,\r\n      payload: {\r\n        currency\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  // global time window for charts - see timeframe options in constants\r\n  const updateTimeframe = useCallback(newTimeFrame => {\r\n    dispatch({\r\n      type: UPDATE_TIMEFRAME,\r\n      payload: {\r\n        newTimeFrame\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  // used for refresh button\r\n  const updateSessionStart = useCallback(timestamp => {\r\n    dispatch({\r\n      type: UPDATE_SESSION_START,\r\n      payload: {\r\n        timestamp\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const updateWeb3 = useCallback(web3 => {\r\n    dispatch({\r\n      type: UPDATE_WEB3,\r\n      payload: {\r\n        web3\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const updateSupportedTokens = useCallback(supportedTokens => {\r\n    dispatch({\r\n      type: UPDATED_SUPPORTED_TOKENS,\r\n      payload: {\r\n        supportedTokens\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const updateLatestBlock = useCallback(block => {\r\n    dispatch({\r\n      type: UPDATE_LATEST_BLOCK,\r\n      payload: {\r\n        block\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <ApplicationContext.Provider\r\n      value={useMemo(\r\n        () => [\r\n          state,\r\n          { update, updateSessionStart, updateTimeframe, updateWeb3, updateSupportedTokens, updateLatestBlock }\r\n        ],\r\n        [state, update, updateTimeframe, updateWeb3, updateSessionStart, updateSupportedTokens, updateLatestBlock]\r\n      )}\r\n    >\r\n      {children}\r\n    </ApplicationContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useLatestBlock() {\r\n  const [state, { updateLatestBlock }] = useApplicationContext()\r\n\r\n  const latestBlock = state?.[LATEST_BLOCK]\r\n\r\n  useEffect(() => {\r\n    async function fetch() {\r\n      try {\r\n        const res = await healthClient.query({\r\n          query: SUBGRAPH_HEALTH\r\n        })\r\n        const block = res.data.indexingStatusForCurrentVersion.chains[0].latestBlock.number\r\n        if (block) {\r\n          updateLatestBlock(block)\r\n        }\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    }\r\n    if (!latestBlock) {\r\n      fetch()\r\n    }\r\n  }, [latestBlock, updateLatestBlock])\r\n\r\n  return latestBlock\r\n}\r\n\r\nexport function useCurrentCurrency() {\r\n  const [state, { update }] = useApplicationContext()\r\n  const toggleCurrency = useCallback(() => {\r\n    if (state.currency === 'BNB') {\r\n      update('USD')\r\n    } else {\r\n      update('BNB')\r\n    }\r\n  }, [state, update])\r\n  return [state[CURRENCY], toggleCurrency]\r\n}\r\n\r\nexport function useTimeframe() {\r\n  const [state, { updateTimeframe }] = useApplicationContext()\r\n  const activeTimeframe = state?.[TIME_KEY]\r\n  return [activeTimeframe, updateTimeframe]\r\n}\r\n\r\nexport function useStartTimestamp() {\r\n  const [activeWindow] = useTimeframe()\r\n  const [startDateTimestamp, setStartDateTimestamp] = useState()\r\n\r\n  // monitor the old date fetched\r\n  useEffect(() => {\r\n    let startTime =\r\n      dayjs\r\n        .utc()\r\n        .subtract(\r\n          1,\r\n          activeWindow === timeframeOptions.week ? 'week' : activeWindow === timeframeOptions.ALL_TIME ? 'year' : 'year'\r\n        )\r\n        .startOf('day')\r\n        .unix() - 1\r\n    // if we find a new start time less than the current startrtime - update oldest pooint to fetch\r\n    setStartDateTimestamp(startTime)\r\n  }, [activeWindow, startDateTimestamp])\r\n\r\n  return startDateTimestamp\r\n}\r\n\r\n// keep track of session length for refresh ticker\r\nexport function useSessionStart() {\r\n  const [state, { updateSessionStart }] = useApplicationContext()\r\n  const sessionStart = state?.[SESSION_START]\r\n\r\n  useEffect(() => {\r\n    if (!sessionStart) {\r\n      updateSessionStart(Date.now())\r\n    }\r\n  })\r\n\r\n  const [seconds, setSeconds] = useState(0)\r\n\r\n  useEffect(() => {\r\n    let interval = null\r\n    interval = setInterval(() => {\r\n      setSeconds(Date.now() - sessionStart ?? Date.now())\r\n    }, 1000)\r\n\r\n    return () => clearInterval(interval)\r\n  }, [seconds, sessionStart])\r\n\r\n  return parseInt(seconds / 1000)\r\n}\r\n\r\n/**\r\n * @todo this isnt used now - if ever needed probably better to use\r\n * web3-react instead of this custom hook\r\n */\r\nexport function useWeb3() {\r\n  const [state, { updateWeb3 }] = useApplicationContext()\r\n  const web3 = state?.[WEB3]\r\n\r\n  useEffect(() => {\r\n    if (!web3) {\r\n      const web3 = new Web3(new Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL))\r\n      updateWeb3(web3)\r\n    }\r\n  })\r\n\r\n  return web3\r\n}\r\n\r\nexport function useListedTokens() {\r\n  const [state, { updateSupportedTokens }] = useApplicationContext()\r\n  const supportedTokens = state?.[SUPPORTED_TOKENS]\r\n\r\n  useEffect(() => {\r\n    async function fetchList() {\r\n      const allFetched = await SUPPORTED_LIST_URLS__NO_ENS.reduce(async (fetchedTokens, url) => {\r\n        const tokensSoFar = await fetchedTokens\r\n        const newTokens = await getTokenList(url)\r\n        return Promise.resolve([...tokensSoFar, ...newTokens.tokens])\r\n      }, Promise.resolve([]))\r\n      let formatted = allFetched?.map(t => t.address.toLowerCase())\r\n      updateSupportedTokens(formatted)\r\n    }\r\n    if (!supportedTokens) {\r\n      fetchList()\r\n    }\r\n  }, [updateSupportedTokens, supportedTokens])\r\n\r\n  return supportedTokens\r\n}\r\n","import React from 'react'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport dayjs from 'dayjs'\r\nimport { ethers } from 'ethers'\r\nimport utc from 'dayjs/plugin/utc'\r\nimport { client, blockClient } from '../apollo/client'\r\nimport { GET_BLOCK, GET_BLOCKS, SHARE_VALUE } from '../apollo/queries'\r\nimport { Text } from 'rebass'\r\nimport _Decimal from 'decimal.js-light'\r\nimport toFormat from 'toformat'\r\nimport { timeframeOptions } from '../constants'\r\nimport Numeral from 'numeral'\r\n\r\n// format libraries\r\nconst Decimal = toFormat(_Decimal)\r\nBigNumber.set({ EXPONENTIAL_AT: 50 })\r\ndayjs.extend(utc)\r\n\r\nexport function getTimeframe(timeWindow) {\r\n  const utcEndTime = dayjs.utc()\r\n  // based on window, get starttime\r\n  let utcStartTime\r\n  switch (timeWindow) {\r\n    case timeframeOptions.WEEK:\r\n      utcStartTime =\r\n        utcEndTime\r\n          .subtract(1, 'week')\r\n          .endOf('day')\r\n          .unix() - 1\r\n      break\r\n    case timeframeOptions.MONTH:\r\n      utcStartTime =\r\n        utcEndTime\r\n          .subtract(1, 'month')\r\n          .endOf('day')\r\n          .unix() - 1\r\n      break\r\n    case timeframeOptions.ALL_TIME:\r\n      utcStartTime =\r\n        utcEndTime\r\n          .subtract(1, 'year')\r\n          .endOf('day')\r\n          .unix() - 1\r\n      break\r\n    default:\r\n      utcStartTime =\r\n        utcEndTime\r\n          .subtract(1, 'year')\r\n          .startOf('year')\r\n          .unix() - 1\r\n      break\r\n  }\r\n  return utcStartTime\r\n}\r\n\r\nexport function getPoolLink(token0Address, token1Address = null, remove = false) {\r\n  if (!token1Address) {\r\n    return (\r\n      `https://bscswap.com/#/` +\r\n      (remove ? `remove` : `add`) +\r\n      `/${token0Address === '0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c' ? 'BNB' : token0Address}/${'BNB'}`\r\n    )\r\n  } else {\r\n    return (\r\n      `https://bscswap.com/#/` +\r\n      (remove ? `remove` : `add`) +\r\n      `/${token0Address === '0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c' ? 'BNB' : token0Address}/${\r\n        token1Address === '0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c' ? 'BNB' : token1Address\r\n      }`\r\n    )\r\n  }\r\n}\r\n\r\nexport function getSwapLink(token0Address, token1Address = null) {\r\n  if (!token1Address) {\r\n    return `https://bscswap.com/#/swap?inputCurrency=${token0Address}`\r\n  } else {\r\n    return `https://bscswap.com/#/swap?inputCurrency=${\r\n      token0Address === '0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c' ? 'BNB' : token0Address\r\n    }&outputCurrency=${token1Address === '0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c' ? 'BNB' : token1Address}`\r\n  }\r\n}\r\n\r\nexport function getAstroLink(pairAddress) {\r\n  return `https://app.astrotools.io/bsc-pair-explorer/${pairAddress}`\r\n}\r\n\r\nexport function localNumber(val) {\r\n  return Numeral(val).format('0,0')\r\n}\r\n\r\nexport const toNiceDate = date => {\r\n  let x = dayjs.utc(dayjs.unix(date)).format('MMM DD')\r\n  return x\r\n}\r\n\r\nexport const toWeeklyDate = date => {\r\n  const formatted = dayjs.utc(dayjs.unix(date))\r\n  date = new Date(formatted)\r\n  const day = new Date(formatted).getDay()\r\n  var lessDays = day === 6 ? 0 : day + 1\r\n  var wkStart = new Date(new Date(date).setDate(date.getDate() - lessDays))\r\n  var wkEnd = new Date(new Date(wkStart).setDate(wkStart.getDate() + 6))\r\n  return dayjs.utc(wkStart).format('MMM DD') + ' - ' + dayjs.utc(wkEnd).format('MMM DD')\r\n}\r\n\r\nexport function getTimestampsForChanges() {\r\n  const utcCurrentTime = dayjs()\r\n  const t1 = utcCurrentTime\r\n    .subtract(1, 'day')\r\n    .startOf('minute')\r\n    .unix()\r\n  const t2 = utcCurrentTime\r\n    .subtract(2, 'day')\r\n    .startOf('minute')\r\n    .unix()\r\n  const tWeek = utcCurrentTime\r\n    .subtract(1, 'week')\r\n    .startOf('minute')\r\n    .unix()\r\n  return [t1, t2, tWeek]\r\n}\r\n\r\nexport async function splitQuery(query, localClient, vars, list, skipCount = 100) {\r\n  let fetchedData = {}\r\n  let allFound = false\r\n  let skip = 0\r\n\r\n  while (!allFound) {\r\n    let end = list.length\r\n    if (skip + skipCount < list.length) {\r\n      end = skip + skipCount\r\n    }\r\n    let sliced = list.slice(skip, end)\r\n    let result = await localClient.query({\r\n      query: query(...vars, sliced),\r\n      fetchPolicy: 'cache-first'\r\n    })\r\n    fetchedData = {\r\n      ...fetchedData,\r\n      ...result.data\r\n    }\r\n    if (Object.keys(result.data).length < skipCount || skip + skipCount > list.length) {\r\n      allFound = true\r\n    } else {\r\n      skip += skipCount\r\n    }\r\n  }\r\n\r\n  return fetchedData\r\n}\r\n\r\n/**\r\n * @notice Fetches first block after a given timestamp\r\n * @dev Query speed is optimized by limiting to a 600-second period\r\n * @param {Int} timestamp in seconds\r\n */\r\nexport async function getBlockFromTimestamp(timestamp) {\r\n  let result = await blockClient.query({\r\n    query: GET_BLOCK,\r\n    variables: {\r\n      timestampFrom: timestamp,\r\n      timestampTo: timestamp + 600\r\n    },\r\n    fetchPolicy: 'cache-first'\r\n  })\r\n  return result?.data?.blocks?.[0]?.number\r\n}\r\n\r\n/**\r\n * @notice Fetches block objects for an array of timestamps.\r\n * @dev blocks are returned in chronological order (ASC) regardless of input.\r\n * @dev blocks are returned at string representations of Int\r\n * @dev timestamps are returns as they were provided; not the block time.\r\n * @param {Array} timestamps\r\n */\r\nexport async function getBlocksFromTimestamps(timestamps, skipCount = 500) {\r\n  if (timestamps?.length === 0) {\r\n    return []\r\n  }\r\n\r\n  let fetchedData = await splitQuery(GET_BLOCKS, blockClient, [], timestamps, skipCount)\r\n\r\n  let blocks = []\r\n  if (fetchedData) {\r\n    for (var t in fetchedData) {\r\n      if (fetchedData[t].length > 0) {\r\n        blocks.push({\r\n          timestamp: t.split('t')[1],\r\n          number: fetchedData[t][0]['number']\r\n        })\r\n      }\r\n    }\r\n  }\r\n  return blocks\r\n}\r\n\r\nexport async function getLiquidityTokenBalanceOvertime(account, timestamps) {\r\n  // get blocks based on timestamps\r\n  const blocks = await getBlocksFromTimestamps(timestamps)\r\n\r\n  // get historical share values with time travel queries\r\n  let result = await client.query({\r\n    query: SHARE_VALUE(account, blocks),\r\n    fetchPolicy: 'cache-first'\r\n  })\r\n\r\n  let values = []\r\n  for (var row in result?.data) {\r\n    let timestamp = row.split('t')[1]\r\n    if (timestamp) {\r\n      values.push({\r\n        timestamp,\r\n        balance: 0\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @notice Example query using time travel queries\r\n * @dev TODO - handle scenario where blocks are not available for a timestamps (e.g. current time)\r\n * @param {String} pairAddress\r\n * @param {Array} timestamps\r\n */\r\nexport async function getShareValueOverTime(pairAddress, timestamps) {\r\n  if (!timestamps) {\r\n    const utcCurrentTime = dayjs()\r\n    const utcSevenDaysBack = utcCurrentTime.subtract(8, 'day').unix()\r\n    timestamps = getTimestampRange(utcSevenDaysBack, 86400, 7)\r\n  }\r\n\r\n  // get blocks based on timestamps\r\n  const blocks = await getBlocksFromTimestamps(timestamps)\r\n\r\n  // get historical share values with time travel queries\r\n  let result = await client.query({\r\n    query: SHARE_VALUE(pairAddress, blocks),\r\n    fetchPolicy: 'cache-first'\r\n  })\r\n\r\n  let values = []\r\n  for (var row in result?.data) {\r\n    let timestamp = row.split('t')[1]\r\n    let sharePriceUsd = parseFloat(result.data[row]?.reserveUSD) / parseFloat(result.data[row]?.totalSupply)\r\n    if (timestamp) {\r\n      values.push({\r\n        timestamp,\r\n        sharePriceUsd,\r\n        totalSupply: result.data[row].totalSupply,\r\n        reserve0: result.data[row].reserve0,\r\n        reserve1: result.data[row].reserve1,\r\n        reserveUSD: result.data[row].reserveUSD,\r\n        token0DerivedBNB: result.data[row].token0.derivedBNB,\r\n        token1DerivedBNB: result.data[row].token1.derivedBNB,\r\n        roiUsd: values && values[0] ? sharePriceUsd / values[0]['sharePriceUsd'] : 1,\r\n        bnbPrice: 0,\r\n        token0PriceUSD: 0,\r\n        token1PriceUSD: 0\r\n      })\r\n    }\r\n  }\r\n\r\n  // add bnb prices\r\n  let index = 0\r\n  for (var brow in result?.data) {\r\n    let timestamp = brow.split('b')[1]\r\n    if (timestamp) {\r\n      values[index].bnbPrice = result.data[brow].bnbPrice\r\n      values[index].token0PriceUSD = result.data[brow].bnbPrice * values[index].token0DerivedBNB\r\n      values[index].token1PriceUSD = result.data[brow].bnbPrice * values[index].token1DerivedBNB\r\n      index += 1\r\n    }\r\n  }\r\n\r\n  return values\r\n}\r\n\r\n/**\r\n * @notice Creates an evenly-spaced array of timestamps\r\n * @dev Periods include a start and end timestamp. For example, n periods are defined by n+1 timestamps.\r\n * @param {Int} timestamp_from in seconds\r\n * @param {Int} period_length in seconds\r\n * @param {Int} periods\r\n */\r\nexport function getTimestampRange(timestamp_from, period_length, periods) {\r\n  let timestamps = []\r\n  for (let i = 0; i <= periods; i++) {\r\n    timestamps.push(timestamp_from + i * period_length)\r\n  }\r\n  return timestamps\r\n}\r\n\r\nexport const toNiceDateYear = date => dayjs.utc(dayjs.unix(date)).format('MMMM DD, YYYY')\r\n\r\nexport const isAddress = value => {\r\n  try {\r\n    return ethers.utils.getAddress(value.toLowerCase())\r\n  } catch {\r\n    return false\r\n  }\r\n}\r\n\r\nexport const toK = num => {\r\n  return Numeral(num).format('0.[00]a')\r\n}\r\n\r\nexport const setThemeColor = theme => document.documentElement.style.setProperty('--c-token', theme || '#333333')\r\n\r\nexport const Big = number => new BigNumber(number)\r\n\r\nexport const urls = {\r\n  showTransaction: tx => `https://bscscan.com/tx/${tx}/`,\r\n  showAddress: address => `https://www.bscscan.com/address/${address}/`,\r\n  showToken: address => `https://www.bscscan.com/token/${address}/`,\r\n  showBlock: block => `https://bscscan.com/block/${block}/`\r\n}\r\n\r\nexport const formatTime = unix => {\r\n  const now = dayjs()\r\n  const timestamp = dayjs.unix(unix)\r\n\r\n  const inSeconds = now.diff(timestamp, 'second')\r\n  const inMinutes = now.diff(timestamp, 'minute')\r\n  const inHours = now.diff(timestamp, 'hour')\r\n  const inDays = now.diff(timestamp, 'day')\r\n\r\n  if (inHours >= 24) {\r\n    return `${inDays} ${inDays === 1 ? 'day' : 'days'} ago`\r\n  } else if (inMinutes >= 60) {\r\n    return `${inHours} ${inHours === 1 ? 'hour' : 'hours'} ago`\r\n  } else if (inSeconds >= 60) {\r\n    return `${inMinutes} ${inMinutes === 1 ? 'minute' : 'minutes'} ago`\r\n  } else {\r\n    return `${inSeconds} ${inSeconds === 1 ? 'second' : 'seconds'} ago`\r\n  }\r\n}\r\n\r\nexport const formatNumber = num => {\r\n  return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\r\n}\r\n\r\n// using a currency library here in case we want to add more in future\r\nvar priceFormatter = new Intl.NumberFormat('en-US', {\r\n  style: 'currency',\r\n  currency: 'USD',\r\n  minimumFractionDigits: 2\r\n})\r\n\r\nexport const toSignificant = (number, significantDigits) => {\r\n  Decimal.set({ precision: significantDigits + 1, rounding: Decimal.ROUND_UP })\r\n  const updated = new Decimal(number).toSignificantDigits(significantDigits)\r\n  return updated.toFormat(updated.decimalPlaces(), { groupSeparator: '' })\r\n}\r\n\r\nexport const formattedNum = (number, usd = false, acceptNegatives = false) => {\r\n  if (isNaN(number) || number === '' || number === undefined) {\r\n    return usd ? '$0' : 0\r\n  }\r\n  let num = parseFloat(number)\r\n\r\n  if (num > 500000000) {\r\n    return (usd ? '$' : '') + toK(num.toFixed(0), true)\r\n  }\r\n\r\n  if (num === 0) {\r\n    if (usd) {\r\n      return '$0'\r\n    }\r\n    return 0\r\n  }\r\n\r\n  if (num < 0.0001 && num > 0) {\r\n    return usd ? '< $0.0001' : '< 0.0001'\r\n  }\r\n\r\n  if (num > 1000) {\r\n    return usd\r\n      ? '$' + Number(parseFloat(num).toFixed(0)).toLocaleString()\r\n      : '' + Number(parseFloat(num).toFixed(0)).toLocaleString()\r\n  }\r\n\r\n  if (usd) {\r\n    if (num < 0.1) {\r\n      return '$' + Number(parseFloat(num).toFixed(4))\r\n    } else {\r\n      let usdString = priceFormatter.format(num)\r\n      return '$' + usdString.slice(1, usdString.length)\r\n    }\r\n  }\r\n\r\n  return Number(parseFloat(num).toFixed(5))\r\n}\r\n\r\nexport function rawPercent(percentRaw) {\r\n  let percent = parseFloat(percentRaw * 100)\r\n  if (!percent || percent === 0) {\r\n    return '0%'\r\n  }\r\n  if (percent < 1 && percent > 0) {\r\n    return '< 1%'\r\n  }\r\n  return percent.toFixed(0) + '%'\r\n}\r\n\r\nexport function formattedPercent(percent, useBrackets = false) {\r\n  percent = parseFloat(percent)\r\n  if (!percent || percent === 0) {\r\n    return <Text fontWeight={500}>0%</Text>\r\n  }\r\n\r\n  if (percent < 0.0001 && percent > 0) {\r\n    return (\r\n      <Text fontWeight={500} color=\"green\">\r\n        {'< 0.0001%'}\r\n      </Text>\r\n    )\r\n  }\r\n\r\n  if (percent < 0 && percent > -0.0001) {\r\n    return (\r\n      <Text fontWeight={500} color=\"red\">\r\n        {'< 0.0001%'}\r\n      </Text>\r\n    )\r\n  }\r\n\r\n  let fixedPercent = percent.toFixed(2)\r\n  if (fixedPercent === '0.00') {\r\n    return '0%'\r\n  }\r\n  if (fixedPercent > 0) {\r\n    if (fixedPercent > 100) {\r\n      return <Text fontWeight={500} color=\"green\">{`+${percent?.toFixed(0).toLocaleString()}%`}</Text>\r\n    } else {\r\n      return <Text fontWeight={500} color=\"green\">{`+${fixedPercent}%`}</Text>\r\n    }\r\n  } else {\r\n    return <Text fontWeight={500} color=\"red\">{`${fixedPercent}%`}</Text>\r\n  }\r\n}\r\n\r\n/**\r\n * gets the amoutn difference plus the % change in change itself (second order change)\r\n * @param {*} valueNow\r\n * @param {*} value24HoursAgo\r\n * @param {*} value48HoursAgo\r\n */\r\nexport const get2DayPercentChange = (valueNow, value24HoursAgo, value48HoursAgo) => {\r\n  // get volume info for both 24 hour periods\r\n  let currentChange = parseFloat(valueNow) - parseFloat(value24HoursAgo)\r\n  let previousChange = parseFloat(value24HoursAgo) - parseFloat(value48HoursAgo)\r\n\r\n  const adjustedPercentChange = (parseFloat(currentChange - previousChange) / parseFloat(previousChange)) * 100\r\n\r\n  if (isNaN(adjustedPercentChange) || !isFinite(adjustedPercentChange)) {\r\n    return [currentChange, 0]\r\n  }\r\n  return [currentChange, adjustedPercentChange]\r\n}\r\n\r\n/**\r\n * get standard percent change between two values\r\n * @param {*} valueNow\r\n * @param {*} value24HoursAgo\r\n */\r\nexport const getPercentChange = (valueNow, value24HoursAgo) => {\r\n  const adjustedPercentChange =\r\n    ((parseFloat(valueNow) - parseFloat(value24HoursAgo)) / parseFloat(value24HoursAgo)) * 100\r\n  if (isNaN(adjustedPercentChange) || !isFinite(adjustedPercentChange)) {\r\n    return 0\r\n  }\r\n  return adjustedPercentChange\r\n}\r\n\r\nexport function isEquivalent(a, b) {\r\n  var aProps = Object.getOwnPropertyNames(a)\r\n  var bProps = Object.getOwnPropertyNames(b)\r\n  if (aProps.length !== bProps.length) {\r\n    return false\r\n  }\r\n  for (var i = 0; i < aProps.length; i++) {\r\n    var propName = aProps[i]\r\n    if (a[propName] !== b[propName]) {\r\n      return false\r\n    }\r\n  }\r\n  return true\r\n}\r\n","import React, { createContext, useContext, useReducer, useMemo, useCallback, useEffect, useState } from 'react'\r\n\r\nimport { client } from '../apollo/client'\r\nimport {\r\n  PAIR_DATA,\r\n  PAIR_CHART,\r\n  FILTERED_TRANSACTIONS,\r\n  PAIRS_CURRENT,\r\n  PAIRS_BULK,\r\n  PAIRS_HISTORICAL_BULK,\r\n  HOURLY_PAIR_RATES\r\n} from '../apollo/queries'\r\n\r\nimport { useBnbPrice } from './GlobalData'\r\n\r\nimport dayjs from 'dayjs'\r\nimport utc from 'dayjs/plugin/utc'\r\n\r\nimport {\r\n  getPercentChange,\r\n  get2DayPercentChange,\r\n  isAddress,\r\n  getBlocksFromTimestamps,\r\n  getTimestampsForChanges,\r\n  splitQuery\r\n} from '../utils'\r\nimport { timeframeOptions } from '../constants'\r\nimport { useLatestBlock } from './Application'\r\n\r\nconst UPDATE = 'UPDATE'\r\nconst UPDATE_PAIR_TXNS = 'UPDATE_PAIR_TXNS'\r\nconst UPDATE_CHART_DATA = 'UPDATE_CHART_DATA'\r\nconst UPDATE_TOP_PAIRS = 'UPDATE_TOP_PAIRS'\r\nconst UPDATE_HOURLY_DATA = 'UPDATE_HOURLY_DATA'\r\n\r\ndayjs.extend(utc)\r\n\r\nexport function safeAccess(object, path) {\r\n  return object\r\n    ? path.reduce(\r\n        (accumulator, currentValue) => (accumulator && accumulator[currentValue] ? accumulator[currentValue] : null),\r\n        object\r\n      )\r\n    : null\r\n}\r\n\r\nconst PairDataContext = createContext()\r\n\r\nfunction usePairDataContext() {\r\n  return useContext(PairDataContext)\r\n}\r\n\r\nfunction reducer(state, { type, payload }) {\r\n  switch (type) {\r\n    case UPDATE: {\r\n      const { pairAddress, data } = payload\r\n      return {\r\n        ...state,\r\n        [pairAddress]: {\r\n          ...state?.[pairAddress],\r\n          ...data\r\n        }\r\n      }\r\n    }\r\n\r\n    case UPDATE_TOP_PAIRS: {\r\n      const { topPairs } = payload\r\n      let added = {}\r\n      topPairs.map(pair => {\r\n        return (added[pair.id] = pair)\r\n      })\r\n      return {\r\n        ...state,\r\n        ...added\r\n      }\r\n    }\r\n\r\n    case UPDATE_PAIR_TXNS: {\r\n      const { address, transactions } = payload\r\n      return {\r\n        ...state,\r\n        [address]: {\r\n          ...(safeAccess(state, [address]) || {}),\r\n          txns: transactions\r\n        }\r\n      }\r\n    }\r\n    case UPDATE_CHART_DATA: {\r\n      const { address, chartData } = payload\r\n      return {\r\n        ...state,\r\n        [address]: {\r\n          ...(safeAccess(state, [address]) || {}),\r\n          chartData\r\n        }\r\n      }\r\n    }\r\n\r\n    case UPDATE_HOURLY_DATA: {\r\n      const { address, hourlyData, timeWindow } = payload\r\n      return {\r\n        ...state,\r\n        [address]: {\r\n          ...state?.[address],\r\n          hourlyData: {\r\n            ...state?.[address]?.hourlyData,\r\n            [timeWindow]: hourlyData\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    default: {\r\n      throw Error(`Unexpected action type in DataContext reducer: '${type}'.`)\r\n    }\r\n  }\r\n}\r\n\r\nexport default function Provider({ children }) {\r\n  const [state, dispatch] = useReducer(reducer, {})\r\n\r\n  // update pair specific data\r\n  const update = useCallback((pairAddress, data) => {\r\n    dispatch({\r\n      type: UPDATE,\r\n      payload: {\r\n        pairAddress,\r\n        data\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const updateTopPairs = useCallback(topPairs => {\r\n    dispatch({\r\n      type: UPDATE_TOP_PAIRS,\r\n      payload: {\r\n        topPairs\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const updatePairTxns = useCallback((address, transactions) => {\r\n    dispatch({\r\n      type: UPDATE_PAIR_TXNS,\r\n      payload: { address, transactions }\r\n    })\r\n  }, [])\r\n\r\n  const updateChartData = useCallback((address, chartData) => {\r\n    dispatch({\r\n      type: UPDATE_CHART_DATA,\r\n      payload: { address, chartData }\r\n    })\r\n  }, [])\r\n\r\n  const updateHourlyData = useCallback((address, hourlyData, timeWindow) => {\r\n    dispatch({\r\n      type: UPDATE_HOURLY_DATA,\r\n      payload: { address, hourlyData, timeWindow }\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <PairDataContext.Provider\r\n      value={useMemo(() => [state, { update, updatePairTxns, updateChartData, updateTopPairs, updateHourlyData }], [\r\n        state,\r\n        update,\r\n        updatePairTxns,\r\n        updateChartData,\r\n        updateTopPairs,\r\n        updateHourlyData\r\n      ])}\r\n    >\r\n      {children}\r\n    </PairDataContext.Provider>\r\n  )\r\n}\r\n\r\nasync function getBulkPairData(pairList, bnbPrice) {\r\n  const [t1, t2, tWeek] = getTimestampsForChanges()\r\n  let [{ number: b1 }, { number: b2 }, { number: bWeek }] = await getBlocksFromTimestamps([t1, t2, tWeek])\r\n\r\n  try {\r\n    let current = await client.query({\r\n      query: PAIRS_BULK,\r\n      variables: {\r\n        allPairs: pairList\r\n      },\r\n      fetchPolicy: 'cache-first'\r\n    })\r\n\r\n    let [oneDayResult, twoDayResult, oneWeekResult] = await Promise.all(\r\n      [b1, b2, bWeek].map(async block => {\r\n        let result = client.query({\r\n          query: PAIRS_HISTORICAL_BULK(block, pairList),\r\n          fetchPolicy: 'cache-first'\r\n        })\r\n        return result\r\n      })\r\n    )\r\n\r\n    let oneDayData = oneDayResult?.data?.pairs.reduce((obj, cur, i) => {\r\n      return { ...obj, [cur.id]: cur }\r\n    }, {})\r\n\r\n    let twoDayData = twoDayResult?.data?.pairs.reduce((obj, cur, i) => {\r\n      return { ...obj, [cur.id]: cur }\r\n    }, {})\r\n\r\n    let oneWeekData = oneWeekResult?.data?.pairs.reduce((obj, cur, i) => {\r\n      return { ...obj, [cur.id]: cur }\r\n    }, {})\r\n\r\n    let pairData = await Promise.all(\r\n      current &&\r\n        current.data.pairs.map(async pair => {\r\n          let data = pair\r\n          let oneDayHistory = oneDayData?.[pair.id]\r\n          if (!oneDayHistory) {\r\n            let newData = await client.query({\r\n              query: PAIR_DATA(pair.id, b1),\r\n              fetchPolicy: 'cache-first'\r\n            })\r\n            oneDayHistory = newData.data.pairs[0]\r\n          }\r\n          let twoDayHistory = twoDayData?.[pair.id]\r\n          if (!twoDayHistory) {\r\n            let newData = await client.query({\r\n              query: PAIR_DATA(pair.id, b2),\r\n              fetchPolicy: 'cache-first'\r\n            })\r\n            twoDayHistory = newData.data.pairs[0]\r\n          }\r\n          let oneWeekHistory = oneWeekData?.[pair.id]\r\n          if (!oneWeekHistory) {\r\n            let newData = await client.query({\r\n              query: PAIR_DATA(pair.id, bWeek),\r\n              fetchPolicy: 'cache-first'\r\n            })\r\n            oneWeekHistory = newData.data.pairs[0]\r\n          }\r\n          data = parseData(data, oneDayHistory, twoDayHistory, oneWeekHistory, bnbPrice, b1)\r\n          return data\r\n        })\r\n    )\r\n    return pairData\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nfunction parseData(data, oneDayData, twoDayData, oneWeekData, bnbPrice, oneDayBlock) {\r\n  // get volume changes\r\n  const [oneDayVolumeUSD, volumeChangeUSD] = get2DayPercentChange(\r\n    data?.volumeUSD,\r\n    oneDayData?.volumeUSD ? oneDayData.volumeUSD : 0,\r\n    twoDayData?.volumeUSD ? twoDayData.volumeUSD : 0\r\n  )\r\n  const [oneDayVolumeUntracked, volumeChangeUntracked] = get2DayPercentChange(\r\n    data?.untrackedVolumeUSD,\r\n    oneDayData?.untrackedVolumeUSD ? parseFloat(oneDayData?.untrackedVolumeUSD) : 0,\r\n    twoDayData?.untrackedVolumeUSD ? twoDayData?.untrackedVolumeUSD : 0\r\n  )\r\n  const oneWeekVolumeUSD = parseFloat(oneWeekData ? data?.volumeUSD - oneWeekData?.volumeUSD : data.volumeUSD)\r\n\r\n  // set volume properties\r\n  data.oneDayVolumeUSD = parseFloat(oneDayVolumeUSD)\r\n  data.oneWeekVolumeUSD = oneWeekVolumeUSD\r\n  data.volumeChangeUSD = volumeChangeUSD\r\n  data.oneDayVolumeUntracked = oneDayVolumeUntracked\r\n  data.volumeChangeUntracked = volumeChangeUntracked\r\n\r\n  // set liquiditry properties\r\n  data.trackedReserveUSD = data.trackedReserveBNB * bnbPrice\r\n  data.liquidityChangeUSD = getPercentChange(data.reserveUSD, oneDayData?.reserveUSD)\r\n\r\n  // format if pair hasnt existed for a day or a week\r\n  if (!oneDayData && data && data.createdAtBlockNumber > oneDayBlock) {\r\n    data.oneDayVolumeUSD = parseFloat(data.volumeUSD)\r\n  }\r\n  if (!oneDayData && data) {\r\n    data.oneDayVolumeUSD = parseFloat(data.volumeUSD)\r\n  }\r\n  if (!oneWeekData && data) {\r\n    data.oneWeekVolumeUSD = parseFloat(data.volumeUSD)\r\n  }\r\n  if (data?.token0?.id === '0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c') {\r\n    data.token0.name = 'BNB (Wrapped)'\r\n    data.token0.symbol = 'BNB'\r\n  }\r\n  if (data?.token1?.id === '0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c') {\r\n    data.token1.name = 'BNB (Wrapped)'\r\n    data.token1.symbol = 'BNB'\r\n  }\r\n  return data\r\n}\r\n\r\nconst getPairTransactions = async pairAddress => {\r\n  const transactions = {}\r\n\r\n  try {\r\n    let result = await client.query({\r\n      query: FILTERED_TRANSACTIONS,\r\n      variables: {\r\n        allPairs: [pairAddress]\r\n      },\r\n      fetchPolicy: 'no-cache'\r\n    })\r\n    transactions.mints = result.data.mints\r\n    transactions.burns = result.data.burns\r\n    transactions.swaps = result.data.swaps\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n\r\n  return transactions\r\n}\r\n\r\nconst getPairChartData = async pairAddress => {\r\n  let data = []\r\n  const utcEndTime = dayjs.utc()\r\n  let utcStartTime = utcEndTime.subtract(1, 'year').startOf('minute')\r\n  let startTime = utcStartTime.unix() - 1\r\n\r\n  try {\r\n    let allFound = false\r\n    let skip = 0\r\n    while (!allFound) {\r\n      let result = await client.query({\r\n        query: PAIR_CHART,\r\n        variables: {\r\n          pairAddress: pairAddress,\r\n          skip\r\n        },\r\n        fetchPolicy: 'cache-first'\r\n      })\r\n      skip += 1000\r\n      data = data.concat(result.data.pairDayDatas)\r\n      if (result.data.pairDayDatas.length < 1000) {\r\n        allFound = true\r\n      }\r\n    }\r\n\r\n    let dayIndexSet = new Set()\r\n    let dayIndexArray = []\r\n    const oneDay = 24 * 60 * 60\r\n    data.forEach((dayData, i) => {\r\n      // add the day index to the set of days\r\n      dayIndexSet.add((data[i].date / oneDay).toFixed(0))\r\n      dayIndexArray.push(data[i])\r\n      dayData.dailyVolumeUSD = parseFloat(dayData.dailyVolumeUSD)\r\n      dayData.reserveUSD = parseFloat(dayData.reserveUSD)\r\n    })\r\n\r\n    if (data[0]) {\r\n      // fill in empty days\r\n      let timestamp = data[0].date ? data[0].date : startTime\r\n      let latestLiquidityUSD = data[0].reserveUSD\r\n      let index = 1\r\n      while (timestamp < utcEndTime.unix() - oneDay) {\r\n        const nextDay = timestamp + oneDay\r\n        let currentDayIndex = (nextDay / oneDay).toFixed(0)\r\n        if (!dayIndexSet.has(currentDayIndex)) {\r\n          data.push({\r\n            date: nextDay,\r\n            dayString: nextDay,\r\n            dailyVolumeUSD: 0,\r\n            reserveUSD: latestLiquidityUSD\r\n          })\r\n        } else {\r\n          latestLiquidityUSD = dayIndexArray[index].reserveUSD\r\n          index = index + 1\r\n        }\r\n        timestamp = nextDay\r\n      }\r\n    }\r\n\r\n    data = data.sort((a, b) => (parseInt(a.date) > parseInt(b.date) ? 1 : -1))\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n\r\n  return data\r\n}\r\n\r\nconst getHourlyRateData = async (pairAddress, startTime, latestBlock) => {\r\n  try {\r\n    const utcEndTime = dayjs.utc()\r\n    let time = startTime\r\n\r\n    // create an array of hour start times until we reach current hour\r\n    const timestamps = []\r\n    while (time <= utcEndTime.unix() - 3600) {\r\n      timestamps.push(time)\r\n      time += 3600\r\n    }\r\n\r\n    // backout if invalid timestamp format\r\n    if (timestamps.length === 0) {\r\n      return []\r\n    }\r\n\r\n    // once you have all the timestamps, get the blocks for each timestamp in a bulk query\r\n    let blocks\r\n\r\n    blocks = await getBlocksFromTimestamps(timestamps, 100)\r\n\r\n    // catch failing case\r\n    if (!blocks || blocks?.length === 0) {\r\n      return []\r\n    }\r\n\r\n    if (latestBlock) {\r\n      blocks = blocks.filter(b => {\r\n        return parseFloat(b.number) <= parseFloat(latestBlock)\r\n      })\r\n    }\r\n\r\n    const result = await splitQuery(HOURLY_PAIR_RATES, client, [pairAddress], blocks, 100)\r\n\r\n    // format token BNB price results\r\n    let values = []\r\n    for (var row in result) {\r\n      let timestamp = row.split('t')[1]\r\n      if (timestamp) {\r\n        values.push({\r\n          timestamp,\r\n          rate0: parseFloat(result[row]?.token0Price),\r\n          rate1: parseFloat(result[row]?.token1Price)\r\n        })\r\n      }\r\n    }\r\n\r\n    let formattedHistoryRate0 = []\r\n    let formattedHistoryRate1 = []\r\n\r\n    // for each hour, construct the open and close price\r\n    for (let i = 0; i < values.length - 1; i++) {\r\n      formattedHistoryRate0.push({\r\n        timestamp: values[i].timestamp,\r\n        open: parseFloat(values[i].rate0),\r\n        close: parseFloat(values[i + 1].rate0)\r\n      })\r\n      formattedHistoryRate1.push({\r\n        timestamp: values[i].timestamp,\r\n        open: parseFloat(values[i].rate1),\r\n        close: parseFloat(values[i + 1].rate1)\r\n      })\r\n    }\r\n\r\n    return [formattedHistoryRate0, formattedHistoryRate1]\r\n  } catch (e) {\r\n    console.log(e)\r\n    return [[], []]\r\n  }\r\n}\r\n\r\nexport function Updater() {\r\n  const [, { updateTopPairs }] = usePairDataContext()\r\n  const [bnbPrice] = useBnbPrice()\r\n  useEffect(() => {\r\n    async function getData() {\r\n      // get top pairs by reserves\r\n      let {\r\n        data: { pairs }\r\n      } = await client.query({\r\n        query: PAIRS_CURRENT,\r\n        fetchPolicy: 'cache-first'\r\n      })\r\n\r\n      // format as array of addresses\r\n      const formattedPairs = pairs.map(pair => {\r\n        return pair.id\r\n      })\r\n\r\n      // get data for every pair in list\r\n      let topPairs = await getBulkPairData(formattedPairs, bnbPrice)\r\n      topPairs && updateTopPairs(topPairs)\r\n    }\r\n    bnbPrice && getData()\r\n  }, [bnbPrice, updateTopPairs])\r\n  return null\r\n}\r\n\r\nexport function useHourlyRateData(pairAddress, timeWindow) {\r\n  const [state, { updateHourlyData }] = usePairDataContext()\r\n  const chartData = state?.[pairAddress]?.hourlyData?.[timeWindow]\r\n  const latestBlock = useLatestBlock()\r\n\r\n  useEffect(() => {\r\n    const currentTime = dayjs.utc()\r\n    const windowSize = timeWindow === timeframeOptions.MONTH ? 'month' : 'week'\r\n    const startTime =\r\n      timeWindow === timeframeOptions.ALL_TIME\r\n        ? 1589760000\r\n        : currentTime\r\n            .subtract(1, windowSize)\r\n            .startOf('hour')\r\n            .unix()\r\n\r\n    async function fetch() {\r\n      let data = await getHourlyRateData(pairAddress, startTime, latestBlock)\r\n      updateHourlyData(pairAddress, data, timeWindow)\r\n    }\r\n    if (!chartData) {\r\n      fetch()\r\n    }\r\n  }, [chartData, timeWindow, pairAddress, updateHourlyData, latestBlock])\r\n\r\n  return chartData\r\n}\r\n\r\n/**\r\n * @todo\r\n * store these updates to reduce future redundant calls\r\n */\r\nexport function useDataForList(pairList) {\r\n  const [state] = usePairDataContext()\r\n  const [bnbPrice] = useBnbPrice()\r\n\r\n  const [stale, setStale] = useState(false)\r\n  const [fetched, setFetched] = useState([])\r\n\r\n  // reset\r\n  useEffect(() => {\r\n    if (pairList) {\r\n      setStale(false)\r\n      setFetched()\r\n    }\r\n  }, [pairList])\r\n\r\n  useEffect(() => {\r\n    async function fetchNewPairData() {\r\n      let newFetched = []\r\n      let unfetched = []\r\n\r\n      pairList.map(async pair => {\r\n        let currentData = state?.[pair.id]\r\n        if (!currentData) {\r\n          unfetched.push(pair.id)\r\n        } else {\r\n          newFetched.push(currentData)\r\n        }\r\n      })\r\n\r\n      let newPairData = await getBulkPairData(\r\n        unfetched.map(pair => {\r\n          return pair\r\n        }),\r\n        bnbPrice\r\n      )\r\n      setFetched(newFetched.concat(newPairData))\r\n    }\r\n    if (bnbPrice && pairList && pairList.length > 0 && !fetched && !stale) {\r\n      setStale(true)\r\n      fetchNewPairData()\r\n    }\r\n  }, [bnbPrice, state, pairList, stale, fetched])\r\n\r\n  let formattedFetch =\r\n    fetched &&\r\n    fetched.reduce((obj, cur) => {\r\n      return { ...obj, [cur?.id]: cur }\r\n    }, {})\r\n\r\n  return formattedFetch\r\n}\r\n\r\n/**\r\n * Get all the current and 24hr changes for a pair\r\n */\r\nexport function usePairData(pairAddress) {\r\n  const [state, { update }] = usePairDataContext()\r\n  const [bnbPrice] = useBnbPrice()\r\n  const pairData = state?.[pairAddress]\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      if (!pairData && pairAddress) {\r\n        let data = await getBulkPairData([pairAddress], bnbPrice)\r\n        data && update(pairAddress, data[0])\r\n      }\r\n    }\r\n    if (!pairData && pairAddress && bnbPrice && isAddress(pairAddress)) {\r\n      fetchData()\r\n    }\r\n  }, [pairAddress, pairData, update, bnbPrice])\r\n\r\n  return pairData || {}\r\n}\r\n\r\n/**\r\n * Get most recent txns for a pair\r\n */\r\nexport function usePairTransactions(pairAddress) {\r\n  const [state, { updatePairTxns }] = usePairDataContext()\r\n  const pairTxns = state?.[pairAddress]?.txns\r\n  useEffect(() => {\r\n    async function checkForTxns() {\r\n      if (!pairTxns) {\r\n        let transactions = await getPairTransactions(pairAddress)\r\n        updatePairTxns(pairAddress, transactions)\r\n      }\r\n    }\r\n    checkForTxns()\r\n  }, [pairTxns, pairAddress, updatePairTxns])\r\n  return pairTxns\r\n}\r\n\r\nexport function usePairChartData(pairAddress) {\r\n  const [state, { updateChartData }] = usePairDataContext()\r\n  const chartData = state?.[pairAddress]?.chartData\r\n\r\n  useEffect(() => {\r\n    async function checkForChartData() {\r\n      if (!chartData) {\r\n        let data = await getPairChartData(pairAddress)\r\n        updateChartData(pairAddress, data)\r\n      }\r\n    }\r\n    checkForChartData()\r\n  }, [chartData, pairAddress, updateChartData])\r\n  return chartData\r\n}\r\n\r\n/**\r\n * Get list of all pairs in Bscswap\r\n */\r\nexport function useAllPairData() {\r\n  const [state] = usePairDataContext()\r\n  return state || {}\r\n}\r\n","import React, { createContext, useContext, useReducer, useMemo, useCallback, useEffect, useState } from 'react'\r\nimport { client } from '../apollo/client'\r\nimport dayjs from 'dayjs'\r\nimport utc from 'dayjs/plugin/utc'\r\nimport { useTimeframe } from './Application'\r\nimport {\r\n  getPercentChange,\r\n  getBlockFromTimestamp,\r\n  getBlocksFromTimestamps,\r\n  get2DayPercentChange,\r\n  getTimeframe\r\n} from '../utils'\r\nimport {\r\n  GLOBAL_DATA,\r\n  GLOBAL_TXNS,\r\n  GLOBAL_CHART,\r\n  BNB_PRICE,\r\n  ALL_PAIRS,\r\n  ALL_TOKENS,\r\n  TOP_LPS_PER_PAIRS\r\n} from '../apollo/queries'\r\nimport weekOfYear from 'dayjs/plugin/weekOfYear'\r\nimport { useAllPairData } from './PairData'\r\nconst UPDATE = 'UPDATE'\r\nconst UPDATE_TXNS = 'UPDATE_TXNS'\r\nconst UPDATE_CHART = 'UPDATE_CHART'\r\nconst UPDATE_BNB_PRICE = 'UPDATE_BNB_PRICE'\r\nconst BNB_PRICE_KEY = 'BNB_PRICE_KEY'\r\nconst UPDATE_ALL_PAIRS_IN_BSCSWAP = 'UPDATE_ALL_PAIRS_IN_BSCSWAP'\r\nconst UPDATE_ALL_TOKENS_IN_BSCSWAP = 'UPDATE_ALL_TOKENS_IN_BSCSWAP'\r\nconst UPDATE_TOP_LPS = 'UPDATE_TOP_LPS'\r\n\r\n// format dayjs with the libraries that we need\r\ndayjs.extend(utc)\r\ndayjs.extend(weekOfYear)\r\n\r\nconst GlobalDataContext = createContext()\r\n\r\nfunction useGlobalDataContext() {\r\n  return useContext(GlobalDataContext)\r\n}\r\n\r\nfunction reducer(state, { type, payload }) {\r\n  switch (type) {\r\n    case UPDATE: {\r\n      const { data } = payload\r\n      return {\r\n        ...state,\r\n        globalData: data\r\n      }\r\n    }\r\n    case UPDATE_TXNS: {\r\n      const { transactions } = payload\r\n      return {\r\n        ...state,\r\n        transactions\r\n      }\r\n    }\r\n    case UPDATE_CHART: {\r\n      const { daily, weekly } = payload\r\n      return {\r\n        ...state,\r\n        chartData: {\r\n          daily,\r\n          weekly\r\n        }\r\n      }\r\n    }\r\n    case UPDATE_BNB_PRICE: {\r\n      const { bnbPrice, oneDayPrice, bnbPriceChange } = payload\r\n      return {\r\n        [BNB_PRICE_KEY]: bnbPrice,\r\n        oneDayPrice,\r\n        bnbPriceChange\r\n      }\r\n    }\r\n\r\n    case UPDATE_ALL_PAIRS_IN_BSCSWAP: {\r\n      const { allPairs } = payload\r\n      return {\r\n        ...state,\r\n        allPairs\r\n      }\r\n    }\r\n\r\n    case UPDATE_ALL_TOKENS_IN_BSCSWAP: {\r\n      const { allTokens } = payload\r\n      return {\r\n        ...state,\r\n        allTokens\r\n      }\r\n    }\r\n\r\n    case UPDATE_TOP_LPS: {\r\n      const { topLps } = payload\r\n      return {\r\n        ...state,\r\n        topLps\r\n      }\r\n    }\r\n    default: {\r\n      throw Error(`Unexpected action type in DataContext reducer: '${type}'.`)\r\n    }\r\n  }\r\n}\r\n\r\nexport default function Provider({ children }) {\r\n  const [state, dispatch] = useReducer(reducer, {})\r\n  const update = useCallback(data => {\r\n    dispatch({\r\n      type: UPDATE,\r\n      payload: {\r\n        data\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const updateTransactions = useCallback(transactions => {\r\n    dispatch({\r\n      type: UPDATE_TXNS,\r\n      payload: {\r\n        transactions\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const updateChart = useCallback((daily, weekly) => {\r\n    dispatch({\r\n      type: UPDATE_CHART,\r\n      payload: {\r\n        daily,\r\n        weekly\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const updateBnbPrice = useCallback((bnbPrice, oneDayPrice, bnbPriceChange) => {\r\n    dispatch({\r\n      type: UPDATE_BNB_PRICE,\r\n      payload: {\r\n        bnbPrice,\r\n        oneDayPrice,\r\n        bnbPriceChange\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const updateAllPairsInBscswap = useCallback(allPairs => {\r\n    dispatch({\r\n      type: UPDATE_ALL_PAIRS_IN_BSCSWAP,\r\n      payload: {\r\n        allPairs\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const updateAllTokensInBscswap = useCallback(allTokens => {\r\n    dispatch({\r\n      type: UPDATE_ALL_TOKENS_IN_BSCSWAP,\r\n      payload: {\r\n        allTokens\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const updateTopLps = useCallback(topLps => {\r\n    dispatch({\r\n      type: UPDATE_TOP_LPS,\r\n      payload: {\r\n        topLps\r\n      }\r\n    })\r\n  }, [])\r\n  return (\r\n    <GlobalDataContext.Provider\r\n      value={useMemo(\r\n        () => [\r\n          state,\r\n          {\r\n            update,\r\n            updateTransactions,\r\n            updateChart,\r\n            updateBnbPrice,\r\n            updateTopLps,\r\n            updateAllPairsInBscswap,\r\n            updateAllTokensInBscswap\r\n          }\r\n        ],\r\n        [\r\n          state,\r\n          update,\r\n          updateTransactions,\r\n          updateTopLps,\r\n          updateChart,\r\n          updateBnbPrice,\r\n          updateAllPairsInBscswap,\r\n          updateAllTokensInBscswap\r\n        ]\r\n      )}\r\n    >\r\n      {children}\r\n    </GlobalDataContext.Provider>\r\n  )\r\n}\r\n\r\n/**\r\n * Gets all the global data for the overview page.\r\n * Needs current bnb price and the old bnb price to get\r\n * 24 hour USD changes.\r\n * @param {*} bnbPrice\r\n * @param {*} oldBnbPrice\r\n */\r\nasync function getGlobalData(bnbPrice, oldBnbPrice) {\r\n  // data for each day , historic data used for % changes\r\n  let data = {}\r\n  let oneDayData = {}\r\n  let twoDayData = {}\r\n\r\n  try {\r\n    // get timestamps for the days\r\n    const utcCurrentTime = dayjs()\r\n    const utcOneDayBack = utcCurrentTime.subtract(1, 'day').unix()\r\n    const utcTwoDaysBack = utcCurrentTime.subtract(2, 'day').unix()\r\n    const utcOneWeekBack = utcCurrentTime.subtract(1, 'week').unix()\r\n    const utcTwoWeeksBack = utcCurrentTime.subtract(2, 'week').unix()\r\n\r\n    // get the blocks needed for time travel queries\r\n    let [oneDayBlock, twoDayBlock, oneWeekBlock, twoWeekBlock] = await getBlocksFromTimestamps([\r\n      utcOneDayBack,\r\n      utcTwoDaysBack,\r\n      utcOneWeekBack,\r\n      utcTwoWeeksBack\r\n    ])\r\n\r\n    // fetch the global data\r\n    let result = await client.query({\r\n      query: GLOBAL_DATA(),\r\n      fetchPolicy: 'cache-first'\r\n    })\r\n    data = result.data.bscswapFactories[0]\r\n\r\n    // fetch the historical data\r\n    let oneDayResult = await client.query({\r\n      query: GLOBAL_DATA(oneDayBlock?.number),\r\n      fetchPolicy: 'cache-first'\r\n    })\r\n    oneDayData = oneDayResult.data.bscswapFactories[0]\r\n\r\n    let twoDayResult = await client.query({\r\n      query: GLOBAL_DATA(twoDayBlock?.number),\r\n      fetchPolicy: 'cache-first'\r\n    })\r\n    twoDayData = twoDayResult.data.bscswapFactories[0]\r\n\r\n    let oneWeekResult = await client.query({\r\n      query: GLOBAL_DATA(oneWeekBlock?.number),\r\n      fetchPolicy: 'cache-first'\r\n    })\r\n    const oneWeekData = oneWeekResult.data.bscswapFactories[0]\r\n\r\n    let twoWeekResult = await client.query({\r\n      query: GLOBAL_DATA(twoWeekBlock?.number),\r\n      fetchPolicy: 'cache-first'\r\n    })\r\n    const twoWeekData = twoWeekResult.data.bscswapFactories[0]\r\n\r\n    if (data && oneDayData && twoDayData) {\r\n      let [oneDayVolumeUSD, volumeChangeUSD] = get2DayPercentChange(\r\n        data.totalVolumeUSD,\r\n        oneDayData.totalVolumeUSD ? oneDayData.totalVolumeUSD : 0,\r\n        twoDayData.totalVolumeUSD ? twoDayData.totalVolumeUSD : 0\r\n      )\r\n\r\n      const [oneDayTxns, txnChange] = get2DayPercentChange(\r\n        data.txCount,\r\n        oneDayData.txCount ? oneDayData.txCount : 0,\r\n        twoDayData.txCount ? twoDayData.txCount : 0\r\n      )\r\n\r\n      // format the total liquidity in USD\r\n      data.totalLiquidityUSD = data.totalLiquidityBNB * bnbPrice\r\n      const liquidityChangeUSD = getPercentChange(\r\n        data.totalLiquidityBNB * bnbPrice,\r\n        oneDayData.totalLiquidityBNB * oldBnbPrice\r\n      )\r\n\r\n      // add relevant fields with the calculated amounts\r\n      data.oneDayVolumeUSD = oneDayVolumeUSD\r\n      data.volumeChangeUSD = volumeChangeUSD\r\n      data.liquidityChangeUSD = liquidityChangeUSD\r\n      data.oneDayTxns = oneDayTxns\r\n      data.txnChange = txnChange\r\n\r\n      // add two-week data if we're at least two-weeks old\r\n      if (twoWeekData) {\r\n        const [oneWeekVolume, weeklyVolumeChange] = get2DayPercentChange(\r\n          data.totalVolumeUSD,\r\n          oneWeekData.totalVolumeUSD,\r\n          twoWeekData.totalVolumeUSD\r\n        )\r\n\r\n        data.oneWeekVolume = oneWeekVolume\r\n        data.weeklyVolumeChange = weeklyVolumeChange\r\n      }\r\n    }\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n\r\n  return data\r\n}\r\n\r\n/**\r\n * Get historical data for volume and liquidity used in global charts\r\n * on main page\r\n * @param {*} oldestDateToFetch // start of window to fetch from\r\n */\r\nconst getChartData = async oldestDateToFetch => {\r\n  let data = []\r\n  let weeklyData = []\r\n  const utcEndTime = dayjs.utc()\r\n  let skip = 0\r\n  let allFound = false\r\n\r\n  try {\r\n    while (!allFound) {\r\n      let result = await client.query({\r\n        query: GLOBAL_CHART,\r\n        variables: {\r\n          startTime: oldestDateToFetch,\r\n          skip\r\n        },\r\n        fetchPolicy: 'cache-first'\r\n      })\r\n      skip += 1000\r\n      data = data.concat(result.data.bscswapDayDatas)\r\n      if (result.data.bscswapDayDatas.length < 1000) {\r\n        allFound = true\r\n      }\r\n    }\r\n\r\n    if (data) {\r\n      let dayIndexSet = new Set()\r\n      let dayIndexArray = []\r\n      const oneDay = 24 * 60 * 60\r\n\r\n      // for each day, parse the daily volume and format for chart array\r\n      data.forEach((dayData, i) => {\r\n        // add the day index to the set of days\r\n        dayIndexSet.add((data[i].date / oneDay).toFixed(0))\r\n        dayIndexArray.push(data[i])\r\n        dayData.dailyVolumeUSD = parseFloat(dayData.dailyVolumeUSD)\r\n      })\r\n\r\n      // fill in empty days ( there will be no day datas if no trades made that day )\r\n      let timestamp = data[0].date ? data[0].date : oldestDateToFetch\r\n      let latestLiquidityUSD = data[0].totalLiquidityUSD\r\n      let latestDayDats = data[0].mostLiquidTokens\r\n      let index = 1\r\n      while (timestamp < utcEndTime.unix() - oneDay) {\r\n        const nextDay = timestamp + oneDay\r\n        let currentDayIndex = (nextDay / oneDay).toFixed(0)\r\n        if (!dayIndexSet.has(currentDayIndex)) {\r\n          data.push({\r\n            date: nextDay,\r\n            dailyVolumeUSD: 0,\r\n            totalLiquidityUSD: latestLiquidityUSD,\r\n            mostLiquidTokens: latestDayDats\r\n          })\r\n        } else {\r\n          latestLiquidityUSD = dayIndexArray[index].totalLiquidityUSD\r\n          latestDayDats = dayIndexArray[index].mostLiquidTokens\r\n          index = index + 1\r\n        }\r\n        timestamp = nextDay\r\n      }\r\n    }\r\n\r\n    // format weekly data for weekly sized chunks\r\n    data = data.sort((a, b) => (parseInt(a.date) > parseInt(b.date) ? 1 : -1))\r\n    let startIndexWeekly = -1\r\n    let currentWeek = -1\r\n    data.forEach((entry, i) => {\r\n      const week = dayjs.utc(dayjs.unix(data[i].date)).week()\r\n      if (week !== currentWeek) {\r\n        currentWeek = week\r\n        startIndexWeekly++\r\n      }\r\n      weeklyData[startIndexWeekly] = weeklyData[startIndexWeekly] || {}\r\n      weeklyData[startIndexWeekly].date = data[i].date\r\n      weeklyData[startIndexWeekly].weeklyVolumeUSD =\r\n        (weeklyData[startIndexWeekly].weeklyVolumeUSD ?? 0) + data[i].dailyVolumeUSD\r\n    })\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n  return [data, weeklyData]\r\n}\r\n\r\n/**\r\n * Get and format transactions for global page\r\n */\r\nconst getGlobalTransactions = async () => {\r\n  let transactions = {}\r\n\r\n  try {\r\n    let result = await client.query({\r\n      query: GLOBAL_TXNS,\r\n      fetchPolicy: 'cache-first'\r\n    })\r\n    transactions.mints = []\r\n    transactions.burns = []\r\n    transactions.swaps = []\r\n    result?.data?.transactions &&\r\n      result.data.transactions.map(transaction => {\r\n        if (transaction.mints.length > 0) {\r\n          transaction.mints.map(mint => {\r\n            return transactions.mints.push(mint)\r\n          })\r\n        }\r\n        if (transaction.burns.length > 0) {\r\n          transaction.burns.map(burn => {\r\n            return transactions.burns.push(burn)\r\n          })\r\n        }\r\n        if (transaction.swaps.length > 0) {\r\n          transaction.swaps.map(swap => {\r\n            return transactions.swaps.push(swap)\r\n          })\r\n        }\r\n        return true\r\n      })\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n\r\n  return transactions\r\n}\r\n\r\n/**\r\n * Gets the current price  of BNB, 24 hour price, and % change between them\r\n */\r\nconst getBnbPrice = async () => {\r\n  const utcCurrentTime = dayjs()\r\n  const utcOneDayBack = utcCurrentTime\r\n    .subtract(1, 'day')\r\n    .startOf('minute')\r\n    .unix()\r\n\r\n  let bnbPrice = 0\r\n  let bnbPriceOneDay = 0\r\n  let priceChangeBNB = 0\r\n\r\n  try {\r\n    let oneDayBlock = await getBlockFromTimestamp(utcOneDayBack)\r\n    let result = await client.query({\r\n      query: BNB_PRICE(),\r\n      fetchPolicy: 'cache-first'\r\n    })\r\n    let resultOneDay = await client.query({\r\n      query: BNB_PRICE(oneDayBlock),\r\n      fetchPolicy: 'cache-first'\r\n    })\r\n    const currentPrice = result?.data?.bundles[0]?.bnbPrice\r\n    const oneDayBackPrice = resultOneDay?.data?.bundles[0]?.bnbPrice\r\n    priceChangeBNB = getPercentChange(currentPrice, oneDayBackPrice)\r\n    bnbPrice = currentPrice\r\n    bnbPriceOneDay = oneDayBackPrice\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n\r\n  return [bnbPrice, bnbPriceOneDay, priceChangeBNB]\r\n}\r\n\r\nconst PAIRS_TO_FETCH = 500\r\nconst TOKENS_TO_FETCH = 500\r\n\r\n/**\r\n * Loop through every pair on Bscswap, used for search\r\n */\r\nasync function getAllPairsOnBscswap() {\r\n  try {\r\n    let allFound = false\r\n    let pairs = []\r\n    let skipCount = 0\r\n    while (!allFound) {\r\n      let result = await client.query({\r\n        query: ALL_PAIRS,\r\n        variables: {\r\n          skip: skipCount\r\n        },\r\n        fetchPolicy: 'cache-first'\r\n      })\r\n      skipCount = skipCount + PAIRS_TO_FETCH\r\n      pairs = pairs.concat(result?.data?.pairs)\r\n      if (result?.data?.pairs.length < PAIRS_TO_FETCH || pairs.length > PAIRS_TO_FETCH) {\r\n        allFound = true\r\n      }\r\n    }\r\n    return pairs\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\n/**\r\n * Loop through every token on Bscswap, used for search\r\n */\r\nasync function getAllTokensOnBscswap() {\r\n  try {\r\n    let allFound = false\r\n    let skipCount = 0\r\n    let tokens = []\r\n    while (!allFound) {\r\n      let result = await client.query({\r\n        query: ALL_TOKENS,\r\n        variables: {\r\n          skip: skipCount\r\n        },\r\n        fetchPolicy: 'cache-first'\r\n      })\r\n      tokens = tokens.concat(result?.data?.tokens)\r\n      if (result?.data?.tokens?.length < TOKENS_TO_FETCH || tokens.length > TOKENS_TO_FETCH) {\r\n        allFound = true\r\n      }\r\n      skipCount = skipCount += TOKENS_TO_FETCH\r\n    }\r\n    return tokens\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\n/**\r\n * Hook that fetches overview data, plus all tokens and pairs for search\r\n */\r\nexport function useGlobalData() {\r\n  const [state, { update, updateAllPairsInBscswap, updateAllTokensInBscswap }] = useGlobalDataContext()\r\n  const [bnbPrice, oldBnbPrice] = useBnbPrice()\r\n\r\n  const data = state?.globalData\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      let globalData = await getGlobalData(bnbPrice, oldBnbPrice)\r\n      globalData && update(globalData)\r\n\r\n      let allPairs = await getAllPairsOnBscswap()\r\n      updateAllPairsInBscswap(allPairs)\r\n\r\n      let allTokens = await getAllTokensOnBscswap()\r\n      updateAllTokensInBscswap(allTokens)\r\n    }\r\n    if (!data && bnbPrice && oldBnbPrice) {\r\n      fetchData()\r\n    }\r\n  }, [bnbPrice, oldBnbPrice, update, data, updateAllPairsInBscswap, updateAllTokensInBscswap])\r\n\r\n  return data || {}\r\n}\r\n\r\nexport function useGlobalChartData() {\r\n  const [state, { updateChart }] = useGlobalDataContext()\r\n  const [oldestDateFetch, setOldestDateFetched] = useState()\r\n  const [activeWindow] = useTimeframe()\r\n\r\n  const chartDataDaily = state?.chartData?.daily\r\n  const chartDataWeekly = state?.chartData?.weekly\r\n\r\n  /**\r\n   * Keep track of oldest date fetched. Used to\r\n   * limit data fetched until its actually needed.\r\n   * (dont fetch year long stuff unless year option selected)\r\n   */\r\n  useEffect(() => {\r\n    // based on window, get starttime\r\n    let startTime = getTimeframe(activeWindow)\r\n\r\n    if ((activeWindow && startTime < oldestDateFetch) || !oldestDateFetch) {\r\n      setOldestDateFetched(startTime)\r\n    }\r\n  }, [activeWindow, oldestDateFetch])\r\n\r\n  /**\r\n   * Fetch data if none fetched or older data is needed\r\n   */\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      // historical stuff for chart\r\n      let [newChartData, newWeeklyData] = await getChartData(oldestDateFetch)\r\n      updateChart(newChartData, newWeeklyData)\r\n    }\r\n    if (oldestDateFetch && !(chartDataDaily && chartDataWeekly)) {\r\n      fetchData()\r\n    }\r\n  }, [chartDataDaily, chartDataWeekly, oldestDateFetch, updateChart])\r\n\r\n  return [chartDataDaily, chartDataWeekly]\r\n}\r\n\r\nexport function useGlobalTransactions() {\r\n  const [state, { updateTransactions }] = useGlobalDataContext()\r\n  const transactions = state?.transactions\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      if (!transactions) {\r\n        let txns = await getGlobalTransactions()\r\n        updateTransactions(txns)\r\n      }\r\n    }\r\n    fetchData()\r\n  }, [updateTransactions, transactions])\r\n  return transactions\r\n}\r\n\r\nexport function useBnbPrice() {\r\n  const [state, { updateBnbPrice }] = useGlobalDataContext()\r\n  const bnbPrice = state?.[BNB_PRICE_KEY]\r\n  const bnbPriceOld = state?.['oneDayPrice']\r\n  useEffect(() => {\r\n    async function checkForBnbPrice() {\r\n      if (!bnbPrice) {\r\n        let [newPrice, oneDayPrice, priceChange] = await getBnbPrice()\r\n        updateBnbPrice(newPrice, oneDayPrice, priceChange)\r\n      }\r\n    }\r\n    checkForBnbPrice()\r\n  }, [bnbPrice, updateBnbPrice])\r\n\r\n  return [bnbPrice, bnbPriceOld]\r\n}\r\n\r\nexport function useAllPairsInBscswap() {\r\n  const [state] = useGlobalDataContext()\r\n  let allPairs = state?.allPairs\r\n\r\n  return allPairs || []\r\n}\r\n\r\nexport function useAllTokensInBscswap() {\r\n  const [state] = useGlobalDataContext()\r\n  let allTokens = state?.allTokens\r\n\r\n  return allTokens || []\r\n}\r\n\r\n/**\r\n * Get the top liquidity positions based on USD size\r\n * @TODO Not a perfect lookup needs improvement\r\n */\r\nexport function useTopLps() {\r\n  const [state, { updateTopLps }] = useGlobalDataContext()\r\n  let topLps = state?.topLps\r\n\r\n  const allPairs = useAllPairData()\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      // get top 20 by reserves\r\n      let topPairs = Object.keys(allPairs)\r\n        ?.sort((a, b) => parseFloat(allPairs[a].reserveUSD > allPairs[b].reserveUSD ? -1 : 1))\r\n        ?.slice(0, 99)\r\n        .map(pair => pair)\r\n\r\n      let topLpLists = await Promise.all(\r\n        topPairs.map(async pair => {\r\n          // for each one, fetch top LPs\r\n          try {\r\n            const { data: results } = await client.query({\r\n              query: TOP_LPS_PER_PAIRS,\r\n              variables: {\r\n                pair: pair.toString()\r\n              },\r\n              fetchPolicy: 'cache-first'\r\n            })\r\n            if (results) {\r\n              return results.liquidityPositions\r\n            }\r\n          } catch (e) {}\r\n        })\r\n      )\r\n\r\n      // get the top lps from the results formatted\r\n      const topLps = []\r\n      topLpLists\r\n        .filter(i => !!i) // check for ones not fetched correctly\r\n        .map(list => {\r\n          return list.map(entry => {\r\n            const pairData = allPairs[entry.pair.id]\r\n            return topLps.push({\r\n              user: entry.user,\r\n              pairName: pairData.token0.symbol + '-' + pairData.token1.symbol,\r\n              pairAddress: entry.pair.id,\r\n              token0: pairData.token0.id,\r\n              token1: pairData.token1.id,\r\n              usd:\r\n                (parseFloat(entry.liquidityTokenBalance) / parseFloat(pairData.totalSupply)) *\r\n                parseFloat(pairData.reserveUSD)\r\n            })\r\n          })\r\n        })\r\n\r\n      const sorted = topLps.sort((a, b) => (a.usd > b.usd ? -1 : 1))\r\n      const shorter = sorted.splice(0, 100)\r\n      updateTopLps(shorter)\r\n    }\r\n\r\n    if (!topLps && allPairs && Object.keys(allPairs).length > 0) {\r\n      fetchData()\r\n    }\r\n  })\r\n\r\n  return topLps\r\n}\r\n","import React, { createContext, useContext, useReducer, useMemo, useCallback, useEffect } from 'react'\r\n\r\nimport { client } from '../apollo/client'\r\nimport {\r\n  TOKEN_DATA,\r\n  FILTERED_TRANSACTIONS,\r\n  TOKEN_CHART,\r\n  TOKENS_CURRENT,\r\n  TOKENS_DYNAMIC,\r\n  PRICES_BY_BLOCK\r\n} from '../apollo/queries'\r\n\r\nimport { useBnbPrice } from './GlobalData'\r\n\r\nimport dayjs from 'dayjs'\r\nimport utc from 'dayjs/plugin/utc'\r\n\r\nimport {\r\n  get2DayPercentChange,\r\n  getPercentChange,\r\n  getBlockFromTimestamp,\r\n  isAddress,\r\n  getBlocksFromTimestamps,\r\n  splitQuery\r\n} from '../utils'\r\nimport { timeframeOptions } from '../constants'\r\nimport { useLatestBlock } from './Application'\r\n\r\nconst UPDATE = 'UPDATE'\r\nconst UPDATE_TOKEN_TXNS = 'UPDATE_TOKEN_TXNS'\r\nconst UPDATE_CHART_DATA = 'UPDATE_CHART_DATA'\r\nconst UPDATE_PRICE_DATA = 'UPDATE_PRICE_DATA'\r\nconst UPDATE_TOP_TOKENS = ' UPDATE_TOP_TOKENS'\r\nconst UPDATE_ALL_PAIRS = 'UPDATE_ALL_PAIRS'\r\n\r\nconst TOKEN_PAIRS_KEY = 'TOKEN_PAIRS_KEY'\r\n\r\ndayjs.extend(utc)\r\n\r\nconst TokenDataContext = createContext()\r\n\r\nfunction useTokenDataContext() {\r\n  return useContext(TokenDataContext)\r\n}\r\n\r\nfunction reducer(state, { type, payload }) {\r\n  switch (type) {\r\n    case UPDATE: {\r\n      const { tokenAddress, data } = payload\r\n      return {\r\n        ...state,\r\n        [tokenAddress]: {\r\n          ...state?.[tokenAddress],\r\n          ...data\r\n        }\r\n      }\r\n    }\r\n    case UPDATE_TOP_TOKENS: {\r\n      const { topTokens } = payload\r\n      let added = {}\r\n      topTokens &&\r\n        topTokens.map(token => {\r\n          return (added[token.id] = token)\r\n        })\r\n      return {\r\n        ...state,\r\n        ...added\r\n      }\r\n    }\r\n\r\n    case UPDATE_TOKEN_TXNS: {\r\n      const { address, transactions } = payload\r\n      return {\r\n        ...state,\r\n        [address]: {\r\n          ...state?.[address],\r\n          txns: transactions\r\n        }\r\n      }\r\n    }\r\n    case UPDATE_CHART_DATA: {\r\n      const { address, chartData } = payload\r\n      return {\r\n        ...state,\r\n        [address]: {\r\n          ...state?.[address],\r\n          chartData\r\n        }\r\n      }\r\n    }\r\n\r\n    case UPDATE_PRICE_DATA: {\r\n      const { address, data, timeWindow, interval } = payload\r\n      return {\r\n        ...state,\r\n        [address]: {\r\n          ...state?.[address],\r\n          [timeWindow]: {\r\n            ...state?.[address]?.[timeWindow],\r\n            [interval]: data\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    case UPDATE_ALL_PAIRS: {\r\n      const { address, allPairs } = payload\r\n      return {\r\n        ...state,\r\n        [address]: {\r\n          ...state?.[address],\r\n          [TOKEN_PAIRS_KEY]: allPairs\r\n        }\r\n      }\r\n    }\r\n    default: {\r\n      throw Error(`Unexpected action type in DataContext reducer: '${type}'.`)\r\n    }\r\n  }\r\n}\r\n\r\nexport default function Provider({ children }) {\r\n  const [state, dispatch] = useReducer(reducer, {})\r\n  const update = useCallback((tokenAddress, data) => {\r\n    dispatch({\r\n      type: UPDATE,\r\n      payload: {\r\n        tokenAddress,\r\n        data\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const updateTopTokens = useCallback(topTokens => {\r\n    dispatch({\r\n      type: UPDATE_TOP_TOKENS,\r\n      payload: {\r\n        topTokens\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const updateTokenTxns = useCallback((address, transactions) => {\r\n    dispatch({\r\n      type: UPDATE_TOKEN_TXNS,\r\n      payload: { address, transactions }\r\n    })\r\n  }, [])\r\n\r\n  const updateChartData = useCallback((address, chartData) => {\r\n    dispatch({\r\n      type: UPDATE_CHART_DATA,\r\n      payload: { address, chartData }\r\n    })\r\n  }, [])\r\n\r\n  const updateAllPairs = useCallback((address, allPairs) => {\r\n    dispatch({\r\n      type: UPDATE_ALL_PAIRS,\r\n      payload: { address, allPairs }\r\n    })\r\n  }, [])\r\n\r\n  const updatePriceData = useCallback((address, data, timeWindow, interval) => {\r\n    dispatch({\r\n      type: UPDATE_PRICE_DATA,\r\n      payload: { address, data, timeWindow, interval }\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <TokenDataContext.Provider\r\n      value={useMemo(\r\n        () => [\r\n          state,\r\n          {\r\n            update,\r\n            updateTokenTxns,\r\n            updateChartData,\r\n            updateTopTokens,\r\n            updateAllPairs,\r\n            updatePriceData\r\n          }\r\n        ],\r\n        [state, update, updateTokenTxns, updateChartData, updateTopTokens, updateAllPairs, updatePriceData]\r\n      )}\r\n    >\r\n      {children}\r\n    </TokenDataContext.Provider>\r\n  )\r\n}\r\n\r\nconst getTopTokens = async (bnbPrice, bnbPriceOld) => {\r\n  const utcCurrentTime = dayjs()\r\n  const utcOneDayBack = utcCurrentTime.subtract(1, 'day').unix()\r\n  const utcTwoDaysBack = utcCurrentTime.subtract(2, 'day').unix()\r\n  let oneDayBlock = await getBlockFromTimestamp(utcOneDayBack)\r\n  let twoDayBlock = await getBlockFromTimestamp(utcTwoDaysBack)\r\n\r\n  try {\r\n    let current = await client.query({\r\n      query: TOKENS_CURRENT,\r\n      fetchPolicy: 'cache-first'\r\n    })\r\n\r\n    let oneDayResult = await client.query({\r\n      query: TOKENS_DYNAMIC(oneDayBlock),\r\n      fetchPolicy: 'cache-first'\r\n    })\r\n\r\n    let twoDayResult = await client.query({\r\n      query: TOKENS_DYNAMIC(twoDayBlock),\r\n      fetchPolicy: 'cache-first'\r\n    })\r\n\r\n    let oneDayData = oneDayResult?.data?.tokens.reduce((obj, cur, i) => {\r\n      return { ...obj, [cur.id]: cur }\r\n    }, {})\r\n\r\n    let twoDayData = twoDayResult?.data?.tokens.reduce((obj, cur, i) => {\r\n      return { ...obj, [cur.id]: cur }\r\n    }, {})\r\n\r\n    let bulkResults = await Promise.all(\r\n      current &&\r\n        oneDayData &&\r\n        twoDayData &&\r\n        current?.data?.tokens.map(async token => {\r\n          let data = token\r\n\r\n          // let liquidityDataThisToken = liquidityData?.[token.id]\r\n          let oneDayHistory = oneDayData?.[token.id]\r\n          let twoDayHistory = twoDayData?.[token.id]\r\n\r\n          // catch the case where token wasnt in top list in previous days\r\n          if (!oneDayHistory) {\r\n            let oneDayResult = await client.query({\r\n              query: TOKEN_DATA(token.id, oneDayBlock),\r\n              fetchPolicy: 'cache-first'\r\n            })\r\n            oneDayHistory = oneDayResult.data.tokens[0]\r\n          }\r\n          if (!twoDayHistory) {\r\n            let twoDayResult = await client.query({\r\n              query: TOKEN_DATA(token.id, twoDayBlock),\r\n              fetchPolicy: 'cache-first'\r\n            })\r\n            twoDayHistory = twoDayResult.data.tokens[0]\r\n          }\r\n\r\n          // calculate percentage changes and daily changes\r\n          const [oneDayVolumeUSD, volumeChangeUSD] = get2DayPercentChange(\r\n            data.tradeVolumeUSD,\r\n            oneDayHistory?.tradeVolumeUSD ?? 0,\r\n            twoDayHistory?.tradeVolumeUSD ?? 0\r\n          )\r\n          const [oneDayTxns, txnChange] = get2DayPercentChange(\r\n            data.txCount,\r\n            oneDayHistory?.txCount ?? 0,\r\n            twoDayHistory?.txCount ?? 0\r\n          )\r\n\r\n          const currentLiquidityUSD = data?.totalLiquidity * bnbPrice * data?.derivedBNB\r\n          const oldLiquidityUSD = oneDayHistory?.totalLiquidity * bnbPriceOld * oneDayHistory?.derivedBNB\r\n\r\n          // percent changes\r\n          const priceChangeUSD = getPercentChange(\r\n            data?.derivedBNB * bnbPrice,\r\n            oneDayHistory?.derivedBNB ? oneDayHistory?.derivedBNB * bnbPriceOld : 0\r\n          )\r\n\r\n          // set data\r\n          data.priceUSD = data?.derivedBNB * bnbPrice\r\n          data.totalLiquidityUSD = currentLiquidityUSD\r\n          data.oneDayVolumeUSD = parseFloat(oneDayVolumeUSD)\r\n          data.volumeChangeUSD = volumeChangeUSD\r\n          data.priceChangeUSD = priceChangeUSD\r\n          data.liquidityChangeUSD = getPercentChange(currentLiquidityUSD ?? 0, oldLiquidityUSD ?? 0)\r\n          data.oneDayTxns = oneDayTxns\r\n          data.txnChange = txnChange\r\n\r\n          // new tokens\r\n          if (!oneDayHistory && data) {\r\n            data.oneDayVolumeUSD = data.tradeVolumeUSD\r\n            data.oneDayVolumeBNB = data.tradeVolume * data.derivedBNB\r\n            data.oneDayTxns = data.txCount\r\n          }\r\n\r\n          if (data.id === '0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c') {\r\n            data.name = 'BNB (Wrapped)'\r\n            data.symbol = 'BNB'\r\n          }\r\n          return data\r\n        })\r\n    )\r\n\r\n    return bulkResults\r\n\r\n    // calculate percentage changes and daily changes\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nconst getTokenData = async (address, bnbPrice, bnbPriceOld) => {\r\n  const utcCurrentTime = dayjs()\r\n  const utcOneDayBack = utcCurrentTime\r\n    .subtract(1, 'day')\r\n    .startOf('minute')\r\n    .unix()\r\n  const utcTwoDaysBack = utcCurrentTime\r\n    .subtract(2, 'day')\r\n    .startOf('minute')\r\n    .unix()\r\n  let oneDayBlock = await getBlockFromTimestamp(utcOneDayBack)\r\n  let twoDayBlock = await getBlockFromTimestamp(utcTwoDaysBack)\r\n\r\n  // initialize data arrays\r\n  let data = {}\r\n  let oneDayData = {}\r\n  let twoDayData = {}\r\n\r\n  try {\r\n    // fetch all current and historical data\r\n    let result = await client.query({\r\n      query: TOKEN_DATA(address),\r\n      fetchPolicy: 'cache-first'\r\n    })\r\n    data = result?.data?.tokens?.[0]\r\n\r\n    // get results from 24 hours in past\r\n    let oneDayResult = await client.query({\r\n      query: TOKEN_DATA(address, oneDayBlock),\r\n      fetchPolicy: 'cache-first'\r\n    })\r\n    oneDayData = oneDayResult.data.tokens[0]\r\n\r\n    // get results from 48 hours in past\r\n    let twoDayResult = await client.query({\r\n      query: TOKEN_DATA(address, twoDayBlock),\r\n      fetchPolicy: 'cache-first'\r\n    })\r\n    twoDayData = twoDayResult.data.tokens[0]\r\n\r\n    // catch the case where token wasnt in top list in previous days\r\n    if (!oneDayData) {\r\n      let oneDayResult = await client.query({\r\n        query: TOKEN_DATA(address, oneDayBlock),\r\n        fetchPolicy: 'cache-first'\r\n      })\r\n      oneDayData = oneDayResult.data.tokens[0]\r\n    }\r\n    if (!twoDayData) {\r\n      let twoDayResult = await client.query({\r\n        query: TOKEN_DATA(address, twoDayBlock),\r\n        fetchPolicy: 'cache-first'\r\n      })\r\n      twoDayData = twoDayResult.data.tokens[0]\r\n    }\r\n\r\n    // calculate percentage changes and daily changes\r\n    const [oneDayVolumeUSD, volumeChangeUSD] = get2DayPercentChange(\r\n      data.tradeVolumeUSD,\r\n      oneDayData?.tradeVolumeUSD ?? 0,\r\n      twoDayData?.tradeVolumeUSD ?? 0\r\n    )\r\n\r\n    // calculate percentage changes and daily changes\r\n    const [oneDayVolumeUT, volumeChangeUT] = get2DayPercentChange(\r\n      data.untrackedVolumeUSD,\r\n      oneDayData?.untrackedVolumeUSD ?? 0,\r\n      twoDayData?.untrackedVolumeUSD ?? 0\r\n    )\r\n\r\n    // calculate percentage changes and daily changes\r\n    const [oneDayTxns, txnChange] = get2DayPercentChange(\r\n      data.txCount,\r\n      oneDayData?.txCount ?? 0,\r\n      twoDayData?.txCount ?? 0\r\n    )\r\n\r\n    const priceChangeUSD = getPercentChange(\r\n      data?.derivedBNB * bnbPrice,\r\n      parseFloat(oneDayData?.derivedBNB ?? 0) * bnbPriceOld\r\n    )\r\n\r\n    const currentLiquidityUSD = data?.totalLiquidity * bnbPrice * data?.derivedBNB\r\n    const oldLiquidityUSD = oneDayData?.totalLiquidity * bnbPriceOld * oneDayData?.derivedBNB\r\n\r\n    // set data\r\n    data.priceUSD = data?.derivedBNB * bnbPrice\r\n    data.totalLiquidityUSD = currentLiquidityUSD\r\n    data.oneDayVolumeUSD = oneDayVolumeUSD\r\n    data.volumeChangeUSD = volumeChangeUSD\r\n    data.priceChangeUSD = priceChangeUSD\r\n    data.oneDayVolumeUT = oneDayVolumeUT\r\n    data.volumeChangeUT = volumeChangeUT\r\n    const liquidityChangeUSD = getPercentChange(currentLiquidityUSD ?? 0, oldLiquidityUSD ?? 0)\r\n    data.liquidityChangeUSD = liquidityChangeUSD\r\n    data.oneDayTxns = oneDayTxns\r\n    data.txnChange = txnChange\r\n\r\n    // new tokens\r\n    if (!oneDayData && data) {\r\n      data.oneDayVolumeUSD = data.tradeVolumeUSD\r\n      data.oneDayVolumeBNB = data.tradeVolume * data.derivedBNB\r\n      data.oneDayTxns = data.txCount\r\n    }\r\n\r\n    // fix for WBNB\r\n    if (data.id === '0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c') {\r\n      data.name = 'BNB (Wrapped)'\r\n      data.symbol = 'BNB'\r\n    }\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n  return data\r\n}\r\n\r\nconst getTokenTransactions = async allPairsFormatted => {\r\n  const transactions = {}\r\n  try {\r\n    let result = await client.query({\r\n      query: FILTERED_TRANSACTIONS,\r\n      variables: {\r\n        allPairs: allPairsFormatted\r\n      },\r\n      fetchPolicy: 'cache-first'\r\n    })\r\n    transactions.mints = result.data.mints\r\n    transactions.burns = result.data.burns\r\n    transactions.swaps = result.data.swaps\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n  return transactions\r\n}\r\n\r\nconst getTokenPairs = async tokenAddress => {\r\n  try {\r\n    // fetch all current and historical data\r\n    let result = await client.query({\r\n      query: TOKEN_DATA(tokenAddress),\r\n      fetchPolicy: 'cache-first'\r\n    })\r\n    return result.data?.['pairs0'].concat(result.data?.['pairs1'])\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nconst getIntervalTokenData = async (tokenAddress, startTime, interval = 3600, latestBlock) => {\r\n  const utcEndTime = dayjs.utc()\r\n  let time = startTime\r\n\r\n  // create an array of hour start times until we reach current hour\r\n  // buffer by half hour to catch case where graph isnt synced to latest block\r\n  const timestamps = []\r\n  while (time < utcEndTime.unix()) {\r\n    timestamps.push(time)\r\n    time += interval\r\n  }\r\n\r\n  // backout if invalid timestamp format\r\n  if (timestamps.length === 0) {\r\n    return []\r\n  }\r\n\r\n  // once you have all the timestamps, get the blocks for each timestamp in a bulk query\r\n  let blocks\r\n  try {\r\n    blocks = await getBlocksFromTimestamps(timestamps, 100)\r\n\r\n    // catch failing case\r\n    if (!blocks || blocks.length === 0) {\r\n      return []\r\n    }\r\n\r\n    if (latestBlock) {\r\n      blocks = blocks.filter(b => {\r\n        return parseFloat(b.number) <= parseFloat(latestBlock)\r\n      })\r\n    }\r\n\r\n    let result = await splitQuery(PRICES_BY_BLOCK, client, [tokenAddress], blocks, 50)\r\n\r\n    // format token BNB price results\r\n    let values = []\r\n    for (var row in result) {\r\n      let timestamp = row.split('t')[1]\r\n      let derivedBNB = parseFloat(result[row]?.derivedBNB)\r\n      if (timestamp) {\r\n        values.push({\r\n          timestamp,\r\n          derivedBNB\r\n        })\r\n      }\r\n    }\r\n\r\n    // go through bnb usd prices and assign to original values array\r\n    let index = 0\r\n    for (var brow in result) {\r\n      let timestamp = brow.split('b')[1]\r\n      if (timestamp) {\r\n        values[index].priceUSD = result[brow].bnbPrice * values[index].derivedBNB\r\n        index += 1\r\n      }\r\n    }\r\n\r\n    let formattedHistory = []\r\n\r\n    // for each hour, construct the open and close price\r\n    for (let i = 0; i < values.length - 1; i++) {\r\n      formattedHistory.push({\r\n        timestamp: values[i].timestamp,\r\n        open: parseFloat(values[i].priceUSD),\r\n        close: parseFloat(values[i + 1].priceUSD)\r\n      })\r\n    }\r\n\r\n    return formattedHistory\r\n  } catch (e) {\r\n    console.log(e)\r\n    console.log('error fetching blocks')\r\n    return []\r\n  }\r\n}\r\n\r\nconst getTokenChartData = async tokenAddress => {\r\n  let data = []\r\n  const utcEndTime = dayjs.utc()\r\n  let utcStartTime = utcEndTime.subtract(1, 'year')\r\n  let startTime = utcStartTime.startOf('minute').unix() - 1\r\n\r\n  try {\r\n    let allFound = false\r\n    let skip = 0\r\n    while (!allFound) {\r\n      let result = await client.query({\r\n        query: TOKEN_CHART,\r\n        variables: {\r\n          tokenAddr: tokenAddress,\r\n          skip\r\n        },\r\n        fetchPolicy: 'cache-first'\r\n      })\r\n      if (result.data.tokenDayDatas.length < 1000) {\r\n        allFound = true\r\n      }\r\n      skip += 1000\r\n      data = data.concat(result.data.tokenDayDatas)\r\n    }\r\n\r\n    let dayIndexSet = new Set()\r\n    let dayIndexArray = []\r\n    const oneDay = 24 * 60 * 60\r\n    data.forEach((dayData, i) => {\r\n      // add the day index to the set of days\r\n      dayIndexSet.add((data[i].date / oneDay).toFixed(0))\r\n      dayIndexArray.push(data[i])\r\n      dayData.dailyVolumeUSD = parseFloat(dayData.dailyVolumeUSD)\r\n    })\r\n\r\n    // fill in empty days\r\n    let timestamp = data[0] && data[0].date ? data[0].date : startTime\r\n    let latestLiquidityUSD = data[0] && data[0].totalLiquidityUSD\r\n    let latestPriceUSD = data[0] && data[0].priceUSD\r\n    let latestPairDatas = data[0] && data[0].mostLiquidPairs\r\n    let index = 1\r\n    while (timestamp < utcEndTime.startOf('minute').unix() - oneDay) {\r\n      const nextDay = timestamp + oneDay\r\n      let currentDayIndex = (nextDay / oneDay).toFixed(0)\r\n      if (!dayIndexSet.has(currentDayIndex)) {\r\n        data.push({\r\n          date: nextDay,\r\n          dayString: nextDay,\r\n          dailyVolumeUSD: 0,\r\n          priceUSD: latestPriceUSD,\r\n          totalLiquidityUSD: latestLiquidityUSD,\r\n          mostLiquidPairs: latestPairDatas\r\n        })\r\n      } else {\r\n        latestLiquidityUSD = dayIndexArray[index].totalLiquidityUSD\r\n        latestPriceUSD = dayIndexArray[index].priceUSD\r\n        latestPairDatas = dayIndexArray[index].mostLiquidPairs\r\n        index = index + 1\r\n      }\r\n      timestamp = nextDay\r\n    }\r\n    data = data.sort((a, b) => (parseInt(a.date) > parseInt(b.date) ? 1 : -1))\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n  return data\r\n}\r\n\r\nexport function Updater() {\r\n  const [, { updateTopTokens }] = useTokenDataContext()\r\n  const [bnbPrice, bnbPriceOld] = useBnbPrice()\r\n  useEffect(() => {\r\n    async function getData() {\r\n      // get top pairs for overview list\r\n      let topTokens = await getTopTokens(bnbPrice, bnbPriceOld)\r\n      topTokens && updateTopTokens(topTokens)\r\n    }\r\n    bnbPrice && bnbPriceOld && getData()\r\n  }, [bnbPrice, bnbPriceOld, updateTopTokens])\r\n  return null\r\n}\r\n\r\nexport function useTokenData(tokenAddress) {\r\n  const [state, { update }] = useTokenDataContext()\r\n  const [bnbPrice, bnbPriceOld] = useBnbPrice()\r\n  const tokenData = state?.[tokenAddress]\r\n\r\n  useEffect(() => {\r\n    if (!tokenData && bnbPrice && bnbPriceOld && isAddress(tokenAddress)) {\r\n      getTokenData(tokenAddress, bnbPrice, bnbPriceOld).then(data => {\r\n        update(tokenAddress, data)\r\n      })\r\n    }\r\n  }, [bnbPrice, bnbPriceOld, tokenAddress, tokenData, update])\r\n\r\n  return tokenData || {}\r\n}\r\n\r\nexport function useTokenTransactions(tokenAddress) {\r\n  const [state, { updateTokenTxns }] = useTokenDataContext()\r\n  const tokenTxns = state?.[tokenAddress]?.txns\r\n\r\n  const allPairsFormatted =\r\n    state[tokenAddress] &&\r\n    state[tokenAddress].TOKEN_PAIRS_KEY &&\r\n    state[tokenAddress].TOKEN_PAIRS_KEY.map(pair => {\r\n      return pair.id\r\n    })\r\n\r\n  useEffect(() => {\r\n    async function checkForTxns() {\r\n      if (!tokenTxns && allPairsFormatted) {\r\n        let transactions = await getTokenTransactions(allPairsFormatted)\r\n        updateTokenTxns(tokenAddress, transactions)\r\n      }\r\n    }\r\n    checkForTxns()\r\n  }, [tokenTxns, tokenAddress, updateTokenTxns, allPairsFormatted])\r\n\r\n  return tokenTxns || []\r\n}\r\n\r\nexport function useTokenPairs(tokenAddress) {\r\n  const [state, { updateAllPairs }] = useTokenDataContext()\r\n  const tokenPairs = state?.[tokenAddress]?.[TOKEN_PAIRS_KEY]\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      let allPairs = await getTokenPairs(tokenAddress)\r\n      updateAllPairs(tokenAddress, allPairs)\r\n    }\r\n    if (!tokenPairs && isAddress(tokenAddress)) {\r\n      fetchData()\r\n    }\r\n  }, [tokenAddress, tokenPairs, updateAllPairs])\r\n\r\n  return tokenPairs || []\r\n}\r\n\r\nexport function useTokenChartData(tokenAddress) {\r\n  const [state, { updateChartData }] = useTokenDataContext()\r\n  const chartData = state?.[tokenAddress]?.chartData\r\n  useEffect(() => {\r\n    async function checkForChartData() {\r\n      if (!chartData) {\r\n        let data = await getTokenChartData(tokenAddress)\r\n        updateChartData(tokenAddress, data)\r\n      }\r\n    }\r\n    checkForChartData()\r\n  }, [chartData, tokenAddress, updateChartData])\r\n  return chartData\r\n}\r\n\r\n/**\r\n * get candlestick data for a token - saves in context based on the window and the\r\n * interval size\r\n * @param {*} tokenAddress\r\n * @param {*} timeWindow // a preset time window from constant - how far back to look\r\n * @param {*} interval  // the chunk size in seconds - default is 1 hour of 3600s\r\n */\r\nexport function useTokenPriceData(tokenAddress, timeWindow, interval = 3600) {\r\n  const [state, { updatePriceData }] = useTokenDataContext()\r\n  const chartData = state?.[tokenAddress]?.[timeWindow]?.[interval]\r\n  const latestBlock = useLatestBlock()\r\n\r\n  useEffect(() => {\r\n    const currentTime = dayjs.utc()\r\n    const windowSize = timeWindow === timeframeOptions.MONTH ? 'month' : 'week'\r\n    const startTime =\r\n      timeWindow === timeframeOptions.ALL_TIME\r\n        ? 1589760000\r\n        : currentTime\r\n            .subtract(1, windowSize)\r\n            .startOf('hour')\r\n            .unix()\r\n\r\n    async function fetch() {\r\n      let data = await getIntervalTokenData(tokenAddress, startTime, interval, latestBlock)\r\n      updatePriceData(tokenAddress, data, timeWindow, interval)\r\n    }\r\n    if (!chartData) {\r\n      fetch()\r\n    }\r\n  }, [chartData, interval, timeWindow, tokenAddress, updatePriceData, latestBlock])\r\n\r\n  return chartData\r\n}\r\n\r\nexport function useAllTokenData() {\r\n  const [state] = useTokenDataContext()\r\n  return state\r\n}\r\n","import { USER_MINTS_BUNRS_PER_PAIR } from '../apollo/queries'\r\nimport { client } from '../apollo/client'\r\nimport dayjs from 'dayjs'\r\nimport { getShareValueOverTime } from '.'\r\n\r\nexport const priceOverrides = [\r\n  '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48', // USDC\r\n  '0x6b175474e89094c44da98b954eedeac495271d0f' // DAI\r\n]\r\n\r\ninterface ReturnMetrics {\r\n  hodleReturn: number // difference in asset values t0 -> t1 with t0 deposit amounts\r\n  netReturn: number // net return from t0 -> t1\r\n  bscswapReturn: number // netReturn - hodlReturn\r\n  impLoss: number\r\n  fees: number\r\n}\r\n\r\n// used to calculate returns within a given window bounded by two positions\r\ninterface Position {\r\n  pair: any\r\n  liquidityTokenBalance: number\r\n  liquidityTokenTotalSupply: number\r\n  reserve0: number\r\n  reserve1: number\r\n  reserveUSD: number\r\n  token0PriceUSD: number\r\n  token1PriceUSD: number\r\n}\r\n\r\nconst PRICE_DISCOVERY_START_TIMESTAMP = 1600046353\r\n\r\nfunction formatPricesForEarlyTimestamps(position): Position {\r\n  if (position.timestamp < PRICE_DISCOVERY_START_TIMESTAMP) {\r\n    if (priceOverrides.includes(position?.pair?.token0.id)) {\r\n      position.token0PriceUSD = 1\r\n    }\r\n    if (priceOverrides.includes(position?.pair?.token1.id)) {\r\n      position.token1PriceUSD = 1\r\n    }\r\n    // WBNB price\r\n    if (position.pair?.token0.id === '0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c') {\r\n      position.token0PriceUSD = 30\r\n    }\r\n    if (position.pair?.token1.id === '0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c') {\r\n      position.token1PriceUSD = 30\r\n    }\r\n  }\r\n  return position\r\n}\r\n\r\nasync function getPrincipalForUserPerPair(user: string, pairAddress: string) {\r\n  let usd = 0\r\n  let amount0 = 0\r\n  let amount1 = 0\r\n  // get all minst and burns to get principal amounts\r\n  const results = await client.query({\r\n    query: USER_MINTS_BUNRS_PER_PAIR,\r\n    variables: {\r\n      user,\r\n      pair: pairAddress\r\n    }\r\n  })\r\n  for (const index in results.data.mints) {\r\n    const mint = results.data.mints[index]\r\n    const mintToken0 = mint.pair.token0.id\r\n    const mintToken1 = mint.pair.token1.id\r\n\r\n    // if trackign before prices were discovered (pre-launch days), hardcode stablecoins\r\n    if (priceOverrides.includes(mintToken0) && mint.timestamp < PRICE_DISCOVERY_START_TIMESTAMP) {\r\n      usd += parseFloat(mint.amount0) * 2\r\n    } else if (priceOverrides.includes(mintToken1) && mint.timestamp < PRICE_DISCOVERY_START_TIMESTAMP) {\r\n      usd += parseFloat(mint.amount1) * 2\r\n    } else {\r\n      usd += parseFloat(mint.amountUSD)\r\n    }\r\n    amount0 += amount0 + parseFloat(mint.amount0)\r\n    amount1 += amount1 + parseFloat(mint.amount1)\r\n  }\r\n\r\n  for (const index in results.data.burns) {\r\n    const burn = results.data.burns[index]\r\n    const burnToken0 = burn.pair.token0.id\r\n    const burnToken1 = burn.pair.token1.id\r\n\r\n    // if trackign before prices were discovered (pre-launch days), hardcode stablecoins\r\n    if (priceOverrides.includes(burnToken0) && burn.timestamp < PRICE_DISCOVERY_START_TIMESTAMP) {\r\n      usd += parseFloat(burn.amount0) * 2\r\n    } else if (priceOverrides.includes(burnToken1) && burn.timestamp < PRICE_DISCOVERY_START_TIMESTAMP) {\r\n      usd += parseFloat(burn.amount1) * 2\r\n    } else {\r\n      usd -= parseFloat(results.data.burns[index].amountUSD)\r\n    }\r\n\r\n    amount0 -= parseFloat(results.data.burns[index].amount0)\r\n    amount1 -= parseFloat(results.data.burns[index].amount1)\r\n  }\r\n\r\n  return { usd, amount0, amount1 }\r\n}\r\n\r\n/**\r\n * Core algorithm for calculating retursn within one time window.\r\n * @param positionT0 // users liquidity info and token rates at beginning of window\r\n * @param positionT1 // '' at the end of the window\r\n */\r\nexport function getMetricsForPositionWindow(positionT0: Position, positionT1: Position): ReturnMetrics {\r\n  positionT0 = formatPricesForEarlyTimestamps(positionT0)\r\n  positionT1 = formatPricesForEarlyTimestamps(positionT1)\r\n\r\n  // calculate ownership at ends of window, for end of window we need original LP token balance / new total supply\r\n  const t0Ownership = positionT0.liquidityTokenBalance / positionT0.liquidityTokenTotalSupply\r\n  const t1Ownership = positionT0.liquidityTokenBalance / positionT1.liquidityTokenTotalSupply\r\n\r\n  // get starting amounts of token0 and token1 deposited by LP\r\n  const token0_amount_t0 = t0Ownership * positionT0.reserve0\r\n  const token1_amount_t0 = t0Ownership * positionT0.reserve1\r\n\r\n  // get current token values\r\n  const token0_amount_t1 = t1Ownership * positionT1.reserve0\r\n  const token1_amount_t1 = t1Ownership * positionT1.reserve1\r\n\r\n  // calculate squares to find imp loss and fee differences\r\n  const sqrK_t0 = Math.sqrt(token0_amount_t0 * token1_amount_t0)\r\n  // eslint-disable-next-line eqeqeq\r\n  const priceRatioT1 = positionT1.token0PriceUSD != 0 ? positionT1.token1PriceUSD / positionT1.token0PriceUSD : 0\r\n\r\n  const token0_amount_no_fees = positionT1.token1PriceUSD && priceRatioT1 ? sqrK_t0 * Math.sqrt(priceRatioT1) : 0\r\n  const token1_amount_no_fees =\r\n    Number(positionT1.token1PriceUSD) && priceRatioT1 ? sqrK_t0 / Math.sqrt(priceRatioT1) : 0\r\n  const no_fees_usd =\r\n    token0_amount_no_fees * positionT1.token0PriceUSD + token1_amount_no_fees * positionT1.token1PriceUSD\r\n\r\n  const difference_fees_token0 = token0_amount_t1 - token0_amount_no_fees\r\n  const difference_fees_token1 = token1_amount_t1 - token1_amount_no_fees\r\n  const difference_fees_usd =\r\n    difference_fees_token0 * positionT1.token0PriceUSD + difference_fees_token1 * positionT1.token1PriceUSD\r\n\r\n  // calculate USD value at t0 and t1 using initial token deposit amounts for asset return\r\n  const assetValueT0 = token0_amount_t0 * positionT0.token0PriceUSD + token1_amount_t0 * positionT0.token1PriceUSD\r\n  const assetValueT1 = token0_amount_t0 * positionT1.token0PriceUSD + token1_amount_t0 * positionT1.token1PriceUSD\r\n\r\n  const imp_loss_usd = no_fees_usd - assetValueT1\r\n  const bscswap_return = difference_fees_usd + imp_loss_usd\r\n\r\n  // get net value change for combined data\r\n  const netValueT0 = t0Ownership * positionT0.reserveUSD\r\n  const netValueT1 = t1Ownership * positionT1.reserveUSD\r\n\r\n  return {\r\n    hodleReturn: assetValueT1 - assetValueT0,\r\n    netReturn: netValueT1 - netValueT0,\r\n    bscswapReturn: bscswap_return,\r\n    impLoss: imp_loss_usd,\r\n    fees: difference_fees_usd\r\n  }\r\n}\r\n\r\n/**\r\n * formats data for historical chart for an LPs position in 1 pair over time\r\n * @param startDateTimestamp // day to start tracking at\r\n * @param currentPairData // current stat of the pair\r\n * @param pairSnapshots // history of entries and exits for lp on this pair\r\n * @param currentBNBPrice // current price of bnb used for usd conversions\r\n */\r\nexport async function getHistoricalPairReturns(startDateTimestamp, currentPairData, pairSnapshots, currentBNBPrice) {\r\n  // catch case where data not puplated yet\r\n  if (!currentPairData.createdAtTimestamp) {\r\n    return []\r\n  }\r\n  let dayIndex: number = Math.round(startDateTimestamp / 86400) // get unique day bucket unix\r\n  const currentDayIndex: number = Math.round(dayjs.utc().unix() / 86400)\r\n  let sortedPositions = pairSnapshots.sort((a, b) => {\r\n    return parseInt(a.timestamp) > parseInt(b.timestamp) ? 1 : -1\r\n  })\r\n  if (sortedPositions[0].timestamp > startDateTimestamp) {\r\n    dayIndex = Math.round(sortedPositions[0].timestamp / 86400)\r\n  }\r\n\r\n  const dayTimestamps = []\r\n  while (dayIndex < currentDayIndex) {\r\n    // only account for days where this pair existed\r\n    if (dayIndex * 86400 >= parseInt(currentPairData.createdAtTimestamp)) {\r\n      dayTimestamps.push(dayIndex * 86400)\r\n    }\r\n    dayIndex = dayIndex + 1\r\n  }\r\n\r\n  const shareValues = await getShareValueOverTime(currentPairData.id, dayTimestamps)\r\n  const shareValuesFormatted = {}\r\n  shareValues?.map(share => {\r\n    shareValuesFormatted[share.timestamp] = share\r\n  })\r\n\r\n  // set the default position and data\r\n  let positionT0 = pairSnapshots[0]\r\n  const formattedHistory = []\r\n  let netFees = 0\r\n\r\n  // keep track of up to date metrics as we parse each day\r\n  for (const index in dayTimestamps) {\r\n    // get the bounds on the day\r\n    const dayTimestamp = dayTimestamps[index]\r\n    const timestampCeiling = dayTimestamp + 86400\r\n\r\n    // for each change in position value that day, create a window and update\r\n    const dailyChanges = pairSnapshots.filter(snapshot => {\r\n      return snapshot.timestamp < timestampCeiling && snapshot.timestamp > dayTimestamp\r\n    })\r\n    for (let i = 0; i < dailyChanges.length; i++) {\r\n      const positionT1 = dailyChanges[i]\r\n      const localReturns = getMetricsForPositionWindow(positionT0, positionT1)\r\n      netFees = netFees + localReturns.fees\r\n      positionT0 = positionT1\r\n    }\r\n\r\n    // now treat the end of the day as a hypothetical position\r\n    let positionT1 = shareValuesFormatted[dayTimestamp + 86400]\r\n    if (!positionT1) {\r\n      positionT1 = {\r\n        pair: currentPairData.id,\r\n        liquidityTokenBalance: positionT0.liquidityTokenBalance,\r\n        totalSupply: currentPairData.totalSupply,\r\n        reserve0: currentPairData.reserve0,\r\n        reserve1: currentPairData.reserve1,\r\n        reserveUSD: currentPairData.reserveUSD,\r\n        token0PriceUSD: currentPairData.token0.derivedBNB * currentBNBPrice,\r\n        token1PriceUSD: currentPairData.token1.derivedBNB * currentBNBPrice\r\n      }\r\n    }\r\n\r\n    if (positionT1) {\r\n      positionT1.liquidityTokenTotalSupply = positionT1.totalSupply\r\n      positionT1.liquidityTokenBalance = positionT0.liquidityTokenBalance\r\n      const currentLiquidityValue =\r\n        (parseFloat(positionT1.liquidityTokenBalance) / parseFloat(positionT1.liquidityTokenTotalSupply)) *\r\n        parseFloat(positionT1.reserveUSD)\r\n      const localReturns = getMetricsForPositionWindow(positionT0, positionT1)\r\n      const localFees = netFees + localReturns.fees\r\n\r\n      formattedHistory.push({\r\n        date: dayTimestamp,\r\n        usdValue: currentLiquidityValue,\r\n        fees: localFees\r\n      })\r\n    }\r\n  }\r\n\r\n  return formattedHistory\r\n}\r\n\r\n/**\r\n * For a given pair and user, get the return metrics\r\n * @param user\r\n * @param pair\r\n * @param bnbPrice\r\n */\r\nexport async function getLPReturnsOnPair(user: string, pair, bnbPrice: number, snapshots) {\r\n  // initialize values\r\n  const principal = await getPrincipalForUserPerPair(user, pair.id)\r\n  let hodlReturn = 0\r\n  let netReturn = 0\r\n  let bscswapReturn = 0\r\n  let fees = 0\r\n\r\n  snapshots = snapshots.filter(entry => {\r\n    return entry.pair.id === pair.id\r\n  })\r\n\r\n  // get data about the current position\r\n  const currentPosition: Position = {\r\n    pair,\r\n    liquidityTokenBalance: snapshots[snapshots.length - 1]?.liquidityTokenBalance,\r\n    liquidityTokenTotalSupply: pair.totalSupply,\r\n    reserve0: pair.reserve0,\r\n    reserve1: pair.reserve1,\r\n    reserveUSD: pair.reserveUSD,\r\n    token0PriceUSD: pair.token0.derivedBNB * bnbPrice,\r\n    token1PriceUSD: pair.token1.derivedBNB * bnbPrice\r\n  }\r\n\r\n  for (const index in snapshots) {\r\n    // get positions at both bounds of the window\r\n    let positionT0 = snapshots[index]\r\n    let positionT1 = parseInt(index) === snapshots.length - 1 ? currentPosition : snapshots[parseInt(index) + 1]\r\n\r\n    let results = getMetricsForPositionWindow(positionT0, positionT1)\r\n    hodlReturn = hodlReturn + results.hodleReturn\r\n    netReturn = netReturn + results.netReturn\r\n    bscswapReturn = bscswapReturn + results.bscswapReturn\r\n    fees = fees + results.fees\r\n  }\r\n\r\n  return {\r\n    principal,\r\n    net: {\r\n      return: netReturn\r\n    },\r\n    bscswap: {\r\n      return: bscswapReturn\r\n    },\r\n    fees: {\r\n      sum: fees\r\n    }\r\n  }\r\n}\r\n","import React, { createContext, useContext, useReducer, useMemo, useCallback, useEffect, useState } from 'react'\r\nimport { usePairData } from './PairData'\r\nimport { client } from '../apollo/client'\r\nimport { USER_TRANSACTIONS, USER_POSITIONS, USER_HISTORY, PAIR_DAY_DATA_BULK } from '../apollo/queries'\r\nimport { useTimeframe, useStartTimestamp } from './Application'\r\nimport dayjs from 'dayjs'\r\nimport utc from 'dayjs/plugin/utc'\r\nimport { useBnbPrice } from './GlobalData'\r\nimport { getLPReturnsOnPair, getHistoricalPairReturns } from '../utils/returns'\r\nimport { timeframeOptions } from '../constants'\r\n\r\ndayjs.extend(utc)\r\n\r\nconst UPDATE_TRANSACTIONS = 'UPDATE_TRANSACTIONS'\r\nconst UPDATE_POSITIONS = 'UPDATE_POSITIONS '\r\nconst UPDATE_USER_POSITION_HISTORY = 'UPDATE_USER_POSITION_HISTORY'\r\nconst UPDATE_USER_PAIR_RETURNS = 'UPDATE_USER_PAIR_RETURNS'\r\n\r\nconst TRANSACTIONS_KEY = 'TRANSACTIONS_KEY'\r\nconst POSITIONS_KEY = 'POSITIONS_KEY'\r\nconst USER_SNAPSHOTS = 'USER_SNAPSHOTS'\r\nconst USER_PAIR_RETURNS_KEY = 'USER_PAIR_RETURNS_KEY'\r\n\r\nconst UserContext = createContext()\r\n\r\nfunction useUserContext() {\r\n  return useContext(UserContext)\r\n}\r\n\r\nfunction reducer(state, { type, payload }) {\r\n  switch (type) {\r\n    case UPDATE_TRANSACTIONS: {\r\n      const { account, transactions } = payload\r\n      return {\r\n        ...state,\r\n        [account]: {\r\n          ...state?.[account],\r\n          [TRANSACTIONS_KEY]: transactions\r\n        }\r\n      }\r\n    }\r\n    case UPDATE_POSITIONS: {\r\n      const { account, positions } = payload\r\n      return {\r\n        ...state,\r\n        [account]: { ...state?.[account], [POSITIONS_KEY]: positions }\r\n      }\r\n    }\r\n\r\n    case UPDATE_USER_POSITION_HISTORY: {\r\n      const { account, historyData } = payload\r\n      return {\r\n        ...state,\r\n        [account]: { ...state?.[account], [USER_SNAPSHOTS]: historyData }\r\n      }\r\n    }\r\n\r\n    case UPDATE_USER_PAIR_RETURNS: {\r\n      const { account, pairAddress, data } = payload\r\n      return {\r\n        ...state,\r\n        [account]: {\r\n          ...state?.[account],\r\n          [USER_PAIR_RETURNS_KEY]: {\r\n            ...state?.[account]?.[USER_PAIR_RETURNS_KEY],\r\n            [pairAddress]: data\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    default: {\r\n      throw Error(`Unexpected action type in DataContext reducer: '${type}'.`)\r\n    }\r\n  }\r\n}\r\n\r\nconst INITIAL_STATE = {}\r\n\r\nexport default function Provider({ children }) {\r\n  const [state, dispatch] = useReducer(reducer, INITIAL_STATE)\r\n\r\n  const updateTransactions = useCallback((account, transactions) => {\r\n    dispatch({\r\n      type: UPDATE_TRANSACTIONS,\r\n      payload: {\r\n        account,\r\n        transactions\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const updatePositions = useCallback((account, positions) => {\r\n    dispatch({\r\n      type: UPDATE_POSITIONS,\r\n      payload: {\r\n        account,\r\n        positions\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const updateUserSnapshots = useCallback((account, historyData) => {\r\n    dispatch({\r\n      type: UPDATE_USER_POSITION_HISTORY,\r\n      payload: {\r\n        account,\r\n        historyData\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const updateUserPairReturns = useCallback((account, pairAddress, data) => {\r\n    dispatch({\r\n      type: UPDATE_USER_PAIR_RETURNS,\r\n      payload: {\r\n        account,\r\n        pairAddress,\r\n        data\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={useMemo(\r\n        () => [state, { updateTransactions, updatePositions, updateUserSnapshots, updateUserPairReturns }],\r\n        [state, updateTransactions, updatePositions, updateUserSnapshots, updateUserPairReturns]\r\n      )}\r\n    >\r\n      {children}\r\n    </UserContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useUserTransactions(account) {\r\n  const [state, { updateTransactions }] = useUserContext()\r\n  const transactions = state?.[account]?.[TRANSACTIONS_KEY]\r\n  useEffect(() => {\r\n    async function fetchData(account) {\r\n      try {\r\n        let result = await client.query({\r\n          query: USER_TRANSACTIONS,\r\n          variables: {\r\n            user: account\r\n          },\r\n          fetchPolicy: 'no-cache'\r\n        })\r\n        if (result?.data) {\r\n          updateTransactions(account, result?.data)\r\n        }\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    }\r\n    if (!transactions && account) {\r\n      fetchData(account)\r\n    }\r\n  }, [account, transactions, updateTransactions])\r\n\r\n  return transactions || {}\r\n}\r\n\r\n/**\r\n * Store all the snapshots of liquidity activity for this account.\r\n * Each snapshot is a moment when an LP position was created or updated.\r\n * @param {*} account\r\n */\r\nexport function useUserSnapshots(account) {\r\n  const [state, { updateUserSnapshots }] = useUserContext()\r\n  const snapshots = state?.[account]?.[USER_SNAPSHOTS]\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        let skip = 0\r\n        let allResults = []\r\n        let found = false\r\n        while (!found) {\r\n          let result = await client.query({\r\n            query: USER_HISTORY,\r\n            variables: {\r\n              skip: skip,\r\n              user: account\r\n            },\r\n            fetchPolicy: 'cache-first'\r\n          })\r\n          allResults = allResults.concat(result.data.liquidityPositionSnapshots)\r\n          if (result.data.liquidityPositionSnapshots.length < 1000) {\r\n            found = true\r\n          } else {\r\n            skip += 1000\r\n          }\r\n        }\r\n        if (allResults) {\r\n          updateUserSnapshots(account, allResults)\r\n        }\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    }\r\n    if (!snapshots && account) {\r\n      fetchData()\r\n    }\r\n  }, [account, snapshots, updateUserSnapshots])\r\n\r\n  return snapshots\r\n}\r\n\r\n/**\r\n * For a given position (data about holding) and user, get the chart\r\n * data for the fees and liquidity over time\r\n * @param {*} position\r\n * @param {*} account\r\n */\r\nexport function useUserPositionChart(position, account) {\r\n  const pairAddress = position?.pair?.id\r\n  const [state, { updateUserPairReturns }] = useUserContext()\r\n\r\n  // get oldest date of data to fetch\r\n  const startDateTimestamp = useStartTimestamp()\r\n\r\n  // get users adds and removes on this pair\r\n  const snapshots = useUserSnapshots(account)\r\n  const pairSnapshots =\r\n    snapshots &&\r\n    position &&\r\n    snapshots.filter(currentSnapshot => {\r\n      return currentSnapshot.pair.id === position.pair.id\r\n    })\r\n\r\n  // get data needed for calculations\r\n  const currentPairData = usePairData(pairAddress)\r\n  const [currentBNBPrice] = useBnbPrice()\r\n\r\n  // formatetd array to return for chart data\r\n  const formattedHistory = state?.[account]?.[USER_PAIR_RETURNS_KEY]?.[pairAddress]\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      let fetchedData = await getHistoricalPairReturns(\r\n        startDateTimestamp,\r\n        currentPairData,\r\n        pairSnapshots,\r\n        currentBNBPrice\r\n      )\r\n      updateUserPairReturns(account, pairAddress, fetchedData)\r\n    }\r\n    if (\r\n      account &&\r\n      startDateTimestamp &&\r\n      pairSnapshots &&\r\n      !formattedHistory &&\r\n      currentPairData &&\r\n      Object.keys(currentPairData).length > 0 &&\r\n      pairAddress &&\r\n      currentBNBPrice\r\n    ) {\r\n      fetchData()\r\n    }\r\n  }, [\r\n    account,\r\n    startDateTimestamp,\r\n    pairSnapshots,\r\n    formattedHistory,\r\n    pairAddress,\r\n    currentPairData,\r\n    currentBNBPrice,\r\n    updateUserPairReturns,\r\n    position.pair.id\r\n  ])\r\n\r\n  return formattedHistory\r\n}\r\n\r\n/**\r\n * For each day starting with min(first position timestamp, beginning of time window),\r\n * get total liquidity supplied by user in USD. Format in array with date timestamps\r\n * and usd liquidity value.\r\n */\r\nexport function useUserLiquidityChart(account) {\r\n  const history = useUserSnapshots(account)\r\n  // formatetd array to return for chart data\r\n  const [formattedHistory, setFormattedHistory] = useState()\r\n\r\n  const [startDateTimestamp, setStartDateTimestamp] = useState()\r\n  const [activeWindow] = useTimeframe()\r\n\r\n  // monitor the old date fetched\r\n  useEffect(() => {\r\n    const utcEndTime = dayjs.utc()\r\n    // based on window, get starttime\r\n    let utcStartTime\r\n    switch (activeWindow) {\r\n      case timeframeOptions.WEEK:\r\n        utcStartTime = utcEndTime.subtract(1, 'week').startOf('day')\r\n        break\r\n      case timeframeOptions.ALL_TIME:\r\n        utcStartTime = utcEndTime.subtract(1, 'year')\r\n        break\r\n      default:\r\n        utcStartTime = utcEndTime.subtract(1, 'year').startOf('year')\r\n        break\r\n    }\r\n    let startTime = utcStartTime.unix() - 1\r\n    if ((activeWindow && startTime < startDateTimestamp) || !startDateTimestamp) {\r\n      setStartDateTimestamp(startTime)\r\n    }\r\n  }, [activeWindow, startDateTimestamp])\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      let dayIndex = parseInt(startDateTimestamp / 86400) // get unique day bucket unix\r\n      const currentDayIndex = parseInt(dayjs.utc().unix() / 86400)\r\n\r\n      // sort snapshots in order\r\n      let sortedPositions = history.sort((a, b) => {\r\n        return parseInt(a.timestamp) > parseInt(b.timestamp) ? 1 : -1\r\n      })\r\n      // if UI start time is > first position time - bump start index to this time\r\n      if (parseInt(sortedPositions[0].timestamp) > dayIndex) {\r\n        dayIndex = parseInt(parseInt(sortedPositions[0].timestamp) / 86400)\r\n      }\r\n\r\n      const dayTimestamps = []\r\n      // get date timestamps for all days in view\r\n      while (dayIndex < currentDayIndex) {\r\n        dayTimestamps.push(parseInt(dayIndex) * 86400)\r\n        dayIndex = dayIndex + 1\r\n      }\r\n\r\n      const pairs = history.reduce((pairList, position) => {\r\n        return [...pairList, position.pair.id]\r\n      }, [])\r\n\r\n      // get all day datas where date is in this list, and pair is in pair list\r\n      let {\r\n        data: { pairDayDatas }\r\n      } = await client.query({\r\n        query: PAIR_DAY_DATA_BULK(pairs, startDateTimestamp)\r\n      })\r\n\r\n      const formattedHistory = []\r\n\r\n      // map of current pair => ownership %\r\n      const ownershipPerPair = {}\r\n      for (const index in dayTimestamps) {\r\n        const dayTimestamp = dayTimestamps[index]\r\n        const timestampCeiling = dayTimestamp + 86400\r\n\r\n        // cycle through relevant positions and update ownership for any that we need to\r\n        const relevantPositions = history.filter(snapshot => {\r\n          return snapshot.timestamp < timestampCeiling && snapshot.timestamp > dayTimestamp\r\n        })\r\n        for (const index in relevantPositions) {\r\n          const position = relevantPositions[index]\r\n          // case where pair not added yet\r\n          if (!ownershipPerPair[position.pair.id]) {\r\n            ownershipPerPair[position.pair.id] = {\r\n              lpTokenBalance: position.liquidityTokenBalance,\r\n              timestamp: position.timestamp\r\n            }\r\n          }\r\n          // case where more recent timestamp is found for pair\r\n          if (ownershipPerPair[position.pair.id] && ownershipPerPair[position.pair.id].timestamp < position.timestamp) {\r\n            ownershipPerPair[position.pair.id] = {\r\n              lpTokenBalance: position.liquidityTokenBalance,\r\n              timestamp: position.timestamp\r\n            }\r\n          }\r\n        }\r\n\r\n        const relavantDayDatas = Object.keys(ownershipPerPair).map(pairAddress => {\r\n          // find last day data after timestamp update\r\n          const dayDatasForThisPair = pairDayDatas.filter(dayData => {\r\n            return dayData.pairAddress === pairAddress\r\n          })\r\n          // find the most recent reference to pair liquidity data\r\n          let mostRecent = dayDatasForThisPair[0]\r\n          for (const index in dayDatasForThisPair) {\r\n            const dayData = dayDatasForThisPair[index]\r\n            if (dayData.date < dayTimestamp && dayData.date > mostRecent.date) {\r\n              mostRecent = dayData\r\n            }\r\n          }\r\n          return mostRecent\r\n        })\r\n\r\n        // now cycle through pair day datas, for each one find usd value = ownership[address] * reserveUSD\r\n        const dailyUSD = relavantDayDatas.reduce((totalUSD, dayData) => {\r\n          return (totalUSD =\r\n            totalUSD +\r\n            (ownershipPerPair[dayData.pairAddress]\r\n              ? (parseFloat(ownershipPerPair[dayData.pairAddress].lpTokenBalance) / parseFloat(dayData.totalSupply)) *\r\n                parseFloat(dayData.reserveUSD)\r\n              : 0))\r\n        }, 0)\r\n\r\n        formattedHistory.push({\r\n          date: dayTimestamp,\r\n          valueUSD: dailyUSD\r\n        })\r\n      }\r\n\r\n      setFormattedHistory(formattedHistory)\r\n    }\r\n    if (history && startDateTimestamp && history.length > 0) {\r\n      fetchData()\r\n    }\r\n  }, [history, startDateTimestamp])\r\n\r\n  return formattedHistory\r\n}\r\n\r\nexport function useUserPositions(account) {\r\n  const [state, { updatePositions }] = useUserContext()\r\n  const positions = state?.[account]?.[POSITIONS_KEY]\r\n\r\n  const snapshots = useUserSnapshots(account)\r\n  const [bnbPrice] = useBnbPrice()\r\n\r\n  useEffect(() => {\r\n    async function fetchData(account) {\r\n      try {\r\n        let result = await client.query({\r\n          query: USER_POSITIONS,\r\n          variables: {\r\n            user: account\r\n          },\r\n          fetchPolicy: 'no-cache'\r\n        })\r\n        if (result?.data?.liquidityPositions) {\r\n          let formattedPositions = await Promise.all(\r\n            result?.data?.liquidityPositions.map(async positionData => {\r\n              const returnData = await getLPReturnsOnPair(account, positionData.pair, bnbPrice, snapshots)\r\n              return {\r\n                ...positionData,\r\n                ...returnData\r\n              }\r\n            })\r\n          )\r\n          updatePositions(account, formattedPositions)\r\n        }\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    }\r\n    if (!positions && account && bnbPrice && snapshots) {\r\n      fetchData(account)\r\n    }\r\n  }, [account, positions, updatePositions, bnbPrice, snapshots])\r\n\r\n  return positions\r\n}\r\n","import styled from 'styled-components'\r\nimport { Box } from 'rebass/styled-components'\r\n\r\nconst Row = styled(Box)`\r\n  width: 100%;\r\n  display: flex;\r\n  padding: 0;\r\n  align-items: center;\r\n  align-items: ${({ align }) => align && align};\r\n  padding: ${({ padding }) => padding};\r\n  border: ${({ border }) => border};\r\n  border-radius: ${({ borderRadius }) => borderRadius};\r\n  justify-content: ${({ justify }) => justify};\r\n`\r\n\r\nexport const RowBetween = styled(Row)`\r\n  justify-content: space-between;\r\n`\r\n\r\nexport const RowFlat = styled.div`\r\n  display: flex;\r\n  align-items: flex-end;\r\n`\r\n\r\nexport const AutoRow = styled(Row)`\r\n  flex-wrap: ${({ wrap }) => wrap ?? 'nowrap'};\r\n  margin: -${({ gap }) => gap};\r\n  & > * {\r\n    margin: ${({ gap }) => gap} !important;\r\n  }\r\n`\r\n\r\nexport const RowFixed = styled(Row)`\r\n  width: fit-content;\r\n`\r\n\r\nexport default Row\r\n","import styled from 'styled-components'\r\n\r\nconst Column = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n`\r\nexport const ColumnCenter = styled(Column)`\r\n  width: 100%;\r\n  align-items: center;\r\n`\r\n\r\nexport const AutoColumn = styled.div`\r\n  display: grid;\r\n  grid-auto-rows: auto;\r\n  grid-row-gap: ${({ gap }) => (gap === 'sm' && '8px') || (gap === 'md' && '12px') || (gap === 'lg' && '24px') || gap};\r\n  justify-items: ${({ justify }) => justify && justify};\r\n`\r\n\r\nexport default Column\r\n","import React from 'react'\r\nimport styled, { css, keyframes } from 'styled-components'\r\nimport { useDarkModeManager } from '../../contexts/LocalStorage'\r\n\r\nconst rotate = keyframes`\r\n  0% { transform: scale(1); }\r\n  60% { transform: scale(1.1); }\r\n  100% { transform: scale(1); }\r\n`\r\n\r\nconst Loader = styled.div`\r\n  pointer-events: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  width: 100%;\r\n  animation: ${rotate} 800ms linear infinite;\r\n  & > * {\r\n    width: 72px;\r\n  }\r\n  ${props =>\r\n    props.fill && !props.height\r\n      ? css`\r\n          height: 100vh;\r\n        `\r\n      : css`\r\n          height: 180px;\r\n        `}\r\n`\r\n\r\nconst LocalLoader = ({ fill }) => {\r\n  const [darkMode] = useDarkModeManager()\r\n\r\n  return (\r\n    <Loader fill={fill}>\r\n      <img src={require(darkMode ? '../../assets/logo_white.png' : '../../assets/logo.png')} alt=\"loading-icon\" />\r\n    </Loader>\r\n  )\r\n}\r\n\r\nexport default LocalLoader\r\n","import React from 'react'\r\nimport { Link as RebassLink } from 'rebass'\r\nimport { Link as RouterLink } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport { lighten, darken } from 'polished'\r\n\r\nconst WrappedLink = ({ external, children, ...rest }) => (\r\n  <RebassLink\r\n    target={external ? '_blank' : null}\r\n    rel={external ? 'noopener noreferrer' : null}\r\n    color=\"#2f80ed\"\r\n    {...rest}\r\n  >\r\n    {children}\r\n  </RebassLink>\r\n)\r\n\r\nWrappedLink.propTypes = {\r\n  external: PropTypes.bool\r\n}\r\n\r\nconst Link = styled(WrappedLink)`\r\n  color: ${({ color, theme }) => (color ? color : theme.link)};\r\n`\r\n\r\nexport default Link\r\n\r\nexport const CustomLink = styled(RouterLink)`\r\n  text-decoration: none;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  color: ${({ color, theme }) => (color ? color : theme.link)};\r\n\r\n  &:visited {\r\n    color: ${({ color, theme }) => (color ? lighten(0.1, color) : lighten(0.1, theme.link))};\r\n  }\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    text-decoration: none;\r\n    underline: none;\r\n    color: ${({ color, theme }) => (color ? darken(0.1, color) : darken(0.1, theme.link))};\r\n  }\r\n`\r\n\r\nexport const BasicLink = styled(RouterLink)`\r\n  text-decoration: none;\r\n  color: inherit;\r\n  &:hover {\r\n    cursor: pointer;\r\n    text-decoration: none;\r\n    underline: none;\r\n  }\r\n`\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Text, Box } from 'rebass'\r\n\r\nimport Link from './Link'\r\n\r\nimport { urls } from '../utils'\r\n\r\nconst Divider = styled(Box)`\r\n  height: 1px;\r\n  background-color: ${({ theme }) => theme.divider};\r\n`\r\n\r\nexport const IconWrapper = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  border-radius: 3px;\r\n  height: 16px;\r\n  width: 16px;\r\n  padding: 0px;\r\n  bottom: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: ${({ theme }) => theme.text1};\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n    opacity: 0.7;\r\n  }\r\n`\r\n\r\nconst Hint = ({ children, ...rest }) => (\r\n  <Text fontSize={16} weight={500} {...rest}>\r\n    {children}\r\n  </Text>\r\n)\r\n\r\nconst Address = ({ address, token, ...rest }) => (\r\n  <Link\r\n    color=\"button\"\r\n    href={token ? urls.showToken(address) : urls.showAddress(address)}\r\n    external\r\n    style={{ wordBreak: 'break-all' }}\r\n    {...rest}\r\n  >\r\n    {address}\r\n  </Link>\r\n)\r\n\r\nexport const Hover = styled.div`\r\n  :hover {\r\n    cursor: pointer;\r\n    opacity: ${({ fade }) => fade && '0.7'};\r\n  }\r\n`\r\n\r\nexport const StyledIcon = styled.div`\r\n  color: ${({ theme }) => theme.text1};\r\n`\r\n\r\nconst EmptyCard = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 200px;\r\n  border-radius: 20px;\r\n  color: ${({ theme }) => theme.text1};\r\n  height: ${({ height }) => height && height};\r\n`\r\n\r\nexport const SideBar = styled.span`\r\n  display: grid;\r\n  grid-gap: 24px;\r\n  position: sticky;\r\n  top: 4rem;\r\n`\r\n\r\nexport const SubNav = styled.ul`\r\n  list-style: none;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n  padding: 0;\r\n  margin-bottom: 2rem;\r\n`\r\nexport const SubNavEl = styled.li`\r\n  list-style: none;\r\n  display: flex;\r\n  padding-bottom: 0.5rem;\r\n  margin-right: 1rem;\r\n  font-weight: ${({ isActive }) => (isActive ? 600 : 500)};\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0);\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n    border-bottom: 1px solid ${({ theme }) => theme.bg3};\r\n  }\r\n`\r\n\r\nexport const PageWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-top: 36px;\r\n  padding-bottom: 80px;\r\n\r\n  @media screen and (max-width: 600px) {\r\n    & > * {\r\n      padding: 0 12px;\r\n    }\r\n  }\r\n`\r\n\r\nexport const ContentWrapper = styled.div`\r\n  display: grid;\r\n  justify-content: start;\r\n  align-items: start;\r\n  grid-template-columns: 1fr;\r\n  grid-gap: 24px;\r\n  max-width: 1440px;\r\n  width: 100%;\r\n  margin: 0 auto;\r\n  padding: 0 2rem;\r\n  box-sizing: border-box;\r\n  @media screen and (max-width: 1180px) {\r\n    grid-template-columns: 1fr;\r\n    padding: 0 1rem;\r\n  }\r\n`\r\n\r\nexport const ContentWrapperLarge = styled.div`\r\n  display: grid;\r\n  justify-content: start;\r\n  align-items: start;\r\n  grid-template-columns: 1fr;\r\n  grid-gap: 24px;\r\n  padding: 0 2rem;\r\n  margin: 0 auto;\r\n  box-sizing: border-box;\r\n  max-width: 1440px;\r\n  width: 100%;\r\n\r\n  @media screen and (max-width: 1282px) {\r\n    grid-template-columns: 1fr;\r\n    padding: 0 1rem;\r\n  }\r\n`\r\n\r\nexport const FullWrapper = styled.div`\r\n  display: grid;\r\n  justify-content: start;\r\n  align-items: start;\r\n  grid-template-columns: 1fr;\r\n  grid-gap: 24px;\r\n  max-width: 1440px;\r\n  width: 100%;\r\n  margin: 0 auto;\r\n  padding: 0 2rem;\r\n  box-sizing: border-box;\r\n\r\n  @media screen and (max-width: 1180px) {\r\n    grid-template-columns: 1fr;\r\n    padding: 0 1rem;\r\n  }\r\n`\r\n\r\nexport const FixedMenu = styled.div`\r\n  z-index: 99;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  padding: 1rem;\r\n  box-sizing: border-box;\r\n  margin-bottom: 2rem;\r\n  max-width: 100vw;\r\n\r\n  @media screen and (max-width: 800px) {\r\n    margin-bottom: 0;\r\n  }\r\n`\r\n\r\nexport { Hint, Divider, Address, EmptyCard }\r\n","import React, { useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { isAddress } from '../../utils/index.js'\r\nimport PlaceHolder from '../../assets/placeholder.png'\r\nimport EthereumLogo from '../../assets/bnb.svg'\r\n\r\nconst BAD_IMAGES = {}\r\n\r\nconst Inline = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  align-self: center;\r\n`\r\n\r\nconst Image = styled.img`\r\n  width: ${({ size }) => size};\r\n  height: ${({ size }) => size};\r\n  background-color: white;\r\n  border-radius: 50%;\r\n  box-shadow: 0px 6px 10px rgba(0, 0, 0, 0.075);\r\n`\r\n\r\nconst StyledEthereumLogo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  > img {\r\n    width: ${({ size }) => size};\r\n    height: ${({ size }) => size};\r\n  }\r\n`\r\n\r\nexport default function TokenLogo({ address, header = false, size = '24px', ...rest }) {\r\n  const [error, setError] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setError(false)\r\n  }, [address])\r\n\r\n  if (error || BAD_IMAGES[address]) {\r\n    return (\r\n      <Inline>\r\n        <Image {...rest} alt={''} src={PlaceHolder} size={size} />\r\n      </Inline>\r\n    )\r\n  }\r\n\r\n  if (address?.toLowerCase() === '0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c') {\r\n    return (\r\n      <StyledEthereumLogo size={size} {...rest}>\r\n        <img\r\n          src={EthereumLogo}\r\n          style={{ boxShadow: '0px 6px 10px rgba(0, 0, 0, 0.075)', borderRadius: '24px' }}\r\n          alt=\"\"\r\n        />\r\n      </StyledEthereumLogo>\r\n    )\r\n  }\r\n\r\n  const path = `https://tokens.bscswap.com/images/${isAddress(\r\n    address\r\n  )}.png`\r\n\r\n  return (\r\n    <Inline>\r\n      <Image\r\n        {...rest}\r\n        alt={''}\r\n        src={path}\r\n        size={size}\r\n        onError={event => {\r\n          BAD_IMAGES[address] = true\r\n          setError(true)\r\n          event.preventDefault()\r\n        }}\r\n      />\r\n    </Inline>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport TokenLogo from '../TokenLogo'\r\n\r\nexport default function DoubleTokenLogo({ a0, a1, size = 24, margin = false }) {\r\n  const TokenWrapper = styled.div`\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: row;\r\n    margin-right: ${({ sizeraw, margin }) => margin && (sizeraw / 3 + 8).toString() + 'px'};\r\n  `\r\n\r\n  const HigherLogo = styled(TokenLogo)`\r\n    z-index: 2;\r\n    background-color: white;\r\n    border-radius: 50%;\r\n  `\r\n\r\n  const CoveredLogo = styled(TokenLogo)`\r\n    position: absolute;\r\n    left: ${({ sizeraw }) => (sizeraw / 2).toString() + 'px'};\r\n    background-color: white;\r\n    border-radius: 50%;\r\n  `\r\n\r\n  return (\r\n    <TokenWrapper sizeraw={size} margin={margin}>\r\n      <HigherLogo address={a0} size={size.toString() + 'px'} sizeraw={size} />\r\n      <CoveredLogo address={a1} size={size.toString() + 'px'} sizeraw={size} />\r\n    </TokenWrapper>\r\n  )\r\n}\r\n","import { useState, useCallback, useEffect, useRef } from 'react'\r\nimport { shade } from 'polished'\r\nimport Vibrant from 'node-vibrant'\r\nimport { hex } from 'wcag-contrast'\r\nimport { isAddress } from '../utils'\r\nimport copy from 'copy-to-clipboard'\r\n\r\nexport function useColor(tokenAddress, token) {\r\n  const [color, setColor] = useState('#2172E5')\r\n  if (tokenAddress) {\r\n    const path = `https://tokens.bscswap.com/images/${isAddress(\r\n      tokenAddress\r\n    )}.png`\r\n    if (path) {\r\n      Vibrant.from(path).getPalette((err, palette) => {\r\n        if (palette && palette.Vibrant) {\r\n          let detectedHex = palette.Vibrant.hex\r\n          let AAscore = hex(detectedHex, '#FFF')\r\n          while (AAscore < 3) {\r\n            detectedHex = shade(0.005, detectedHex)\r\n            AAscore = hex(detectedHex, '#FFF')\r\n          }\r\n          if (token === 'DAI') {\r\n            setColor('#FAAB14')\r\n          } else {\r\n            setColor(detectedHex)\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n  return color\r\n}\r\n\r\nexport function useCopyClipboard(timeout = 500) {\r\n  const [isCopied, setIsCopied] = useState(false)\r\n\r\n  const staticCopy = useCallback(text => {\r\n    const didCopy = copy(text)\r\n    setIsCopied(didCopy)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (isCopied) {\r\n      const hide = setTimeout(() => {\r\n        setIsCopied(false)\r\n      }, timeout)\r\n\r\n      return () => {\r\n        clearTimeout(hide)\r\n      }\r\n    }\r\n  }, [isCopied, setIsCopied, timeout])\r\n\r\n  return [isCopied, staticCopy]\r\n}\r\n\r\nexport const useOutsideClick = (ref, ref2, callback) => {\r\n  const handleClick = e => {\r\n    if (ref.current && ref.current && !ref2.current) {\r\n      callback(true)\r\n    } else if (ref.current && !ref.current.contains(e.target) && ref2.current && !ref2.current.contains(e.target)) {\r\n      callback(true)\r\n    } else {\r\n      callback(false)\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    document.addEventListener('click', handleClick)\r\n    return () => {\r\n      document.removeEventListener('click', handleClick)\r\n    }\r\n  })\r\n}\r\n\r\nexport default function useInterval(callback: () => void, delay: null | number) {\r\n  const savedCallback = useRef<() => void>()\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback\r\n  }, [callback])\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      const current = savedCallback.current\r\n      current && current()\r\n    }\r\n\r\n    if (delay !== null) {\r\n      tick()\r\n      const id = setInterval(tick, delay)\r\n      return () => clearInterval(id)\r\n    }\r\n    return\r\n  }, [delay])\r\n}\r\n","import { Placement } from '@popperjs/core'\r\nimport { transparentize } from 'polished'\r\nimport React, { useState } from 'react'\r\nimport { usePopper } from 'react-popper'\r\nimport styled from 'styled-components'\r\nimport Portal from '@reach/portal'\r\nimport useInterval from '../../hooks'\r\n\r\nconst PopoverContainer = styled.div<{ show: boolean }>`\r\n  z-index: 9999;\r\n\r\n  visibility: ${props => (props.show ? 'visible' : 'hidden')};\r\n  opacity: ${props => (props.show ? 1 : 0)};\r\n  transition: visibility 150ms linear, opacity 150ms linear;\r\n\r\n  background: ${({ theme }) => theme.bg2};\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n  box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.9, theme.shadow1)};\r\n  color: ${({ theme }) => theme.text2};\r\n  border-radius: 8px;\r\n`\r\n\r\nconst ReferenceElement = styled.div`\r\n  display: inline-block;\r\n`\r\n\r\nconst Arrow = styled.div`\r\n  width: 8px;\r\n  height: 8px;\r\n  z-index: 9998;\r\n\r\n  ::before {\r\n    position: absolute;\r\n    width: 8px;\r\n    height: 8px;\r\n    z-index: 9998;\r\n\r\n    content: '';\r\n    border: 1px solid ${({ theme }) => theme.bg3};\r\n    transform: rotate(45deg);\r\n    background: ${({ theme }) => theme.bg2};\r\n  }\r\n\r\n  &.arrow-top {\r\n    bottom: -5px;\r\n    ::before {\r\n      border-top: none;\r\n      border-left: none;\r\n    }\r\n  }\r\n\r\n  &.arrow-bottom {\r\n    top: -5px;\r\n    ::before {\r\n      border-bottom: none;\r\n      border-right: none;\r\n    }\r\n  }\r\n\r\n  &.arrow-left {\r\n    right: -5px;\r\n\r\n    ::before {\r\n      border-bottom: none;\r\n      border-left: none;\r\n    }\r\n  }\r\n\r\n  &.arrow-right {\r\n    left: -5px;\r\n    ::before {\r\n      border-right: none;\r\n      border-top: none;\r\n    }\r\n  }\r\n`\r\n\r\nexport interface PopoverProps {\r\n  content: React.ReactNode\r\n  show: boolean\r\n  children: React.ReactNode\r\n  placement?: Placement\r\n}\r\n\r\nexport default function Popover({ content, show, children, placement = 'auto' }: PopoverProps) {\r\n  const [referenceElement, setReferenceElement] = useState<HTMLDivElement>(null)\r\n  const [popperElement, setPopperElement] = useState<HTMLDivElement>(null)\r\n  const [arrowElement, setArrowElement] = useState<HTMLDivElement>(null)\r\n  const { styles, update, attributes } = usePopper(referenceElement, popperElement, {\r\n    placement,\r\n    strategy: 'fixed',\r\n    modifiers: [\r\n      { name: 'offset', options: { offset: [8, 8] } },\r\n      { name: 'arrow', options: { element: arrowElement } }\r\n    ]\r\n  })\r\n\r\n  useInterval(update, show ? 100 : null)\r\n\r\n  return (\r\n    <>\r\n      <ReferenceElement ref={setReferenceElement}>{children}</ReferenceElement>\r\n      <Portal>\r\n        <PopoverContainer show={show} ref={setPopperElement} style={styles.popper} {...attributes.popper}>\r\n          {content}\r\n          <Arrow\r\n            className={`arrow-${attributes.popper?.['data-popper-placement'] ?? ''}`}\r\n            ref={setArrowElement}\r\n            style={styles.arrow}\r\n            {...attributes.arrow}\r\n          />\r\n        </PopoverContainer>\r\n      </Portal>\r\n    </>\r\n  )\r\n}\r\n","import React, { useCallback, useState } from 'react'\r\nimport { HelpCircle as Question } from 'react-feather'\r\nimport styled from 'styled-components'\r\nimport Popover, { PopoverProps } from '../Popover'\r\n\r\nconst QuestionWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 0.2rem;\r\n  border: none;\r\n  background: none;\r\n  outline: none;\r\n  cursor: default;\r\n  border-radius: 36px;\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  color: ${({ theme }) => theme.text2};\r\n\r\n  :hover,\r\n  :focus {\r\n    opacity: 0.7;\r\n  }\r\n`\r\n\r\nconst TooltipContainer = styled.div`\r\n  width: 228px;\r\n  padding: 0.6rem 1rem;\r\n  line-height: 150%;\r\n  font-weight: 400;\r\n`\r\n\r\ninterface TooltipProps extends Omit<PopoverProps, 'content'> {\r\n  text: string\r\n}\r\n\r\nexport function Tooltip({ text, ...rest }: TooltipProps) {\r\n  return <Popover content={<TooltipContainer>{text}</TooltipContainer>} {...rest} />\r\n}\r\n\r\nexport default function QuestionHelper({ text, disabled }: { text: string; disabled?: boolean }) {\r\n  const [show, setShow] = useState<boolean>(false)\r\n\r\n  const open = useCallback(() => setShow(true), [setShow])\r\n  const close = useCallback(() => setShow(false), [setShow])\r\n\r\n  return (\r\n    <span style={{ marginLeft: 4 }}>\r\n      <Tooltip text={text} show={show && !disabled}>\r\n        <QuestionWrapper onClick={open} onMouseEnter={open} onMouseLeave={close}>\r\n          <Question size={16} />\r\n        </QuestionWrapper>\r\n      </Tooltip>\r\n    </span>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Tooltip } from '../QuestionHelper'\r\n\r\nconst TextWrapper = styled.div`\r\n  position: relative;\r\n  margin-left: ${({ margin }) => margin && '4px'};\r\n  color: ${({ theme, link }) => (link ? theme.blue : theme.text1)};\r\n  font-size: ${({ fontSize }) => fontSize ?? 'inherit'};\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  @media screen and (max-width: 600px) {\r\n    font-size: ${({ adjustSize }) => adjustSize && '12px'};\r\n  }\r\n`\r\n\r\nconst FormattedName = ({ text, maxCharacters, margin = false, adjustSize = false, fontSize, link, ...rest }) => {\r\n  const [showHover, setShowHover] = useState(false)\r\n\r\n  if (!text) {\r\n    return ''\r\n  }\r\n\r\n  if (text.length > maxCharacters) {\r\n    return (\r\n      <Tooltip text={text} show={showHover}>\r\n        <TextWrapper\r\n          onMouseEnter={() => setShowHover(true)}\r\n          onMouseLeave={() => setShowHover(false)}\r\n          margin={margin}\r\n          adjustSize={adjustSize}\r\n          link={link}\r\n          fontSize={fontSize}\r\n          {...rest}\r\n        >\r\n          {' ' + text.slice(0, maxCharacters - 1) + '...'}\r\n        </TextWrapper>\r\n      </Tooltip>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <TextWrapper margin={margin} adjustSize={adjustSize} link={link} fontSize={fontSize} {...rest}>\r\n      {text}\r\n    </TextWrapper>\r\n  )\r\n}\r\n\r\nexport default FormattedName\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useMedia } from 'react-use'\r\nimport dayjs from 'dayjs'\r\nimport LocalLoader from '../LocalLoader'\r\nimport utc from 'dayjs/plugin/utc'\r\nimport { Box, Flex, Text } from 'rebass'\r\nimport styled from 'styled-components'\r\n\r\nimport { CustomLink } from '../Link'\r\nimport { Divider } from '../../components'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { PAIR_BLACKLIST } from '../../constants'\r\nimport { formattedNum, formattedPercent } from '../../utils'\r\nimport DoubleTokenLogo from '../DoubleLogo'\r\nimport FormattedName from '../FormattedName'\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport { TYPE } from '../../Theme'\r\n\r\ndayjs.extend(utc)\r\n\r\nconst PageButtons = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 2em;\r\n  margin-bottom: 0.5em;\r\n`\r\n\r\nconst Arrow = styled.div`\r\n  color: ${({ theme }) => theme.primary1};\r\n  opacity: ${props => (props.faded ? 0.3 : 1)};\r\n  padding: 0 20px;\r\n  user-select: none;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst List = styled(Box)`\r\n  -webkit-overflow-scrolling: touch;\r\n`\r\n\r\nconst DashGrid = styled.div`\r\n  display: grid;\r\n  grid-gap: 1em;\r\n  grid-template-columns: 100px 1fr 1fr;\r\n  grid-template-areas: 'name liq vol';\r\n  padding: 0 1.125rem;\r\n\r\n  > * {\r\n    justify-content: flex-end;\r\n\r\n    :first-child {\r\n      justify-content: flex-start;\r\n      text-align: left;\r\n      width: 20px;\r\n    }\r\n  }\r\n\r\n  @media screen and (min-width: 740px) {\r\n    padding: 0 1.125rem;\r\n    grid-template-columns: 1.5fr 1fr 1fr};\r\n    grid-template-areas: ' name liq vol pool ';\r\n  }\r\n\r\n  @media screen and (min-width: 1080px) {\r\n    padding: 0 1.125rem;\r\n    grid-template-columns: 1.5fr 1fr 1fr 1fr 1fr 1fr;\r\n    grid-template-areas: ' name liq vol volWeek fees apy';\r\n  }\r\n\r\n  @media screen and (min-width: 1200px) {\r\n    grid-template-columns: 1.5fr 1fr 1fr 1fr 1fr 1fr;\r\n    grid-template-areas: ' name liq vol volWeek fees apy';\r\n  }\r\n`\r\n\r\nconst ListWrapper = styled.div``\r\n\r\nconst ClickableText = styled(Text)`\r\n  color: ${({ theme }) => theme.text1};\r\n  &:hover {\r\n    cursor: pointer;\r\n    opacity: 0.6;\r\n  }\r\n  text-align: end;\r\n  user-select: none;\r\n`\r\n\r\nconst DataText = styled(Flex)`\r\n  align-items: center;\r\n  text-align: center;\r\n  color: ${({ theme }) => theme.text1};\r\n\r\n  & > * {\r\n    font-size: 14px;\r\n  }\r\n\r\n  @media screen and (max-width: 600px) {\r\n    font-size: 12px;\r\n  }\r\n`\r\n\r\nconst SORT_FIELD = {\r\n  LIQ: 0,\r\n  VOL: 1,\r\n  VOL_7DAYS: 3,\r\n  FEES: 4,\r\n  APY: 5\r\n}\r\n\r\nconst FIELD_TO_VALUE = {\r\n  [SORT_FIELD.LIQ]: 'trackedReserveUSD', // sort with tracked volume only\r\n  [SORT_FIELD.VOL]: 'oneDayVolumeUSD',\r\n  [SORT_FIELD.VOL_7DAYS]: 'oneWeekVolumeUSD',\r\n  [SORT_FIELD.FEES]: 'oneDayVolumeUSD'\r\n}\r\n\r\nfunction PairList({ pairs, color, disbaleLinks, maxItems = 10 }) {\r\n  const below600 = useMedia('(max-width: 600px)')\r\n  const below740 = useMedia('(max-width: 740px)')\r\n  const below1080 = useMedia('(max-width: 1080px)')\r\n\r\n  // pagination\r\n  const [page, setPage] = useState(1)\r\n  const [maxPage, setMaxPage] = useState(1)\r\n  const ITEMS_PER_PAGE = maxItems\r\n\r\n  // sorting\r\n  const [sortDirection, setSortDirection] = useState(true)\r\n  const [sortedColumn, setSortedColumn] = useState(SORT_FIELD.LIQ)\r\n\r\n  useEffect(() => {\r\n    setMaxPage(1) // edit this to do modular\r\n    setPage(1)\r\n  }, [pairs])\r\n\r\n  useEffect(() => {\r\n    if (pairs) {\r\n      let extraPages = 1\r\n      if (Object.keys(pairs).length % ITEMS_PER_PAGE === 0) {\r\n        extraPages = 0\r\n      }\r\n      setMaxPage(Math.floor(Object.keys(pairs).length / ITEMS_PER_PAGE) + extraPages)\r\n    }\r\n  }, [ITEMS_PER_PAGE, pairs])\r\n\r\n  const ListItem = ({ pairAddress, index }) => {\r\n    const pairData = pairs[pairAddress]\r\n\r\n    if (pairData && pairData.token0 && pairData.token1) {\r\n      const liquidity = formattedNum(pairData.reserveUSD, true)\r\n      const volume = formattedNum(pairData.oneDayVolumeUSD, true)\r\n      const apy = formattedPercent((pairData.oneDayVolumeUSD * 0.003 * 365 * 100) / pairData.reserveUSD)\r\n\r\n      return (\r\n        <DashGrid style={{ height: '48px' }} disbaleLinks={disbaleLinks} focus={true}>\r\n          <DataText area=\"name\" fontWeight=\"500\">\r\n            {!below600 && <div style={{ marginRight: '20px', width: '10px' }}>{index}</div>}\r\n            <DoubleTokenLogo\r\n              size={below600 ? 16 : 20}\r\n              a0={pairData.token0.id}\r\n              a1={pairData.token1.id}\r\n              margin={!below740}\r\n            />\r\n            <CustomLink style={{ marginLeft: '20px', whiteSpace: 'nowrap' }} to={'/pair/' + pairAddress} color={color}>\r\n              <FormattedName\r\n                text={pairData.token0.symbol + '-' + pairData.token1.symbol}\r\n                maxCharacters={below600 ? 8 : 16}\r\n                adjustSize={true}\r\n                link={true}\r\n              />\r\n            </CustomLink>\r\n          </DataText>\r\n          <DataText area=\"liq\">{liquidity}</DataText>\r\n          <DataText area=\"vol\">{volume}</DataText>\r\n          {!below1080 && <DataText area=\"volWeek\">{formattedNum(pairData.oneWeekVolumeUSD, true)}</DataText>}\r\n          {!below1080 && <DataText area=\"fees\">{formattedNum(pairData.oneDayVolumeUSD * 0.003, true)}</DataText>}\r\n          {!below1080 && <DataText area=\"apy\">{apy}</DataText>}\r\n        </DashGrid>\r\n      )\r\n    } else {\r\n      return ''\r\n    }\r\n  }\r\n\r\n  const pairList =\r\n    pairs &&\r\n    Object.keys(pairs)\r\n      .sort((addressA, addressB) => {\r\n        const pairA = pairs[addressA]\r\n        const pairB = pairs[addressB]\r\n        if (sortedColumn === SORT_FIELD.APY) {\r\n          const apy0 = parseFloat(pairA.oneDayVolumeUSD * 0.003 * 356 * 100) / parseFloat(pairA.reserveUSD)\r\n          const apy1 = parseFloat(pairB.oneDayVolumeUSD * 0.003 * 356 * 100) / parseFloat(pairB.reserveUSD)\r\n          return apy0 > apy1 ? (sortDirection ? -1 : 1) * 1 : (sortDirection ? -1 : 1) * -1\r\n        }\r\n        return parseFloat(pairA[FIELD_TO_VALUE[sortedColumn]]) > parseFloat(pairB[FIELD_TO_VALUE[sortedColumn]])\r\n          ? (sortDirection ? -1 : 1) * 1\r\n          : (sortDirection ? -1 : 1) * -1\r\n      })\r\n      .filter(pairAddress => {\r\n        return !PAIR_BLACKLIST.includes(pairAddress)\r\n      })\r\n      .slice(ITEMS_PER_PAGE * (page - 1), page * ITEMS_PER_PAGE)\r\n      .map((pairAddress, index) => {\r\n        return (\r\n          pairAddress && (\r\n            <div key={index}>\r\n              <ListItem key={index} index={(page - 1) * ITEMS_PER_PAGE + index + 1} pairAddress={pairAddress} />\r\n              <Divider />\r\n            </div>\r\n          )\r\n        )\r\n      })\r\n\r\n  return (\r\n    <ListWrapper>\r\n      <DashGrid\r\n        center={true}\r\n        disbaleLinks={disbaleLinks}\r\n        style={{ height: 'fit-content', padding: '0 1.125rem 1rem 1.125rem' }}\r\n      >\r\n        <Flex alignItems=\"center\" justifyContent=\"flexStart\">\r\n          <TYPE.main area=\"name\">Name</TYPE.main>\r\n        </Flex>\r\n        <Flex alignItems=\"center\" justifyContent=\"flexEnd\">\r\n          <ClickableText\r\n            area=\"liq\"\r\n            onClick={e => {\r\n              setSortedColumn(SORT_FIELD.LIQ)\r\n              setSortDirection(sortedColumn !== SORT_FIELD.LIQ ? true : !sortDirection)\r\n            }}\r\n          >\r\n            Liquidity {sortedColumn === SORT_FIELD.LIQ ? (!sortDirection ? '↑' : '↓') : ''}\r\n          </ClickableText>\r\n        </Flex>\r\n        <Flex alignItems=\"center\">\r\n          <ClickableText\r\n            area=\"vol\"\r\n            onClick={e => {\r\n              setSortedColumn(SORT_FIELD.VOL)\r\n              setSortDirection(sortedColumn !== SORT_FIELD.VOL ? true : !sortDirection)\r\n            }}\r\n          >\r\n            Volume (24hrs)\r\n            {sortedColumn === SORT_FIELD.VOL ? (!sortDirection ? '↑' : '↓') : ''}\r\n          </ClickableText>\r\n        </Flex>\r\n        {!below1080 && (\r\n          <Flex alignItems=\"center\" justifyContent=\"flexEnd\">\r\n            <ClickableText\r\n              area=\"volWeek\"\r\n              onClick={e => {\r\n                setSortedColumn(SORT_FIELD.VOL_7DAYS)\r\n                setSortDirection(sortedColumn !== SORT_FIELD.VOL_7DAYS ? true : !sortDirection)\r\n              }}\r\n            >\r\n              Volume (7d) {sortedColumn === SORT_FIELD.VOL_7DAYS ? (!sortDirection ? '↑' : '↓') : ''}\r\n            </ClickableText>\r\n          </Flex>\r\n        )}\r\n        {!below1080 && (\r\n          <Flex alignItems=\"center\" justifyContent=\"flexEnd\">\r\n            <ClickableText\r\n              area=\"fees\"\r\n              onClick={e => {\r\n                setSortedColumn(SORT_FIELD.FEES)\r\n                setSortDirection(sortedColumn !== SORT_FIELD.FEES ? true : !sortDirection)\r\n              }}\r\n            >\r\n              Fees (24hr) {sortedColumn === SORT_FIELD.FEES ? (!sortDirection ? '↑' : '↓') : ''}\r\n            </ClickableText>\r\n          </Flex>\r\n        )}\r\n        {!below1080 && (\r\n          <Flex alignItems=\"center\" justifyContent=\"flexEnd\">\r\n            <ClickableText\r\n              area=\"apy\"\r\n              onClick={e => {\r\n                setSortedColumn(SORT_FIELD.APY)\r\n                setSortDirection(sortedColumn !== SORT_FIELD.APY ? true : !sortDirection)\r\n              }}\r\n            >\r\n              1y Fees / Liquidity {sortedColumn === SORT_FIELD.APY ? (!sortDirection ? '↑' : '↓') : ''}\r\n            </ClickableText>\r\n            <QuestionHelper text={'Based on 24hr volume annualized'} />\r\n          </Flex>\r\n        )}\r\n      </DashGrid>\r\n      <Divider />\r\n      <List p={0}>{!pairList ? <LocalLoader /> : pairList}</List>\r\n      <PageButtons>\r\n        <div\r\n          onClick={e => {\r\n            setPage(page === 1 ? page : page - 1)\r\n          }}\r\n        >\r\n          <Arrow faded={page === 1 ? true : false}>←</Arrow>\r\n        </div>\r\n        <TYPE.body>{'Page ' + page + ' of ' + maxPage}</TYPE.body>\r\n        <div\r\n          onClick={e => {\r\n            setPage(page === maxPage ? page : page + 1)\r\n          }}\r\n        >\r\n          <Arrow faded={page === maxPage ? true : false}>→</Arrow>\r\n        </div>\r\n      </PageButtons>\r\n    </ListWrapper>\r\n  )\r\n}\r\n\r\nexport default withRouter(PairList)\r\n","import React, { useState, useEffect, useMemo } from 'react'\r\nimport styled from 'styled-components'\r\nimport dayjs from 'dayjs'\r\nimport utc from 'dayjs/plugin/utc'\r\n\r\nimport { Box, Flex, Text } from 'rebass'\r\nimport TokenLogo from '../TokenLogo'\r\nimport { CustomLink } from '../Link'\r\nimport Row from '../Row'\r\nimport { Divider } from '..'\r\n\r\nimport { formattedNum, formattedPercent } from '../../utils'\r\nimport { useMedia } from 'react-use'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { OVERVIEW_TOKEN_BLACKLIST } from '../../constants'\r\nimport FormattedName from '../FormattedName'\r\nimport { TYPE } from '../../Theme'\r\n\r\ndayjs.extend(utc)\r\n\r\nconst PageButtons = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 2em;\r\n  margin-bottom: 2em;\r\n`\r\n\r\nconst Arrow = styled.div`\r\n  color: ${({ theme }) => theme.primary1};\r\n  opacity: ${props => (props.faded ? 0.3 : 1)};\r\n  padding: 0 20px;\r\n  user-select: none;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst List = styled(Box)`\r\n  -webkit-overflow-scrolling: touch;\r\n`\r\n\r\nconst DashGrid = styled.div`\r\n  display: grid;\r\n  grid-gap: 1em;\r\n  grid-template-columns: 100px 1fr 1fr;\r\n  grid-template-areas: 'name liq vol';\r\n  padding: 0 1.125rem;\r\n\r\n  > * {\r\n    justify-content: flex-end;\r\n\r\n    &:first-child {\r\n      justify-content: flex-start;\r\n      text-align: left;\r\n      width: 100px;\r\n    }\r\n  }\r\n\r\n  @media screen and (min-width: 680px) {\r\n    display: grid;\r\n    grid-gap: 1em;\r\n    grid-template-columns: 180px 1fr 1fr 1fr;\r\n    grid-template-areas: 'name symbol liq vol ';\r\n\r\n    > * {\r\n      justify-content: flex-end;\r\n      width: 100%;\r\n\r\n      &:first-child {\r\n        justify-content: flex-start;\r\n      }\r\n    }\r\n  }\r\n\r\n  @media screen and (min-width: 1080px) {\r\n    display: grid;\r\n    grid-gap: 0.5em;\r\n    grid-template-columns: 1.5fr 0.6fr 1fr 1fr 1fr 1fr;\r\n    grid-template-areas: 'name symbol liq vol price change';\r\n  }\r\n`\r\n\r\nconst ListWrapper = styled.div``\r\n\r\nconst ClickableText = styled(Text)`\r\n  text-align: end;\r\n  &:hover {\r\n    cursor: pointer;\r\n    opacity: 0.6;\r\n  }\r\n  user-select: none;\r\n  color: ${({ theme }) => theme.text1};\r\n\r\n  @media screen and (max-width: 640px) {\r\n    font-size: 0.85rem;\r\n  }\r\n`\r\n\r\nconst DataText = styled(Flex)`\r\n  align-items: center;\r\n  text-align: center;\r\n  color: ${({ theme }) => theme.text1};\r\n\r\n  & > * {\r\n    font-size: 14px;\r\n  }\r\n\r\n  @media screen and (max-width: 600px) {\r\n    font-size: 12px;\r\n  }\r\n`\r\n\r\nconst SORT_FIELD = {\r\n  LIQ: 'totalLiquidityUSD',\r\n  VOL: 'oneDayVolumeUSD',\r\n  SYMBOL: 'symbol',\r\n  NAME: 'name',\r\n  PRICE: 'priceUSD',\r\n  CHANGE: 'priceChangeUSD'\r\n}\r\n\r\n// @TODO rework into virtualized list\r\nfunction TopTokenList({ tokens, itemMax = 10 }) {\r\n  // page state\r\n  const [page, setPage] = useState(1)\r\n  const [maxPage, setMaxPage] = useState(1)\r\n\r\n  // sorting\r\n  const [sortDirection, setSortDirection] = useState(true)\r\n  const [sortedColumn, setSortedColumn] = useState(SORT_FIELD.LIQ)\r\n\r\n  const below1080 = useMedia('(max-width: 1080px)')\r\n  const below680 = useMedia('(max-width: 680px)')\r\n  const below600 = useMedia('(max-width: 600px)')\r\n\r\n  useEffect(() => {\r\n    setMaxPage(1) // edit this to do modular\r\n    setPage(1)\r\n  }, [tokens])\r\n\r\n  const formattedTokens = useMemo(() => {\r\n    return (\r\n      tokens &&\r\n      Object.keys(tokens)\r\n        .filter(key => {\r\n          return !OVERVIEW_TOKEN_BLACKLIST.includes(key)\r\n        })\r\n        .map(key => tokens[key])\r\n    )\r\n  }, [tokens])\r\n\r\n  useEffect(() => {\r\n    if (tokens && formattedTokens) {\r\n      let extraPages = 1\r\n      if (formattedTokens.length % itemMax === 0) {\r\n        extraPages = 0\r\n      }\r\n      setMaxPage(Math.floor(formattedTokens.length / itemMax) + extraPages)\r\n    }\r\n  }, [tokens, formattedTokens, itemMax])\r\n\r\n  const filteredList = useMemo(() => {\r\n    return (\r\n      formattedTokens &&\r\n      formattedTokens\r\n        .sort((a, b) => {\r\n          if (sortedColumn === SORT_FIELD.SYMBOL || sortedColumn === SORT_FIELD.NAME) {\r\n            return a[sortedColumn] > b[sortedColumn] ? (sortDirection ? -1 : 1) * 1 : (sortDirection ? -1 : 1) * -1\r\n          }\r\n          return parseFloat(a[sortedColumn]) > parseFloat(b[sortedColumn])\r\n            ? (sortDirection ? -1 : 1) * 1\r\n            : (sortDirection ? -1 : 1) * -1\r\n        })\r\n        .slice(itemMax * (page - 1), page * itemMax)\r\n    )\r\n  }, [formattedTokens, itemMax, page, sortDirection, sortedColumn])\r\n\r\n  const ListItem = ({ item, index }) => {\r\n    return (\r\n      <DashGrid style={{ height: '48px' }} focus={true}>\r\n        <DataText area=\"name\" fontWeight=\"500\">\r\n          <Row>\r\n            {!below680 && <div style={{ marginRight: '1rem', width: '10px' }}>{index}</div>}\r\n            <TokenLogo address={item.id} />\r\n            <CustomLink style={{ marginLeft: '16px', whiteSpace: 'nowrap' }} to={'/token/' + item.id}>\r\n              <FormattedName\r\n                text={below680 ? item.symbol : item.name}\r\n                maxCharacters={below600 ? 8 : 16}\r\n                adjustSize={true}\r\n                link={true}\r\n              />\r\n            </CustomLink>\r\n          </Row>\r\n        </DataText>\r\n        {!below680 && (\r\n          <DataText area=\"symbol\" color=\"text\" fontWeight=\"500\">\r\n            <FormattedName text={item.symbol} maxCharacters={5} />\r\n          </DataText>\r\n        )}\r\n        <DataText area=\"liq\">{formattedNum(item.totalLiquidityUSD, true)}</DataText>\r\n        <DataText area=\"vol\">{formattedNum(item.oneDayVolumeUSD, true)}</DataText>\r\n        {!below1080 && (\r\n          <DataText area=\"price\" color=\"text\" fontWeight=\"500\">\r\n            {formattedNum(item.priceUSD, true)}\r\n          </DataText>\r\n        )}\r\n        {!below1080 && <DataText area=\"change\">{formattedPercent(item.priceChangeUSD)}</DataText>}\r\n      </DashGrid>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <ListWrapper>\r\n      <DashGrid center={true} style={{ height: 'fit-content', padding: '0 1.125rem 1rem 1.125rem' }}>\r\n        <Flex alignItems=\"center\" justifyContent=\"flexStart\">\r\n          <ClickableText\r\n            color=\"text\"\r\n            area=\"name\"\r\n            fontWeight=\"500\"\r\n            onClick={e => {\r\n              setSortedColumn(SORT_FIELD.NAME)\r\n              setSortDirection(sortedColumn !== SORT_FIELD.NAMe ? true : !sortDirection)\r\n            }}\r\n          >\r\n            {below680 ? 'Symbol' : 'Name'} {sortedColumn === SORT_FIELD.NAME ? (!sortDirection ? '↑' : '↓') : ''}\r\n          </ClickableText>\r\n        </Flex>\r\n        {!below680 && (\r\n          <Flex alignItems=\"center\">\r\n            <ClickableText\r\n              area=\"symbol\"\r\n              onClick={e => {\r\n                setSortedColumn(SORT_FIELD.SYMBOL)\r\n                setSortDirection(sortedColumn !== SORT_FIELD.SYMBOL ? true : !sortDirection)\r\n              }}\r\n            >\r\n              Symbol {sortedColumn === SORT_FIELD.SYMBOL ? (!sortDirection ? '↑' : '↓') : ''}\r\n            </ClickableText>\r\n          </Flex>\r\n        )}\r\n\r\n        <Flex alignItems=\"center\">\r\n          <ClickableText\r\n            area=\"liq\"\r\n            onClick={e => {\r\n              setSortedColumn(SORT_FIELD.LIQ)\r\n              setSortDirection(sortedColumn !== SORT_FIELD.LIQ ? true : !sortDirection)\r\n            }}\r\n          >\r\n            Liquidity {sortedColumn === SORT_FIELD.LIQ ? (!sortDirection ? '↑' : '↓') : ''}\r\n          </ClickableText>\r\n        </Flex>\r\n        <Flex alignItems=\"center\">\r\n          <ClickableText\r\n            area=\"vol\"\r\n            onClick={e => {\r\n              setSortedColumn(SORT_FIELD.VOL)\r\n              setSortDirection(sortedColumn !== SORT_FIELD.VOL ? true : !sortDirection)\r\n            }}\r\n          >\r\n            Volume (24hrs)\r\n            {sortedColumn === SORT_FIELD.VOL ? (!sortDirection ? '↑' : '↓') : ''}\r\n          </ClickableText>\r\n        </Flex>\r\n        {!below1080 && (\r\n          <Flex alignItems=\"center\">\r\n            <ClickableText\r\n              area=\"price\"\r\n              onClick={e => {\r\n                setSortedColumn(SORT_FIELD.PRICE)\r\n                setSortDirection(sortedColumn !== SORT_FIELD.PRICE ? true : !sortDirection)\r\n              }}\r\n            >\r\n              Price {sortedColumn === SORT_FIELD.PRICE ? (!sortDirection ? '↑' : '↓') : ''}\r\n            </ClickableText>\r\n          </Flex>\r\n        )}\r\n        {!below1080 && (\r\n          <Flex alignItems=\"center\">\r\n            <ClickableText\r\n              area=\"change\"\r\n              onClick={e => {\r\n                setSortedColumn(SORT_FIELD.CHANGE)\r\n                setSortDirection(sortedColumn !== SORT_FIELD.CHANGE ? true : !sortDirection)\r\n              }}\r\n            >\r\n              Price Change (24hrs)\r\n              {sortedColumn === SORT_FIELD.CHANGE ? (!sortDirection ? '↑' : '↓') : ''}\r\n            </ClickableText>\r\n          </Flex>\r\n        )}\r\n      </DashGrid>\r\n      <Divider />\r\n      <List p={0}>\r\n        {filteredList &&\r\n          filteredList.map((item, index) => {\r\n            return (\r\n              <div key={index}>\r\n                <ListItem key={index} index={(page - 1) * itemMax + index + 1} item={item} />\r\n                <Divider />\r\n              </div>\r\n            )\r\n          })}\r\n      </List>\r\n      <PageButtons>\r\n        <div onClick={() => setPage(page === 1 ? page : page - 1)}>\r\n          <Arrow faded={page === 1 ? true : false}>←</Arrow>\r\n        </div>\r\n        <TYPE.body>{'Page ' + page + ' of ' + maxPage}</TYPE.body>\r\n        <div onClick={() => setPage(page === maxPage ? page : page + 1)}>\r\n          <Arrow faded={page === maxPage ? true : false}>→</Arrow>\r\n        </div>\r\n      </PageButtons>\r\n    </ListWrapper>\r\n  )\r\n}\r\n\r\nexport default withRouter(TopTokenList)\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport Row, { RowBetween } from '../Row'\r\nimport { AutoColumn } from '../Column'\r\nimport { ChevronDown as Arrow } from 'react-feather'\r\nimport { TYPE } from '../../Theme'\r\nimport { StyledIcon } from '..'\r\n\r\nconst Wrapper = styled.div`\r\n  z-index: 20;\r\n  position: relative;\r\n  background-color: ${({ theme }) => theme.panelColor};\r\n  border: 1px solid ${({ open, color }) => (open ? color : 'rgba(0, 0, 0, 0.15);')} \r\n  width: 100px;\r\n  padding: 4px 10px;\r\n  padding-right: 6px;\r\n  border-radius: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst Dropdown = styled.div`\r\n  position: absolute;\r\n  top: 34px;\r\n  padding-top: 40px;\r\n  width: calc(100% - 40px);\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  border: 1px solid rgba(0, 0, 0, 0.15);\r\n  padding: 10px 10px;\r\n  border-radius: 8px;\r\n  width: calc(100% - 20px);\r\n  font-weight: 500;\r\n  font-size: 1rem;\r\n  color: black;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst ArrowStyled = styled(Arrow)`\r\n  height: 20px;\r\n  width: 20px;\r\n  margin-left: 6px;\r\n`\r\n\r\nconst DropdownSelect = ({ options, active, setActive, color }) => {\r\n  const [showDropdown, toggleDropdown] = useState(false)\r\n\r\n  return (\r\n    <Wrapper open={showDropdown} color={color}>\r\n      <RowBetween onClick={() => toggleDropdown(!showDropdown)} justify=\"center\">\r\n        <TYPE.main>{active}</TYPE.main>\r\n        <StyledIcon>\r\n          <ArrowStyled />\r\n        </StyledIcon>\r\n      </RowBetween>\r\n      {showDropdown && (\r\n        <Dropdown>\r\n          <AutoColumn gap=\"20px\">\r\n            {Object.keys(options).map((key, index) => {\r\n              let option = options[key]\r\n              return (\r\n                option !== active && (\r\n                  <Row\r\n                    onClick={() => {\r\n                      toggleDropdown(!showDropdown)\r\n                      setActive(option)\r\n                    }}\r\n                    key={index}\r\n                  >\r\n                    <TYPE.body fontSize={14}>{option}</TYPE.body>\r\n                  </Row>\r\n                )\r\n              )\r\n            })}\r\n          </AutoColumn>\r\n        </Dropdown>\r\n      )}\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default DropdownSelect\r\n","import React, { useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport dayjs from 'dayjs'\r\nimport utc from 'dayjs/plugin/utc'\r\n\r\nimport { formatTime, formattedNum, urls } from '../../utils'\r\nimport { useMedia } from 'react-use'\r\nimport { useCurrentCurrency } from '../../contexts/Application'\r\nimport { RowFixed, RowBetween } from '../Row'\r\n\r\nimport LocalLoader from '../LocalLoader'\r\nimport { Box, Flex, Text } from 'rebass'\r\nimport Link from '../Link'\r\nimport { Divider, EmptyCard } from '..'\r\nimport DropdownSelect from '../DropdownSelect'\r\nimport FormattedName from '../FormattedName'\r\nimport { TYPE } from '../../Theme'\r\n\r\ndayjs.extend(utc)\r\n\r\nconst PageButtons = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 2em;\r\n  margin-bottom: 0.5em;\r\n`\r\n\r\nconst Arrow = styled.div`\r\n  color: #2f80ed;\r\n  opacity: ${props => (props.faded ? 0.3 : 1)};\r\n  padding: 0 20px;\r\n  user-select: none;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst List = styled(Box)`\r\n  -webkit-overflow-scrolling: touch;\r\n`\r\n\r\nconst DashGrid = styled.div`\r\n  display: grid;\r\n  grid-gap: 1em;\r\n  grid-template-columns: 100px 1fr 1fr;\r\n  grid-template-areas: 'txn value time';\r\n\r\n  > * {\r\n    justify-content: flex-end;\r\n    width: 100%;\r\n\r\n    &:first-child {\r\n      justify-content: flex-start;\r\n      text-align: left;\r\n      width: 100px;\r\n    }\r\n  }\r\n\r\n  @media screen and (min-width: 500px) {\r\n    > * {\r\n      &:first-child {\r\n        width: 180px;\r\n      }\r\n    }\r\n  }\r\n\r\n  @media screen and (min-width: 780px) {\r\n    max-width: 1320px;\r\n    grid-template-columns: 1.2fr 1fr 1fr 1fr 1fr;\r\n    grid-template-areas: 'txn value amountToken amountOther time';\r\n\r\n    > * {\r\n      &:first-child {\r\n        width: 180px;\r\n      }\r\n    }\r\n  }\r\n\r\n  @media screen and (min-width: 1080px) {\r\n    max-width: 1320px;\r\n    grid-template-columns: 1.2fr 1fr 1fr 1fr 1fr 1fr;\r\n    grid-template-areas: 'txn value amountToken amountOther account time';\r\n  }\r\n`\r\n\r\nconst ClickableText = styled(Text)`\r\n  color: ${({ theme }) => theme.text1};\r\n  user-select: none;\r\n  text-align: end;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    opacity: 0.6;\r\n  }\r\n\r\n  @media screen and (max-width: 640px) {\r\n    font-size: 14px;\r\n  }\r\n`\r\n\r\nconst DataText = styled(Flex)`\r\n  align-items: center;\r\n  text-align: right;\r\n  color: ${({ theme }) => theme.text1};\r\n\r\n  & > * {\r\n    font-size: 1em;\r\n  }\r\n\r\n  @media screen and (max-width: 40em) {\r\n    font-size: 0.85rem;\r\n  }\r\n`\r\n\r\nconst SortText = styled.button`\r\n  cursor: pointer;\r\n  font-weight: ${({ active, theme }) => (active ? 500 : 400)};\r\n  margin-right: 0.75rem !important;\r\n  border: none;\r\n  background-color: transparent;\r\n  font-size: 1rem;\r\n  padding: 0px;\r\n  color: ${({ active, theme }) => (active ? theme.text1 : theme.text3)};\r\n  outline: none;\r\n\r\n  @media screen and (max-width: 600px) {\r\n    font-size: 14px;\r\n  }\r\n`\r\n\r\nconst SORT_FIELD = {\r\n  VALUE: 'amountUSD',\r\n  AMOUNT0: 'token0Amount',\r\n  AMOUNT1: 'token1Amount',\r\n  TIMESTAMP: 'timestamp'\r\n}\r\n\r\nconst TXN_TYPE = {\r\n  ALL: 'All',\r\n  SWAP: 'Swaps',\r\n  ADD: 'Adds',\r\n  REMOVE: 'Removes'\r\n}\r\n\r\nconst ITEMS_PER_PAGE = 10\r\n\r\nfunction getTransactionType(event, symbol0, symbol1) {\r\n  const formattedS0 = symbol0?.length > 8 ? symbol0.slice(0, 7) + '...' : symbol0\r\n  const formattedS1 = symbol1?.length > 8 ? symbol1.slice(0, 7) + '...' : symbol1\r\n  switch (event) {\r\n    case TXN_TYPE.ADD:\r\n      return 'Add ' + formattedS0 + ' and ' + formattedS1\r\n    case TXN_TYPE.REMOVE:\r\n      return 'Remove ' + formattedS0 + ' and ' + formattedS1\r\n    case TXN_TYPE.SWAP:\r\n      return 'Swap ' + formattedS0 + ' for ' + formattedS1\r\n    default:\r\n      return ''\r\n  }\r\n}\r\n\r\n// @TODO rework into virtualized list\r\nfunction TxnList({ transactions, symbol0Override, symbol1Override, color }) {\r\n  // page state\r\n  const [page, setPage] = useState(1)\r\n  const [maxPage, setMaxPage] = useState(1)\r\n\r\n  // sorting\r\n  const [sortDirection, setSortDirection] = useState(true)\r\n  const [sortedColumn, setSortedColumn] = useState(SORT_FIELD.TIMESTAMP)\r\n  const [filteredItems, setFilteredItems] = useState()\r\n  const [txFilter, setTxFilter] = useState(TXN_TYPE.ALL)\r\n\r\n  const [currency] = useCurrentCurrency()\r\n\r\n  useEffect(() => {\r\n    setMaxPage(1) // edit this to do modular\r\n    setPage(1)\r\n  }, [transactions])\r\n\r\n  // parse the txns and format for UI\r\n  useEffect(() => {\r\n    if (transactions && transactions.mints && transactions.burns && transactions.swaps) {\r\n      let newTxns = []\r\n      if (transactions.mints.length > 0) {\r\n        transactions.mints.map(mint => {\r\n          let newTxn = {}\r\n          newTxn.hash = mint.transaction.id\r\n          newTxn.timestamp = mint.transaction.timestamp\r\n          newTxn.type = TXN_TYPE.ADD\r\n          newTxn.token0Amount = mint.amount0\r\n          newTxn.token1Amount = mint.amount1\r\n          newTxn.account = mint.to\r\n          newTxn.token0Symbol = mint.pair.token0.symbol\r\n          newTxn.token1Symbol = mint.pair.token1.symbol\r\n          newTxn.amountUSD = mint.amountUSD\r\n          return newTxns.push(newTxn)\r\n        })\r\n      }\r\n      if (transactions.burns.length > 0) {\r\n        transactions.burns.map(burn => {\r\n          let newTxn = {}\r\n          newTxn.hash = burn.transaction.id\r\n          newTxn.timestamp = burn.transaction.timestamp\r\n          newTxn.type = TXN_TYPE.REMOVE\r\n          newTxn.token0Amount = burn.amount0\r\n          newTxn.token1Amount = burn.amount1\r\n          newTxn.account = burn.sender\r\n          newTxn.token0Symbol = burn.pair.token0.symbol\r\n          newTxn.token1Symbol = burn.pair.token1.symbol\r\n          newTxn.amountUSD = burn.amountUSD\r\n          return newTxns.push(newTxn)\r\n        })\r\n      }\r\n      if (transactions.swaps.length > 0) {\r\n        transactions.swaps.map(swap => {\r\n          const netToken0 = swap.amount0In - swap.amount0Out\r\n          const netToken1 = swap.amount1In - swap.amount1Out\r\n\r\n          let newTxn = {}\r\n\r\n          if (netToken0 < 0) {\r\n            newTxn.token0Symbol = swap.pair.token0.symbol\r\n            newTxn.token1Symbol = swap.pair.token1.symbol\r\n            newTxn.token0Amount = Math.abs(netToken0)\r\n            newTxn.token1Amount = Math.abs(netToken1)\r\n          } else if (netToken1 < 0) {\r\n            newTxn.token0Symbol = swap.pair.token1.symbol\r\n            newTxn.token1Symbol = swap.pair.token0.symbol\r\n            newTxn.token0Amount = Math.abs(netToken1)\r\n            newTxn.token1Amount = Math.abs(netToken0)\r\n          }\r\n\r\n          newTxn.hash = swap.transaction.id\r\n          newTxn.timestamp = swap.transaction.timestamp\r\n          newTxn.type = TXN_TYPE.SWAP\r\n\r\n          newTxn.amountUSD = swap.amountUSD\r\n          newTxn.account = swap.to\r\n          return newTxns.push(newTxn)\r\n        })\r\n      }\r\n\r\n      const filtered = newTxns.filter(item => {\r\n        if (txFilter !== TXN_TYPE.ALL) {\r\n          return item.type === txFilter\r\n        }\r\n        return true\r\n      })\r\n      setFilteredItems(filtered)\r\n      let extraPages = 1\r\n      if (filtered.length % ITEMS_PER_PAGE === 0) {\r\n        extraPages = 0\r\n      }\r\n      if (filtered.length === 0) {\r\n        setMaxPage(1)\r\n      } else {\r\n        setMaxPage(Math.floor(filtered.length / ITEMS_PER_PAGE) + extraPages)\r\n      }\r\n    }\r\n  }, [transactions, txFilter])\r\n\r\n  useEffect(() => {\r\n    setPage(1)\r\n  }, [txFilter])\r\n\r\n  const filteredList =\r\n    filteredItems &&\r\n    filteredItems\r\n      .sort((a, b) => {\r\n        return parseFloat(a[sortedColumn]) > parseFloat(b[sortedColumn])\r\n          ? (sortDirection ? -1 : 1) * 1\r\n          : (sortDirection ? -1 : 1) * -1\r\n      })\r\n      .slice(ITEMS_PER_PAGE * (page - 1), page * ITEMS_PER_PAGE)\r\n\r\n  const below1080 = useMedia('(max-width: 1080px)')\r\n  const below780 = useMedia('(max-width: 780px)')\r\n\r\n  const ListItem = ({ item }) => {\r\n    if (item.token0Symbol === 'WBNB') {\r\n      item.token0Symbol = 'BNB'\r\n    }\r\n\r\n    if (item.token1Symbol === 'WBNB') {\r\n      item.token1Symbol = 'BNB'\r\n    }\r\n\r\n    return (\r\n      <DashGrid style={{ height: '48px' }}>\r\n        <DataText area=\"txn\" fontWeight=\"500\">\r\n          <Link color={color} external href={urls.showTransaction(item.hash)}>\r\n            {getTransactionType(item.type, item.token1Symbol, item.token0Symbol)}\r\n          </Link>\r\n        </DataText>\r\n        <DataText area=\"value\">\r\n          {currency === 'BNB' ? 'B ' + formattedNum(item.valueBNB) : formattedNum(item.amountUSD, true)}\r\n        </DataText>\r\n        {!below780 && (\r\n          <>\r\n            <DataText area=\"amountOther\">\r\n              {formattedNum(item.token1Amount) + ' '}{' '}\r\n              <FormattedName text={item.token1Symbol} maxCharacters={5} margin={true} />\r\n            </DataText>\r\n            <DataText area=\"amountToken\">\r\n              {formattedNum(item.token0Amount) + ' '}{' '}\r\n              <FormattedName text={item.token0Symbol} maxCharacters={5} margin={true} />\r\n            </DataText>\r\n          </>\r\n        )}\r\n        {!below1080 && (\r\n          <DataText area=\"account\">\r\n            <Link color={color} external href={'https://bscscan.com/address/' + item.account}>\r\n              {item.account && item.account.slice(0, 6) + '...' + item.account.slice(38, 42)}\r\n            </Link>\r\n          </DataText>\r\n        )}\r\n        <DataText area=\"time\">{formatTime(item.timestamp)}</DataText>\r\n      </DashGrid>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <DashGrid center={true} style={{ height: 'fit-content', padding: '0 0 1rem 0' }}>\r\n        {below780 ? (\r\n          <RowBetween area=\"txn\">\r\n            <DropdownSelect options={TXN_TYPE} active={txFilter} setActive={setTxFilter} color={color} />\r\n          </RowBetween>\r\n        ) : (\r\n          <RowFixed area=\"txn\" gap=\"10px\" pl={4}>\r\n            <SortText\r\n              onClick={() => {\r\n                setTxFilter(TXN_TYPE.ALL)\r\n              }}\r\n              active={txFilter === TXN_TYPE.ALL}\r\n            >\r\n              All\r\n            </SortText>\r\n            <SortText\r\n              onClick={() => {\r\n                setTxFilter(TXN_TYPE.SWAP)\r\n              }}\r\n              active={txFilter === TXN_TYPE.SWAP}\r\n            >\r\n              Swaps\r\n            </SortText>\r\n            <SortText\r\n              onClick={() => {\r\n                setTxFilter(TXN_TYPE.ADD)\r\n              }}\r\n              active={txFilter === TXN_TYPE.ADD}\r\n            >\r\n              Adds\r\n            </SortText>\r\n            <SortText\r\n              onClick={() => {\r\n                setTxFilter(TXN_TYPE.REMOVE)\r\n              }}\r\n              active={txFilter === TXN_TYPE.REMOVE}\r\n            >\r\n              Removes\r\n            </SortText>\r\n          </RowFixed>\r\n        )}\r\n\r\n        <Flex alignItems=\"center\" justifyContent=\"flexStart\">\r\n          <ClickableText\r\n            color=\"textDim\"\r\n            area=\"value\"\r\n            onClick={e => {\r\n              setSortedColumn(SORT_FIELD.VALUE)\r\n              setSortDirection(sortedColumn !== SORT_FIELD.VALUE ? true : !sortDirection)\r\n            }}\r\n          >\r\n            Total Value {sortedColumn === SORT_FIELD.VALUE ? (!sortDirection ? '↑' : '↓') : ''}\r\n          </ClickableText>\r\n        </Flex>\r\n        {!below780 && (\r\n          <Flex alignItems=\"center\">\r\n            <ClickableText\r\n              area=\"amountToken\"\r\n              color=\"textDim\"\r\n              onClick={() => {\r\n                setSortedColumn(SORT_FIELD.AMOUNT0)\r\n                setSortDirection(sortedColumn !== SORT_FIELD.AMOUNT0 ? true : !sortDirection)\r\n              }}\r\n            >\r\n              {symbol0Override ? symbol0Override + ' Amount' : 'Token Amount'}{' '}\r\n              {sortedColumn === SORT_FIELD.AMOUNT0 ? (sortDirection ? '↑' : '↓') : ''}\r\n            </ClickableText>\r\n          </Flex>\r\n        )}\r\n        <>\r\n          {!below780 && (\r\n            <Flex alignItems=\"center\">\r\n              <ClickableText\r\n                area=\"amountOther\"\r\n                color=\"textDim\"\r\n                onClick={() => {\r\n                  setSortedColumn(SORT_FIELD.AMOUNT1)\r\n                  setSortDirection(sortedColumn !== SORT_FIELD.AMOUNT1 ? true : !sortDirection)\r\n                }}\r\n              >\r\n                {symbol1Override ? symbol1Override + ' Amount' : 'Token Amount'}{' '}\r\n                {sortedColumn === SORT_FIELD.AMOUNT1 ? (sortDirection ? '↑' : '↓') : ''}\r\n              </ClickableText>\r\n            </Flex>\r\n          )}\r\n          {!below1080 && (\r\n            <Flex alignItems=\"center\">\r\n              <TYPE.body area=\"account\">Account</TYPE.body>\r\n            </Flex>\r\n          )}\r\n          <Flex alignItems=\"center\">\r\n            <ClickableText\r\n              area=\"time\"\r\n              color=\"textDim\"\r\n              onClick={() => {\r\n                setSortedColumn(SORT_FIELD.TIMESTAMP)\r\n                setSortDirection(sortedColumn !== SORT_FIELD.TIMESTAMP ? true : !sortDirection)\r\n              }}\r\n            >\r\n              Time {sortedColumn === SORT_FIELD.TIMESTAMP ? (!sortDirection ? '↑' : '↓') : ''}\r\n            </ClickableText>\r\n          </Flex>\r\n        </>\r\n      </DashGrid>\r\n      <Divider />\r\n      <List p={0}>\r\n        {!filteredList ? (\r\n          <LocalLoader />\r\n        ) : filteredList.length === 0 ? (\r\n          <EmptyCard>No recent transactions found.</EmptyCard>\r\n        ) : (\r\n          filteredList.map((item, index) => {\r\n            return (\r\n              <div key={index}>\r\n                <ListItem key={index} index={index + 1} item={item} />\r\n                <Divider />\r\n              </div>\r\n            )\r\n          })\r\n        )}\r\n      </List>\r\n      <PageButtons>\r\n        <div\r\n          onClick={e => {\r\n            setPage(page === 1 ? page : page - 1)\r\n          }}\r\n        >\r\n          <Arrow faded={page === 1 ? true : false}>←</Arrow>\r\n        </div>\r\n        <TYPE.body>{'Page ' + page + ' of ' + maxPage}</TYPE.body>\r\n        <div\r\n          onClick={e => {\r\n            setPage(page === maxPage ? page : page + 1)\r\n          }}\r\n        >\r\n          <Arrow faded={page === maxPage ? true : false}>→</Arrow>\r\n        </div>\r\n      </PageButtons>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TxnList\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport { createChart } from 'lightweight-charts'\r\nimport dayjs from 'dayjs'\r\nimport utc from 'dayjs/plugin/utc'\r\nimport { formattedNum } from '../../utils'\r\nimport styled from 'styled-components'\r\nimport { usePrevious } from 'react-use'\r\nimport { Play } from 'react-feather'\r\nimport { useDarkModeManager } from '../../contexts/LocalStorage'\r\nimport { IconWrapper } from '..'\r\n\r\ndayjs.extend(utc)\r\n\r\nexport const CHART_TYPES = {\r\n  BAR: 'BAR',\r\n  AREA: 'AREA'\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n`\r\n\r\n// constant height for charts\r\nconst HEIGHT = 300\r\n\r\nconst TradingViewChart = ({\r\n  type = CHART_TYPES.BAR,\r\n  data,\r\n  base,\r\n  baseChange,\r\n  field,\r\n  title,\r\n  width,\r\n  useWeekly = false\r\n}) => {\r\n  // reference for DOM element to create with chart\r\n  const ref = useRef()\r\n\r\n  // pointer to the chart object\r\n  const [chartCreated, setChartCreated] = useState(false)\r\n  const dataPrev = usePrevious(data)\r\n\r\n  useEffect(() => {\r\n    if (data !== dataPrev && chartCreated && type === CHART_TYPES.BAR) {\r\n      // remove the tooltip element\r\n      let tooltip = document.getElementById('tooltip-id' + type)\r\n      let node = document.getElementById('test-id' + type)\r\n      node.removeChild(tooltip)\r\n      chartCreated.resize(0, 0)\r\n      setChartCreated()\r\n    }\r\n  }, [chartCreated, data, dataPrev, type])\r\n\r\n  // parese the data and format for tardingview consumption\r\n  const formattedData = data?.map(entry => {\r\n    return {\r\n      time: dayjs.unix(entry.date).utc().format('YYYY-MM-DD'),\r\n      value: parseFloat(entry[field])\r\n    }\r\n  })\r\n\r\n  // adjust the scale based on the type of chart\r\n  const topScale = type === CHART_TYPES.AREA ? 0.32 : 0.2\r\n\r\n  const [darkMode] = useDarkModeManager()\r\n  const textColor = darkMode ? 'white' : 'black'\r\n  const previousTheme = usePrevious(darkMode)\r\n\r\n  // reset the chart if them switches\r\n  useEffect(() => {\r\n    if (chartCreated && previousTheme !== darkMode) {\r\n      // remove the tooltip element\r\n      let tooltip = document.getElementById('tooltip-id' + type)\r\n      let node = document.getElementById('test-id' + type)\r\n      node.removeChild(tooltip)\r\n      chartCreated.resize(0, 0)\r\n      setChartCreated()\r\n    }\r\n  }, [chartCreated, darkMode, previousTheme, type])\r\n\r\n  // if no chart created yet, create one with options and add to DOM manually\r\n  useEffect(() => {\r\n    if (!chartCreated && formattedData) {\r\n      var chart = createChart(ref.current, {\r\n        width: width,\r\n        height: HEIGHT,\r\n        layout: {\r\n          backgroundColor: 'transparent',\r\n          textColor: textColor\r\n        },\r\n        rightPriceScale: {\r\n          scaleMargins: {\r\n            top: topScale,\r\n            bottom: 0\r\n          },\r\n          borderVisible: false\r\n        },\r\n        timeScale: {\r\n          borderVisible: false\r\n        },\r\n        grid: {\r\n          horzLines: {\r\n            color: 'rgba(197, 203, 206, 0.5)',\r\n            visible: false\r\n          },\r\n          vertLines: {\r\n            color: 'rgba(197, 203, 206, 0.5)',\r\n            visible: false\r\n          }\r\n        },\r\n        crosshair: {\r\n          horzLine: {\r\n            visible: false,\r\n            labelVisible: false\r\n          },\r\n          vertLine: {\r\n            visible: true,\r\n            style: 0,\r\n            width: 2,\r\n            color: 'rgba(32, 38, 46, 0.1)',\r\n            labelVisible: false\r\n          }\r\n        },\r\n        localization: {\r\n          priceFormatter: val => formattedNum(val, true)\r\n        }\r\n      })\r\n\r\n      var series =\r\n        type === CHART_TYPES.BAR\r\n          ? chart.addHistogramSeries({\r\n              color: '#FFBB00',\r\n              priceFormat: {\r\n                type: 'volume'\r\n              },\r\n              scaleMargins: {\r\n                top: 0.32,\r\n                bottom: 0\r\n              },\r\n              lineColor: '#FFBB00',\r\n              lineWidth: 3\r\n            })\r\n          : chart.addAreaSeries({\r\n              topColor: '#FFBB00',\r\n              bottomColor: 'rgba(112, 82, 64, 0)',\r\n              lineColor: '#FFBB00',\r\n              lineWidth: 3\r\n            })\r\n\r\n      series.setData(formattedData)\r\n      var toolTip = document.createElement('div')\r\n      toolTip.setAttribute('id', 'tooltip-id' + type)\r\n      toolTip.className = darkMode ? 'three-line-legend-dark' : 'three-line-legend'\r\n      ref.current.appendChild(toolTip)\r\n      toolTip.style.display = 'block'\r\n      toolTip.style.fontWeight = '500'\r\n      toolTip.style.left = -4 + 'px'\r\n      toolTip.style.top = '-' + 8 + 'px'\r\n      toolTip.style.backgroundColor = 'transparent'\r\n\r\n      // format numbers\r\n      let percentChange = baseChange?.toFixed(2)\r\n      let formattedPercentChange = (percentChange > 0 ? '+' : '') + percentChange + '%'\r\n      let color = percentChange >= 0 ? 'green' : 'red'\r\n\r\n      // get the title of the chart\r\n      function setLastBarText() {\r\n        toolTip.innerHTML =\r\n          `<div style=\"font-size: 16px; margin: 4px 0px; color: ${textColor};\">${title} ${\r\n            type === CHART_TYPES.BAR && !useWeekly ? '(24hr)' : ''\r\n          }</div>` +\r\n          `<div style=\"font-size: 22px; margin: 4px 0px; color:${textColor}\" >` +\r\n          formattedNum(base ?? 0, true) +\r\n          `<span style=\"margin-left: 10px; font-size: 16px; color: ${color};\">${formattedPercentChange}</span>` +\r\n          '</div>'\r\n      }\r\n      setLastBarText()\r\n\r\n      // update the title when hovering on the chart\r\n      chart.subscribeCrosshairMove(function(param) {\r\n        if (\r\n          param === undefined ||\r\n          param.time === undefined ||\r\n          param.point.x < 0 ||\r\n          param.point.x > width ||\r\n          param.point.y < 0 ||\r\n          param.point.y > HEIGHT\r\n        ) {\r\n          setLastBarText()\r\n        } else {\r\n          let dateStr = useWeekly\r\n            ? dayjs(param.time.year + '-' + param.time.month + '-' + param.time.day)\r\n                .startOf('week')\r\n                .format('MMMM D, YYYY') +\r\n              '-' +\r\n              dayjs(param.time.year + '-' + param.time.month + '-' + param.time.day)\r\n                .endOf('week')\r\n                .format('MMMM D, YYYY')\r\n            : dayjs(param.time.year + '-' + param.time.month + '-' + param.time.day).format('MMMM D, YYYY')\r\n          var price = param.seriesPrices.get(series)\r\n\r\n          toolTip.innerHTML =\r\n            `<div style=\"font-size: 16px; margin: 4px 0px; color: ${textColor};\">${title}</div>` +\r\n            `<div style=\"font-size: 22px; margin: 4px 0px; color: ${textColor}\">` +\r\n            formattedNum(price, true) +\r\n            '</div>' +\r\n            '<div>' +\r\n            dateStr +\r\n            '</div>'\r\n        }\r\n      })\r\n\r\n      chart.timeScale().fitContent()\r\n\r\n      setChartCreated(chart)\r\n    }\r\n  }, [\r\n    base,\r\n    baseChange,\r\n    chartCreated,\r\n    darkMode,\r\n    data,\r\n    formattedData,\r\n    textColor,\r\n    title,\r\n    topScale,\r\n    type,\r\n    useWeekly,\r\n    width\r\n  ])\r\n\r\n  // responsiveness\r\n  useEffect(() => {\r\n    if (width) {\r\n      chartCreated && chartCreated.resize(width, HEIGHT)\r\n      chartCreated && chartCreated.timeScale().scrollToPosition(0)\r\n    }\r\n  }, [chartCreated, width])\r\n\r\n  return (\r\n    <Wrapper>\r\n      <div ref={ref} id={'test-id' + type} />\r\n      <IconWrapper>\r\n        <Play\r\n          onClick={() => {\r\n            chartCreated && chartCreated.timeScale().fitContent()\r\n          }}\r\n        />\r\n      </IconWrapper>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default TradingViewChart\r\n","import React from 'react'\r\nimport { Button as RebassButton } from 'rebass/styled-components'\r\nimport styled from 'styled-components'\r\nimport { Plus, ChevronDown, ChevronUp } from 'react-feather'\r\nimport { darken, transparentize } from 'polished'\r\nimport { RowBetween } from '../Row'\r\nimport { StyledIcon } from '..'\r\n\r\nconst Base = styled(RebassButton)`\r\n  padding: 8px 12px;\r\n  font-size: 0.825rem;\r\n  font-weight: 600;\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n  outline: none;\r\n  border: 1px solid transparent;\r\n  outline: none;\r\n  border-bottom-right-radius: ${({ open }) => open && '0'};\r\n  border-bottom-left-radius: ${({ open }) => open && '0'};\r\n`\r\n\r\nconst BaseCustom = styled(RebassButton)`\r\n  padding: 16px 12px;\r\n  font-size: 0.825rem;\r\n  font-weight: 400;\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n  outline: none;\r\n`\r\n\r\nconst Dull = styled(Base)`\r\n  background-color: rgba(255, 255, 255, 0.15);\r\n  border: 1px solid rgba(255, 255, 255, 0.15);\r\n  color: black;\r\n  height: 100%;\r\n  font-weight: 400;\r\n  &:hover,\r\n  :focus {\r\n    background-color: rgba(255, 255, 255, 0.25);\r\n    border-color: rgba(255, 255, 255, 0.25);\r\n  }\r\n  &:focus {\r\n    box-shadow: 0 0 0 1pt rgba(255, 255, 255, 0.25);\r\n  }\r\n  &:active {\r\n    background-color: rgba(255, 255, 255, 0.25);\r\n    border-color: rgba(255, 255, 255, 0.25);\r\n  }\r\n`\r\n\r\nexport default function ButtonStyled({ children, ...rest }) {\r\n  return <Base {...rest}>{children}</Base>\r\n}\r\n\r\nconst ContentWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`\r\n\r\nexport const ButtonLight = styled(Base)`\r\n  background-color: ${({ color, theme }) => (color ? transparentize(0.9, color) : transparentize(0.9, theme.primary1))};\r\n  color: ${({ color, theme }) => (color ? darken(0.1, color) : theme.primary1)};\r\n\r\n  min-width: fit-content;\r\n  border-radius: 12px;\r\n  white-space: nowrap;\r\n\r\n  a {\r\n    color: ${({ color, theme }) => (color ? darken(0.1, color) : theme.primary1)};\r\n  }\r\n\r\n  :hover {\r\n    background-color: ${({ color, theme }) =>\r\n      color ? transparentize(0.8, color) : transparentize(0.8, theme.primary1)};\r\n  }\r\n`\r\n\r\nexport function ButtonDropdown({ disabled = false, children, open, ...rest }) {\r\n  return (\r\n    <ButtonFaded {...rest} disabled={disabled} ope={open}>\r\n      <RowBetween>\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>{children}</div>\r\n        {open ? (\r\n          <StyledIcon>\r\n            <ChevronUp size={24} />\r\n          </StyledIcon>\r\n        ) : (\r\n          <StyledIcon>\r\n            <ChevronDown size={24} />\r\n          </StyledIcon>\r\n        )}\r\n      </RowBetween>\r\n    </ButtonFaded>\r\n  )\r\n}\r\n\r\nexport const ButtonDark = styled(Base)`\r\n  background-color: ${({ color, theme }) => (color ? color : theme.primary1)};\r\n  color: white;\r\n  width: fit-content;\r\n  border-radius: 12px;\r\n  white-space: nowrap;\r\n\r\n  :hover {\r\n    background-color: ${({ color, theme }) => (color ? darken(0.1, color) : darken(0.1, theme.primary1))};\r\n  }\r\n`\r\n\r\nexport const ButtonFaded = styled(Base)`\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  color: (255, 255, 255, 0.5);\r\n  white-space: nowrap;\r\n\r\n  :hover {\r\n    opacity: 0.5;\r\n  }\r\n`\r\n\r\nexport function ButtonPlusDull({ disabled, children, ...rest }) {\r\n  return (\r\n    <Dull {...rest}>\r\n      <ContentWrapper>\r\n        <Plus size={16} />\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>{children}</div>\r\n      </ContentWrapper>\r\n    </Dull>\r\n  )\r\n}\r\n\r\nexport function ButtonCustom({ children, bgColor, color, ...rest }) {\r\n  return (\r\n    <BaseCustom bg={bgColor} color={color} {...rest}>\r\n      {children}\r\n    </BaseCustom>\r\n  )\r\n}\r\n\r\nexport const OptionButton = styled.div`\r\n  font-weight: 500;\r\n  width: fit-content;\r\n  white-space: nowrap;\r\n  padding: 6px;\r\n  border-radius: 6px;\r\n  border: 1px solid ${({ theme }) => theme.bg4};\r\n  background-color: ${({ active, theme }) => active && theme.bg3};\r\n  color: ${({ theme }) => theme.text1};\r\n\r\n  :hover {\r\n    cursor: ${({ disabled }) => !disabled && 'pointer'};\r\n  }\r\n`\r\n","import React, { useState, useMemo, useEffect, useRef } from 'react'\r\nimport { ResponsiveContainer } from 'recharts'\r\nimport { timeframeOptions } from '../../constants'\r\nimport { useGlobalChartData, useGlobalData } from '../../contexts/GlobalData'\r\nimport { useMedia } from 'react-use'\r\nimport DropdownSelect from '../DropdownSelect'\r\nimport TradingViewChart, { CHART_TYPES } from '../TradingviewChart'\r\nimport { RowFixed } from '../Row'\r\nimport { OptionButton } from '../ButtonStyled'\r\nimport { getTimeframe } from '../../utils'\r\nimport { TYPE } from '../../Theme'\r\n\r\nconst CHART_VIEW = {\r\n  VOLUME: 'Volume',\r\n  LIQUIDITY: 'Liquidity'\r\n}\r\n\r\nconst VOLUME_WINDOW = {\r\n  WEEKLY: 'WEEKLY',\r\n  DAYS: 'DAYS'\r\n}\r\nconst GlobalChart = ({ display }) => {\r\n  // chart options\r\n  const [chartView, setChartView] = useState(display === 'volume' ? CHART_VIEW.VOLUME : CHART_VIEW.LIQUIDITY)\r\n\r\n  // time window and window size for chart\r\n  const timeWindow = timeframeOptions.ALL_TIME\r\n  const [volumeWindow, setVolumeWindow] = useState(VOLUME_WINDOW.DAYS)\r\n\r\n  // global historical data\r\n  const [dailyData, weeklyData] = useGlobalChartData()\r\n  const {\r\n    totalLiquidityUSD,\r\n    oneDayVolumeUSD,\r\n    volumeChangeUSD,\r\n    liquidityChangeUSD,\r\n    oneWeekVolume,\r\n    weeklyVolumeChange\r\n  } = useGlobalData()\r\n\r\n  // based on window, get starttim\r\n  let utcStartTime = getTimeframe(timeWindow)\r\n\r\n  const chartDataFiltered = useMemo(() => {\r\n    let currentData = volumeWindow === VOLUME_WINDOW.DAYS ? dailyData : weeklyData\r\n    return (\r\n      currentData &&\r\n      Object.keys(currentData)\r\n        ?.map(key => {\r\n          let item = currentData[key]\r\n          if (item.date > utcStartTime) {\r\n            return item\r\n          } else {\r\n            return\r\n          }\r\n        })\r\n        .filter(item => {\r\n          return !!item\r\n        })\r\n    )\r\n  }, [dailyData, utcStartTime, volumeWindow, weeklyData])\r\n  const below800 = useMedia('(max-width: 800px)')\r\n\r\n  // update the width on a window resize\r\n  const ref = useRef()\r\n  const isClient = typeof window === 'object'\r\n  const [width, setWidth] = useState(ref?.current?.container?.clientWidth)\r\n  useEffect(() => {\r\n    if (!isClient) {\r\n      return false\r\n    }\r\n    function handleResize() {\r\n      setWidth(ref?.current?.container?.clientWidth ?? width)\r\n    }\r\n    window.addEventListener('resize', handleResize)\r\n    return () => window.removeEventListener('resize', handleResize)\r\n  }, [isClient, width]) // Empty array ensures that effect is only run on mount and unmount\r\n\r\n  return chartDataFiltered ? (\r\n    <>\r\n      {below800 && (\r\n        <DropdownSelect options={CHART_VIEW} active={chartView} setActive={setChartView} color={'#FFBB00'} />\r\n      )}\r\n\r\n      {chartDataFiltered && chartView === CHART_VIEW.LIQUIDITY && (\r\n        <ResponsiveContainer aspect={60 / 28} ref={ref}>\r\n          <TradingViewChart\r\n            data={dailyData}\r\n            base={totalLiquidityUSD}\r\n            baseChange={liquidityChangeUSD}\r\n            title=\"Liquidity\"\r\n            field=\"totalLiquidityUSD\"\r\n            width={width}\r\n            type={CHART_TYPES.AREA}\r\n          />\r\n        </ResponsiveContainer>\r\n      )}\r\n      {chartDataFiltered && chartView === CHART_VIEW.VOLUME && (\r\n        <ResponsiveContainer aspect={60 / 28}>\r\n          <TradingViewChart\r\n            data={chartDataFiltered}\r\n            base={volumeWindow === VOLUME_WINDOW.WEEKLY ? oneWeekVolume : oneDayVolumeUSD}\r\n            baseChange={volumeWindow === VOLUME_WINDOW.WEEKLY ? weeklyVolumeChange : volumeChangeUSD}\r\n            title={volumeWindow === VOLUME_WINDOW.WEEKLY ? 'Volume (7d)' : 'Volume'}\r\n            field={volumeWindow === VOLUME_WINDOW.WEEKLY ? 'weeklyVolumeUSD' : 'dailyVolumeUSD'}\r\n            width={width}\r\n            type={CHART_TYPES.BAR}\r\n            useWeekly={volumeWindow === VOLUME_WINDOW.WEEKLY}\r\n          />\r\n        </ResponsiveContainer>\r\n      )}\r\n      {display === 'volume' && (\r\n        <RowFixed style={{ bottom: '70px', position: 'absolute', left: '20px', zIndex: 10 }}>\r\n          <OptionButton\r\n            active={volumeWindow === VOLUME_WINDOW.DAYS}\r\n            onClick={() => setVolumeWindow(VOLUME_WINDOW.DAYS)}\r\n          >\r\n            <TYPE.body>D</TYPE.body>\r\n          </OptionButton>\r\n          <OptionButton\r\n            style={{ marginLeft: '4px' }}\r\n            active={volumeWindow === VOLUME_WINDOW.WEEKLY}\r\n            onClick={() => setVolumeWindow(VOLUME_WINDOW.WEEKLY)}\r\n          >\r\n            <TYPE.body>W</TYPE.body>\r\n          </OptionButton>\r\n        </RowFixed>\r\n      )}\r\n    </>\r\n  ) : (\r\n    ''\r\n  )\r\n}\r\n\r\nexport default GlobalChart\r\n","import React, { useState, useEffect, useMemo, useRef } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport Row, { RowFixed } from '../Row'\r\nimport TokenLogo from '../TokenLogo'\r\nimport { Search as SearchIcon, X } from 'react-feather'\r\nimport { BasicLink } from '../Link'\r\n\r\nimport { useAllTokenData, useTokenData } from '../../contexts/TokenData'\r\nimport { useAllPairData, usePairData } from '../../contexts/PairData'\r\nimport DoubleTokenLogo from '../DoubleLogo'\r\nimport { useMedia } from 'react-use'\r\nimport { useAllPairsInBscswap, useAllTokensInBscswap } from '../../contexts/GlobalData'\r\nimport { OVERVIEW_TOKEN_BLACKLIST, PAIR_BLACKLIST } from '../../constants'\r\n\r\nimport { transparentize } from 'polished'\r\nimport { client } from '../../apollo/client'\r\nimport { PAIR_SEARCH, TOKEN_SEARCH } from '../../apollo/queries'\r\nimport FormattedName from '../FormattedName'\r\nimport { TYPE } from '../../Theme'\r\n\r\nconst Container = styled.div`\r\n  height: 48px;\r\n  z-index: 30;\r\n  position: relative;\r\n\r\n  @media screen and (max-width: 600px) {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  position: relative;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  padding: 12px 16px;\r\n  border-radius: 12px;\r\n  background: ${({ theme, small, open }) =>\r\n    small ? (open ? transparentize(0.4, theme.bg1) : 'none') : transparentize(0.4, theme.bg6)};\r\n  border-bottom-right-radius: ${({ open }) => (open ? '0px' : '12px')};\r\n  border-bottom-left-radius: ${({ open }) => (open ? '0px' : '12px')};\r\n  z-index: 9999;\r\n  width: 100%;\r\n  min-width: 300px;\r\n  box-sizing: border-box;\r\n  box-shadow: ${({ open, small }) =>\r\n    !open && !small\r\n      ? '0px 24px 32px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 0px 1px rgba(0, 0, 0, 0.04) '\r\n      : 'none'};\r\n  @media screen and (max-width: 500px) {\r\n    background: ${({ theme }) => transparentize(0.4, theme.bg1)};\r\n    box-shadow: ${({ open }) =>\r\n      !open\r\n        ? '0px 24px 32px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 0px 1px rgba(0, 0, 0, 0.04) '\r\n        : 'none'};\r\n  }\r\n`\r\nconst Input = styled.input`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  white-space: nowrap;\r\n  background: none;\r\n  border: none;\r\n  outline: none;\r\n  width: 100%;\r\n  color: ${({ theme }) => theme.text1};\r\n  font-size: ${({ large }) => (large ? '20px' : '14px')};\r\n\r\n  ::placeholder {\r\n    color: ${({ theme }) => theme.text3};\r\n    font-size: 16px;\r\n  }\r\n\r\n  @media screen and (max-width: 640px) {\r\n    ::placeholder {\r\n      font-size: 1rem;\r\n    }\r\n  }\r\n`\r\n\r\nconst SearchIconLarge = styled(SearchIcon)`\r\n  height: 20px;\r\n  width: 20px;\r\n  margin-right: 0.5rem;\r\n  position: absolute;\r\n  right: 10px;\r\n  pointer-events: none;\r\n  color: ${({ theme }) => theme.text3};\r\n`\r\n\r\nconst CloseIcon = styled(X)`\r\n  height: 20px;\r\n  width: 20px;\r\n  margin-right: 0.5rem;\r\n  position: absolute;\r\n  right: 10px;\r\n  color: ${({ theme }) => theme.text3};\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst Menu = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  z-index: 9999;\r\n  width: 100%;\r\n  top: 50px;\r\n  max-height: 540px;\r\n  overflow: scroll;\r\n  left: 0;\r\n  padding-bottom: 20px;\r\n  background: ${({ theme }) => theme.bg6};\r\n  border-bottom-right-radius: 12px;\r\n  border-bottom-left-radius: 12px;\r\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.04), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\r\n    0px 24px 32px rgba(0, 0, 0, 0.04);\r\n  display: ${({ hide }) => hide && 'none'};\r\n`\r\n\r\nconst MenuItem = styled(Row)`\r\n  padding: 1rem;\r\n  font-size: 0.85rem;\r\n  & > * {\r\n    margin-right: 6px;\r\n  }\r\n  :hover {\r\n    cursor: pointer;\r\n    background-color: ${({ theme }) => theme.bg2};\r\n  }\r\n`\r\n\r\nconst Heading = styled(Row)`\r\n  padding: 1rem;\r\n  display: ${({ hide = false }) => hide && 'none'};\r\n`\r\n\r\nconst Gray = styled.span`\r\n  color: #888d9b;\r\n`\r\n\r\nconst Blue = styled.span`\r\n  color: #2172e5;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nexport const Search = ({ small = false }) => {\r\n  let allTokens = useAllTokensInBscswap()\r\n  const allTokenData = useAllTokenData()\r\n\r\n  let allPairs = useAllPairsInBscswap()\r\n  const allPairData = useAllPairData()\r\n\r\n  const [showMenu, toggleMenu] = useState(false)\r\n  const [value, setValue] = useState('')\r\n  const [, toggleShadow] = useState(false)\r\n  const [, toggleBottomShadow] = useState(false)\r\n\r\n  // fetch new data on tokens and pairs if needed\r\n  useTokenData(value)\r\n  usePairData(value)\r\n\r\n  const below700 = useMedia('(max-width: 700px)')\r\n  const below470 = useMedia('(max-width: 470px)')\r\n  const below410 = useMedia('(max-width: 410px)')\r\n\r\n  useEffect(() => {\r\n    if (value !== '') {\r\n      toggleMenu(true)\r\n    } else {\r\n      toggleMenu(false)\r\n    }\r\n  }, [value])\r\n\r\n  const [searchedTokens, setSearchedTokens] = useState([])\r\n  const [searchedPairs, setSearchedPairs] = useState([])\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        if (value?.length > 0) {\r\n          let tokens = await client.query({\r\n            variables: {\r\n              value: value ? value.toUpperCase() : '',\r\n              id: value\r\n            },\r\n            query: TOKEN_SEARCH\r\n          })\r\n\r\n          let pairs = await client.query({\r\n            query: PAIR_SEARCH,\r\n            variables: {\r\n              tokens: tokens.data.asSymbol?.map(t => t.id),\r\n              id: value\r\n            }\r\n          })\r\n          setSearchedPairs(pairs.data.as0.concat(pairs.data.as1).concat(pairs.data.asAddress))\r\n          let foundTokens = tokens.data.asSymbol.concat(tokens.data.asAddress).concat(tokens.data.asName)\r\n          setSearchedTokens(foundTokens)\r\n        }\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    }\r\n    fetchData()\r\n  }, [value])\r\n\r\n  function escapeRegExp(string) {\r\n    return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') // $& means the whole matched string\r\n  }\r\n\r\n  // add the searched tokens to the list if now found yet\r\n  allTokens = allTokens.concat(\r\n    searchedTokens.filter(searchedToken => {\r\n      let included = false\r\n      allTokens.map(token => {\r\n        if (token.id === searchedToken.id) {\r\n          included = true\r\n        }\r\n        return true\r\n      })\r\n      return !included\r\n    })\r\n  )\r\n\r\n  let uniqueTokens = []\r\n  let found = {}\r\n  allTokens &&\r\n    allTokens.map(token => {\r\n      if (!found[token.id]) {\r\n        found[token.id] = true\r\n        uniqueTokens.push(token)\r\n      }\r\n      return true\r\n    })\r\n\r\n  allPairs = allPairs.concat(\r\n    searchedPairs.filter(searchedPair => {\r\n      let included = false\r\n      allPairs.map(pair => {\r\n        if (pair.id === searchedPair.id) {\r\n          included = true\r\n        }\r\n        return true\r\n      })\r\n      return !included\r\n    })\r\n  )\r\n\r\n  let uniquePairs = []\r\n  let pairsFound = {}\r\n  allPairs &&\r\n    allPairs.map(pair => {\r\n      if (!pairsFound[pair.id]) {\r\n        pairsFound[pair.id] = true\r\n        uniquePairs.push(pair)\r\n      }\r\n      return true\r\n    })\r\n\r\n  const filteredTokenList = useMemo(() => {\r\n    return uniqueTokens\r\n      ? uniqueTokens\r\n          .sort((a, b) => {\r\n            if (OVERVIEW_TOKEN_BLACKLIST.includes(a.id)) {\r\n              return 1\r\n            }\r\n            if (OVERVIEW_TOKEN_BLACKLIST.includes(b.id)) {\r\n              return -1\r\n            }\r\n            const tokenA = allTokenData[a.id]\r\n            const tokenB = allTokenData[b.id]\r\n            if (tokenA?.oneDayVolumeUSD && tokenB?.oneDayVolumeUSD) {\r\n              return tokenA.oneDayVolumeUSD > tokenB.oneDayVolumeUSD ? -1 : 1\r\n            }\r\n            if (tokenA?.oneDayVolumeUSD && !tokenB?.oneDayVolumeUSD) {\r\n              return -1\r\n            }\r\n            if (!tokenA?.oneDayVolumeUSD && tokenB?.oneDayVolumeUSD) {\r\n              return tokenA?.totalLiquidity > tokenB?.totalLiquidity ? -1 : 1\r\n            }\r\n            return 1\r\n          })\r\n          .filter(token => {\r\n            if (OVERVIEW_TOKEN_BLACKLIST.includes(token.id)) {\r\n              return false\r\n            }\r\n            const regexMatches = Object.keys(token).map(tokenEntryKey => {\r\n              const isAddress = value.slice(0, 2) === '0x'\r\n              if (tokenEntryKey === 'id' && isAddress) {\r\n                return token[tokenEntryKey].match(new RegExp(escapeRegExp(value), 'i'))\r\n              }\r\n              if (tokenEntryKey === 'symbol' && !isAddress) {\r\n                return token[tokenEntryKey].match(new RegExp(escapeRegExp(value), 'i'))\r\n              }\r\n              if (tokenEntryKey === 'name' && !isAddress) {\r\n                return token[tokenEntryKey].match(new RegExp(escapeRegExp(value), 'i'))\r\n              }\r\n              return false\r\n            })\r\n            return regexMatches.some(m => m)\r\n          })\r\n      : []\r\n  }, [allTokenData, uniqueTokens, value])\r\n\r\n  const filteredPairList = useMemo(() => {\r\n    return uniquePairs\r\n      ? uniquePairs\r\n          .sort((a, b) => {\r\n            const pairA = allPairData[a.id]\r\n            const pairB = allPairData[b.id]\r\n            if (pairA?.trackedReserveBNB && pairB?.trackedReserveBNB) {\r\n              return parseFloat(pairA.trackedReserveBNB) > parseFloat(pairB.trackedReserveBNB) ? -1 : 1\r\n            }\r\n            if (pairA?.trackedReserveBNB && !pairB?.trackedReserveBNB) {\r\n              return -1\r\n            }\r\n            if (!pairA?.trackedReserveBNB && pairB?.trackedReserveBNB) {\r\n              return 1\r\n            }\r\n            return 0\r\n          })\r\n          .filter(pair => {\r\n            if (PAIR_BLACKLIST.includes(pair.id)) {\r\n              return false\r\n            }\r\n            if (value && value.includes(' ')) {\r\n              const pairA = value.split(' ')[0]?.toUpperCase()\r\n              const pairB = value.split(' ')[1]?.toUpperCase()\r\n              return (\r\n                (pair.token0.symbol.includes(pairA) || pair.token0.symbol.includes(pairB)) &&\r\n                (pair.token1.symbol.includes(pairA) || pair.token1.symbol.includes(pairB))\r\n              )\r\n            }\r\n            if (value && value.includes('-')) {\r\n              const pairA = value.split('-')[0]?.toUpperCase()\r\n              const pairB = value.split('-')[1]?.toUpperCase()\r\n              return (\r\n                (pair.token0.symbol.includes(pairA) || pair.token0.symbol.includes(pairB)) &&\r\n                (pair.token1.symbol.includes(pairA) || pair.token1.symbol.includes(pairB))\r\n              )\r\n            }\r\n            const regexMatches = Object.keys(pair).map(field => {\r\n              const isAddress = value.slice(0, 2) === '0x'\r\n              if (field === 'id' && isAddress) {\r\n                return pair[field].match(new RegExp(escapeRegExp(value), 'i'))\r\n              }\r\n              if (field === 'token0') {\r\n                return (\r\n                  pair[field].symbol.match(new RegExp(escapeRegExp(value), 'i')) ||\r\n                  pair[field].name.match(new RegExp(escapeRegExp(value), 'i'))\r\n                )\r\n              }\r\n              if (field === 'token1') {\r\n                return (\r\n                  pair[field].symbol.match(new RegExp(escapeRegExp(value), 'i')) ||\r\n                  pair[field].name.match(new RegExp(escapeRegExp(value), 'i'))\r\n                )\r\n              }\r\n              return false\r\n            })\r\n            return regexMatches.some(m => m)\r\n          })\r\n      : []\r\n  }, [allPairData, uniquePairs, value])\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(filteredTokenList).length > 2) {\r\n      toggleShadow(true)\r\n    } else {\r\n      toggleShadow(false)\r\n    }\r\n  }, [filteredTokenList])\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(filteredPairList).length > 2) {\r\n      toggleBottomShadow(true)\r\n    } else {\r\n      toggleBottomShadow(false)\r\n    }\r\n  }, [filteredPairList])\r\n\r\n  const [tokensShown, setTokensShown] = useState(3)\r\n  const [pairsShown, setPairsShown] = useState(3)\r\n\r\n  function onDismiss() {\r\n    setPairsShown(3)\r\n    setTokensShown(3)\r\n    toggleMenu(false)\r\n    setValue('')\r\n  }\r\n\r\n  // refs to detect clicks outside modal\r\n  const wrapperRef = useRef()\r\n  const menuRef = useRef()\r\n\r\n  const handleClick = e => {\r\n    if (\r\n      !(menuRef.current && menuRef.current.contains(e.target)) &&\r\n      !(wrapperRef.current && wrapperRef.current.contains(e.target))\r\n    ) {\r\n      setPairsShown(3)\r\n      setTokensShown(3)\r\n      toggleMenu(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', handleClick)\r\n    return () => {\r\n      document.removeEventListener('click', handleClick)\r\n    }\r\n  })\r\n\r\n  return (\r\n    <Container small={small}>\r\n      <Wrapper open={showMenu} shadow={true} small={small}>\r\n        <Input\r\n          large={!small}\r\n          type={'text'}\r\n          ref={wrapperRef}\r\n          placeholder={\r\n            small\r\n              ? ''\r\n              : below410\r\n              ? 'Search...'\r\n              : below470\r\n              ? 'Search BSCswap...'\r\n              : below700\r\n              ? 'Search pairs and tokens...'\r\n              : 'Search BSCswap pairs and tokens...'\r\n          }\r\n          value={value}\r\n          onChange={e => {\r\n            setValue(e.target.value)\r\n          }}\r\n          onFocus={() => {\r\n            if (!showMenu) {\r\n              toggleMenu(true)\r\n            }\r\n          }}\r\n        />\r\n        {!showMenu ? <SearchIconLarge /> : <CloseIcon onClick={() => toggleMenu(false)} />}\r\n      </Wrapper>\r\n      <Menu hide={!showMenu} ref={menuRef}>\r\n        <Heading>\r\n          <Gray>Pairs</Gray>\r\n        </Heading>\r\n        <div>\r\n          {filteredPairList && Object.keys(filteredPairList).length === 0 && (\r\n            <MenuItem>\r\n              <TYPE.body>No results</TYPE.body>\r\n            </MenuItem>\r\n          )}\r\n          {filteredPairList &&\r\n            filteredPairList.slice(0, pairsShown).map(pair => {\r\n              if (pair?.token0?.id === '0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c') {\r\n                pair.token0.name = 'BNB (Wrapped)'\r\n                pair.token0.symbol = 'BNB'\r\n              }\r\n              if (pair?.token1.id === '0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c') {\r\n                pair.token1.name = 'BNB (Wrapped)'\r\n                pair.token1.symbol = 'BNB'\r\n              }\r\n              return (\r\n                <BasicLink to={'/pair/' + pair.id} key={pair.id} onClick={onDismiss}>\r\n                  <MenuItem>\r\n                    <DoubleTokenLogo a0={pair?.token0?.id} a1={pair?.token1?.id} margin={true} />\r\n                    <TYPE.body style={{ marginLeft: '10px' }}>\r\n                      {pair.token0.symbol + '-' + pair.token1.symbol} Pair\r\n                    </TYPE.body>\r\n                  </MenuItem>\r\n                </BasicLink>\r\n              )\r\n            })}\r\n          <Heading\r\n            hide={!(Object.keys(filteredPairList).length > 3 && Object.keys(filteredPairList).length >= pairsShown)}\r\n          >\r\n            <Blue\r\n              onClick={() => {\r\n                setPairsShown(pairsShown + 5)\r\n              }}\r\n            >\r\n              See more...\r\n            </Blue>\r\n          </Heading>\r\n        </div>\r\n        <Heading>\r\n          <Gray>Tokens</Gray>\r\n        </Heading>\r\n        <div>\r\n          {Object.keys(filteredTokenList).length === 0 && (\r\n            <MenuItem>\r\n              <TYPE.body>No results</TYPE.body>\r\n            </MenuItem>\r\n          )}\r\n          {filteredTokenList.slice(0, tokensShown).map(token => {\r\n            return (\r\n              <BasicLink to={'/token/' + token.id} key={token.id} onClick={onDismiss}>\r\n                <MenuItem>\r\n                  <RowFixed>\r\n                    <TokenLogo address={token.id} style={{ marginRight: '10px' }} />\r\n                    <FormattedName text={token.name} maxCharacters={20} style={{ marginRight: '6px' }} />\r\n                    (<FormattedName text={token.symbol} maxCharacters={6} />)\r\n                  </RowFixed>\r\n                </MenuItem>\r\n              </BasicLink>\r\n            )\r\n          })}\r\n\r\n          <Heading\r\n            hide={!(Object.keys(filteredTokenList).length > 3 && Object.keys(filteredTokenList).length >= tokensShown)}\r\n          >\r\n            <Blue\r\n              onClick={() => {\r\n                setTokensShown(tokensShown + 5)\r\n              }}\r\n            >\r\n              See more...\r\n            </Blue>\r\n          </Heading>\r\n        </div>\r\n      </Menu>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Search\r\n","import { Box as RebassBox } from 'rebass'\r\nimport styled, { css } from 'styled-components'\r\n\r\nconst panelPseudo = css`\r\n  :after {\r\n    content: '';\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    height: 10px;\r\n  }\r\n\r\n  @media only screen and (min-width: 40em) {\r\n    :after {\r\n      content: unset;\r\n    }\r\n  }\r\n`\r\n\r\nconst Panel = styled(RebassBox)`\r\n  position: relative;\r\n  background-color: ${({ theme }) => theme.advancedBG};\r\n  padding: 1.25rem;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  border-radius: 8px;\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n  box-shadow: 0px 6px 10px rgba(0, 0, 0, 0.05);  /* box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.01), 0px 16px 24px rgba(0, 0, 0, 0.01), 0px 24px 32px rgba(0, 0, 0, 0.01); */\r\n  :hover {\r\n      cursor: ${({ hover }) => hover && 'pointer'};\r\n      border: ${({ hover, theme }) => hover && '1px solid' + theme.bg5};\r\n    }\r\n\r\n  ${props => props.background && `background-color: ${props.theme.advancedBG};`}\r\n\r\n  ${props => (props.area ? `grid-area: ${props.area};` : null)}\r\n\r\n  ${props =>\r\n    props.grouped &&\r\n    css`\r\n      @media only screen and (min-width: 40em) {\r\n        &:first-of-type {\r\n          border-radius: 20px 20px 0 0;\r\n        }\r\n        &:last-of-type {\r\n          border-radius: 0 0 20px 20px;\r\n        }\r\n      }\r\n    `}\r\n\r\n  ${props =>\r\n    props.rounded &&\r\n    css`\r\n      border-radius: 8px;\r\n      @media only screen and (min-width: 40em) {\r\n        border-radius: 10px;\r\n      }\r\n    `};\r\n\r\n  ${props => !props.last && panelPseudo}\r\n`\r\n\r\nexport default Panel\r\n\r\n// const Panel = styled.div`\r\n//   width: 100%;\r\n//   height: 100%;\r\n//   display: flex;\r\n//   flex-direction: column;\r\n//   justify-content: flex-start;\r\n//   border-radius: 12px;\r\n//   background-color: ${({ theme }) => theme.advancedBG};\r\n//   padding: 1.25rem;\r\n//   box-sizing: border-box;\r\n//   box-shadow: 0 1.1px 2.8px -9px rgba(0, 0, 0, 0.008), 0 2.7px 6.7px -9px rgba(0, 0, 0, 0.012),\r\n//     0 5px 12.6px -9px rgba(0, 0, 0, 0.015), 0 8.9px 22.6px -9px rgba(0, 0, 0, 0.018),\r\n//     0 16.7px 42.2px -9px rgba(0, 0, 0, 0.022), 0 40px 101px -9px rgba(0, 0, 0, 0.03);\r\n// `\r\n","import React, { useMemo } from 'react'\r\nimport styled from 'styled-components'\r\nimport Panel from '../Panel'\r\nimport { AutoColumn } from '../Column'\r\nimport { RowFixed } from '../Row'\r\nimport { TYPE } from '../../Theme'\r\nimport { usePairData } from '../../contexts/PairData'\r\nimport { formattedNum } from '../../utils'\r\n\r\nconst PriceCard = styled(Panel)`\r\n  position: absolute;\r\n  right: -220px;\r\n  width: 220px;\r\n  top: -20px;\r\n  z-index: 9999;\r\n  height: fit-content;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n`\r\n\r\nfunction formatPercent(rawPercent) {\r\n  if (rawPercent < 0.01) {\r\n    return '<1%'\r\n  } else return parseFloat(rawPercent * 100).toFixed(0) + '%'\r\n}\r\n\r\nexport default function UniPrice() {\r\n  const daiPair = usePairData('0xf3010261b58b2874639ca2e860e9005e3be5de0b')\r\n  const busdPair = usePairData('0x1ebf0ee99971c6269062c3b480e8e23b7a74756b')\r\n  const usdtPair = usePairData('0x12e048d01535e2b49675d22078f64fd2307d8a0c')\r\n\r\n  const totalLiquidity = useMemo(() => {\r\n    return daiPair && busdPair && usdtPair\r\n      ? daiPair.trackedReserveUSD + busdPair.trackedReserveUSD + usdtPair.trackedReserveUSD\r\n      : 0\r\n  }, [daiPair, busdPair, usdtPair])\r\n\r\n  const daiPerBnb = daiPair ? parseFloat(daiPair.token0Price).toFixed(2) : '-'\r\n  const busdPerBnb = busdPair ? parseFloat(busdPair.token1Price).toFixed(2) : '-'\r\n  const usdtPerBnb = usdtPair ? parseFloat(usdtPair.token0Price).toFixed(2) : '-'\r\n\r\n  return (\r\n    <PriceCard>\r\n      <AutoColumn gap=\"10px\">\r\n        <RowFixed>\r\n          <TYPE.main>DAI/BNB: {formattedNum(daiPerBnb, true)}</TYPE.main>\r\n          <TYPE.light style={{ marginLeft: '10px' }}>\r\n            {daiPair && totalLiquidity ? formatPercent(daiPair.trackedReserveUSD / totalLiquidity) : '-'}\r\n          </TYPE.light>\r\n        </RowFixed>\r\n        <RowFixed>\r\n          <TYPE.main>BUSD/BNB: {formattedNum(busdPerBnb, true)}</TYPE.main>\r\n          <TYPE.light style={{ marginLeft: '10px' }}>\r\n            {busdPair && totalLiquidity ? formatPercent(busdPair.trackedReserveUSD / totalLiquidity) : '-'}\r\n          </TYPE.light>\r\n        </RowFixed>\r\n        <RowFixed>\r\n          <TYPE.main>USDT/BNB: {formattedNum(usdtPerBnb, true)}</TYPE.main>\r\n          <TYPE.light style={{ marginLeft: '10px' }}>\r\n            {usdtPair && totalLiquidity ? formatPercent(usdtPair.trackedReserveUSD / totalLiquidity) : '-'}\r\n          </TYPE.light>\r\n        </RowFixed>\r\n      </AutoColumn>\r\n    </PriceCard>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { RowFixed, RowBetween } from '../Row'\r\nimport { useMedia } from 'react-use'\r\nimport { useGlobalData, useBnbPrice } from '../../contexts/GlobalData'\r\nimport { formattedNum, localNumber } from '../../utils'\r\n\r\nimport UniPrice from '../UniPrice'\r\nimport { TYPE } from '../../Theme'\r\n\r\nconst Header = styled.div`\r\n  width: 100%;\r\n  position: sticky;\r\n  top: 0;\r\n`\r\n\r\nconst Medium = styled.span`\r\n  font-weight: 500;\r\n`\r\n\r\nexport default function GlobalStats() {\r\n  const below1295 = useMedia('(max-width: 1295px)')\r\n  const below1180 = useMedia('(max-width: 1180px)')\r\n  const below1024 = useMedia('(max-width: 1024px)')\r\n  const below400 = useMedia('(max-width: 400px)')\r\n  const below816 = useMedia('(max-width: 816px)')\r\n\r\n  const [showPriceCard, setShowPriceCard] = useState(false)\r\n\r\n  const { oneDayVolumeUSD, oneDayTxns, pairCount } = useGlobalData()\r\n  const [bnbPrice] = useBnbPrice()\r\n  const formattedBnbPrice = bnbPrice ? formattedNum(bnbPrice, true) : '-'\r\n  const oneDayFees = oneDayVolumeUSD ? formattedNum(oneDayVolumeUSD * 0.003, true) : ''\r\n\r\n  return (\r\n    <Header>\r\n      <RowBetween style={{ padding: below816 ? '0.5rem' : '.5rem' }}>\r\n        <RowFixed>\r\n          {!below400 && (\r\n            <TYPE.main\r\n              mr={'1rem'}\r\n              onMouseEnter={() => {\r\n                setShowPriceCard(true)\r\n              }}\r\n              onMouseLeave={() => {\r\n                setShowPriceCard(false)\r\n              }}\r\n              style={{ position: 'relative' }}\r\n            >\r\n              BNB Price: <Medium>{formattedBnbPrice}</Medium>\r\n              {showPriceCard && <UniPrice />}\r\n            </TYPE.main>\r\n          )}\r\n\r\n          {!below1180 && (\r\n            <TYPE.main mr={'1rem'}>\r\n              Transactions (24H): <Medium>{localNumber(oneDayTxns)}</Medium>\r\n            </TYPE.main>\r\n          )}\r\n          {!below1024 && (\r\n            <TYPE.main mr={'1rem'}>\r\n              Pairs: <Medium>{localNumber(pairCount)}</Medium>\r\n            </TYPE.main>\r\n          )}\r\n          {!below1295 && (\r\n            <TYPE.main mr={'1rem'}>\r\n              Fees (24H): <Medium>{oneDayFees}</Medium>&nbsp;\r\n            </TYPE.main>\r\n          )}\r\n        </RowFixed>\r\n      </RowBetween>\r\n    </Header>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Box } from 'rebass'\r\nimport styled from 'styled-components'\r\n\r\nimport { AutoRow, RowBetween } from '../components/Row'\r\nimport { AutoColumn } from '../components/Column'\r\nimport PairList from '../components/PairList'\r\nimport TopTokenList from '../components/TokenList'\r\nimport TxnList from '../components/TxnList'\r\nimport GlobalChart from '../components/GlobalChart'\r\nimport Search from '../components/Search'\r\nimport GlobalStats from '../components/GlobalStats'\r\n\r\nimport { useGlobalData, useGlobalTransactions } from '../contexts/GlobalData'\r\nimport { useAllPairData } from '../contexts/PairData'\r\nimport { useMedia } from 'react-use'\r\nimport Panel from '../components/Panel'\r\nimport { useAllTokenData } from '../contexts/TokenData'\r\nimport { formattedNum, formattedPercent } from '../utils'\r\nimport { TYPE, ThemedBackground } from '../Theme'\r\nimport { transparentize } from 'polished'\r\nimport { CustomLink } from '../components/Link'\r\n\r\nimport { PageWrapper, ContentWrapper } from '../components'\r\n\r\nconst ListOptions = styled(AutoRow)`\r\n  height: 40px;\r\n  width: 100%;\r\n  font-size: 1.25rem;\r\n  font-weight: 600;\r\n\r\n  @media screen and (max-width: 640px) {\r\n    font-size: 1rem;\r\n  }\r\n`\r\n\r\nconst GridRow = styled.div`\r\n  display: grid;\r\n  width: 100%;\r\n  grid-template-columns: 1fr 1fr;\r\n  column-gap: 6px;\r\n  align-items: start;\r\n  justify-content: space-between;\r\n`\r\n\r\nfunction GlobalPage() {\r\n  // get data for lists and totals\r\n  const allPairs = useAllPairData()\r\n  const allTokens = useAllTokenData()\r\n  const transactions = useGlobalTransactions()\r\n  const { totalLiquidityUSD, oneDayVolumeUSD, volumeChangeUSD, liquidityChangeUSD } = useGlobalData()\r\n\r\n  // breakpoints\r\n  const below800 = useMedia('(max-width: 800px)')\r\n\r\n  // scrolling refs\r\n\r\n  useEffect(() => {\r\n    document.querySelector('body').scrollTo({\r\n      behavior: 'smooth',\r\n      top: 0\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <ThemedBackground backgroundColor={transparentize(0.8, '#FFBB00')} />\r\n      <ContentWrapper>\r\n        <div>\r\n          <AutoColumn gap=\"24px\" style={{ paddingBottom: below800 ? '0' : '24px' }}>\r\n            <TYPE.largeHeader>{below800 ? 'Protocol Analytics' : 'BSCswap Protocol Analytics'}</TYPE.largeHeader>\r\n            <Search />\r\n            <GlobalStats />\r\n          </AutoColumn>\r\n          {below800 && ( // mobile card\r\n            <Box mb={20}>\r\n              <Panel>\r\n                <Box>\r\n                  <AutoColumn gap=\"36px\">\r\n                    <AutoColumn gap=\"20px\">\r\n                      <RowBetween>\r\n                        <TYPE.main>Volume (24hrs)</TYPE.main>\r\n                        <div />\r\n                      </RowBetween>\r\n                      <RowBetween align=\"flex-end\">\r\n                        <TYPE.main fontSize={'1.5rem'} lineHeight={1} fontWeight={600}>\r\n                          {formattedNum(oneDayVolumeUSD, true)}\r\n                        </TYPE.main>\r\n                        <TYPE.main fontSize={12}>{formattedPercent(volumeChangeUSD)}</TYPE.main>\r\n                      </RowBetween>\r\n                    </AutoColumn>\r\n                    <AutoColumn gap=\"20px\">\r\n                      <RowBetween>\r\n                        <TYPE.main>Total Liquidity</TYPE.main>\r\n                        <div />\r\n                      </RowBetween>\r\n                      <RowBetween align=\"flex-end\">\r\n                        <TYPE.main fontSize={'1.5rem'} lineHeight={1} fontWeight={600}>\r\n                          {formattedNum(totalLiquidityUSD, true)}\r\n                        </TYPE.main>\r\n                        <TYPE.main fontSize={12}>{formattedPercent(liquidityChangeUSD)}</TYPE.main>\r\n                      </RowBetween>\r\n                    </AutoColumn>\r\n                  </AutoColumn>\r\n                </Box>\r\n              </Panel>\r\n            </Box>\r\n          )}\r\n          {!below800 && (\r\n            <GridRow>\r\n              <Panel style={{ height: '100%', minHeight: '300px' }}>\r\n                <GlobalChart display=\"liquidity\" />\r\n              </Panel>\r\n              <Panel style={{ height: '100%' }}>\r\n                <GlobalChart display=\"volume\" />\r\n              </Panel>\r\n            </GridRow>\r\n          )}\r\n          {below800 && (\r\n            <AutoColumn style={{ marginTop: '6px' }} gap=\"24px\">\r\n              <Panel style={{ height: '100%', minHeight: '300px' }}>\r\n                <GlobalChart display=\"liquidity\" />\r\n              </Panel>\r\n            </AutoColumn>\r\n          )}\r\n          <ListOptions gap=\"10px\" style={{ marginTop: '2rem', marginBottom: '.5rem' }}>\r\n            <RowBetween>\r\n              <TYPE.main fontSize={'1.125rem'}>Top Tokens</TYPE.main>\r\n              <CustomLink to={'/tokens'}>See All</CustomLink>\r\n            </RowBetween>\r\n          </ListOptions>\r\n          <Panel style={{ marginTop: '6px', padding: '1.125rem 0 ' }}>\r\n            <TopTokenList tokens={allTokens} />\r\n          </Panel>\r\n          <ListOptions gap=\"10px\" style={{ marginTop: '2rem', marginBottom: '.5rem' }}>\r\n            <RowBetween>\r\n              <TYPE.main fontSize={'1rem'}>Top Pairs</TYPE.main>\r\n              <CustomLink to={'/pairs'}>See All</CustomLink>\r\n            </RowBetween>\r\n          </ListOptions>\r\n          <Panel style={{ marginTop: '6px', padding: '1.125rem 0 ' }}>\r\n            <PairList pairs={allPairs} />\r\n          </Panel>\r\n\r\n          <span>\r\n            <TYPE.main fontSize={'1.125rem'} style={{ marginTop: '2rem' }}>\r\n              Transactions\r\n            </TYPE.main>\r\n          </span>\r\n          <Panel style={{ margin: '1rem 0' }}>\r\n            <TxnList transactions={transactions} />\r\n          </Panel>\r\n        </div>\r\n      </ContentWrapper>\r\n    </PageWrapper>\r\n  )\r\n}\r\n\r\nexport default withRouter(GlobalPage)\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport { createChart, CrosshairMode } from 'lightweight-charts'\r\nimport dayjs from 'dayjs'\r\nimport { formattedNum } from '../../utils'\r\nimport { usePrevious } from 'react-use'\r\nimport styled from 'styled-components'\r\nimport { Play } from 'react-feather'\r\nimport { useDarkModeManager } from '../../contexts/LocalStorage'\r\n\r\nconst IconWrapper = styled.div`\r\n  position: absolute;\r\n  right: 10px;\r\n  color: ${({ theme }) => theme.text1}\r\n  border-radius: 3px;\r\n  height: 16px;\r\n  width: 16px;\r\n  padding: 0px;\r\n  bottom: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n    opacity: 0.7;\r\n  }\r\n`\r\n\r\nconst CandleStickChart = ({\r\n  data,\r\n  width,\r\n  height = 300,\r\n  base,\r\n  margin = true,\r\n  valueFormatter = val => formattedNum(val, true)\r\n}) => {\r\n  // reference for DOM element to create with chart\r\n  const ref = useRef()\r\n\r\n  const formattedData = data?.map(entry => {\r\n    return {\r\n      time: parseFloat(entry.timestamp),\r\n      open: parseFloat(entry.open),\r\n      low: parseFloat(entry.open),\r\n      close: parseFloat(entry.close),\r\n      high: parseFloat(entry.close)\r\n    }\r\n  })\r\n\r\n  if (formattedData && formattedData.length > 0) {\r\n    formattedData.push({\r\n      time: dayjs().unix(),\r\n      open: parseFloat(formattedData[formattedData.length - 1].close),\r\n      close: parseFloat(base),\r\n      low: Math.min(parseFloat(base), parseFloat(formattedData[formattedData.length - 1].close)),\r\n      high: Math.max(parseFloat(base), parseFloat(formattedData[formattedData.length - 1].close))\r\n    })\r\n  }\r\n\r\n  // pointer to the chart object\r\n  const [chartCreated, setChartCreated] = useState(false)\r\n  const dataPrev = usePrevious(data)\r\n\r\n  const [darkMode] = useDarkModeManager()\r\n  const textColor = darkMode ? 'white' : 'black'\r\n  const previousTheme = usePrevious(darkMode)\r\n\r\n  // reset the chart if theme switches\r\n  useEffect(() => {\r\n    if (chartCreated && previousTheme !== darkMode) {\r\n      // remove the tooltip element\r\n      let tooltip = document.getElementById('tooltip-id')\r\n      let node = document.getElementById('test-id')\r\n      node.removeChild(tooltip)\r\n      chartCreated.resize(0, 0)\r\n      setChartCreated()\r\n    }\r\n  }, [chartCreated, darkMode, previousTheme])\r\n\r\n  useEffect(() => {\r\n    if (data !== dataPrev && chartCreated) {\r\n      // remove the tooltip element\r\n      let tooltip = document.getElementById('tooltip-id')\r\n      let node = document.getElementById('test-id')\r\n      node.removeChild(tooltip)\r\n      chartCreated.resize(0, 0)\r\n      setChartCreated()\r\n    }\r\n  }, [chartCreated, data, dataPrev])\r\n\r\n  // if no chart created yet, create one with options and add to DOM manually\r\n  useEffect(() => {\r\n    if (!chartCreated) {\r\n      const chart = createChart(ref.current, {\r\n        width: width,\r\n        height: height,\r\n        layout: {\r\n          backgroundColor: 'transparent',\r\n          textColor: textColor\r\n        },\r\n        grid: {\r\n          vertLines: {\r\n            color: 'rgba(197, 203, 206, 0.5)'\r\n          },\r\n          horzLines: {\r\n            color: 'rgba(197, 203, 206, 0.5)'\r\n          }\r\n        },\r\n        crosshair: {\r\n          mode: CrosshairMode.Normal\r\n        },\r\n        rightPriceScale: {\r\n          borderColor: 'rgba(197, 203, 206, 0.8)',\r\n          visible: true\r\n        },\r\n        timeScale: {\r\n          borderColor: 'rgba(197, 203, 206, 0.8)'\r\n        },\r\n        localization: {\r\n          priceFormatter: val => formattedNum(val)\r\n        }\r\n      })\r\n\r\n      var candleSeries = chart.addCandlestickSeries({\r\n        upColor: 'green',\r\n        downColor: 'red',\r\n        borderDownColor: 'red',\r\n        borderUpColor: 'green',\r\n        wickDownColor: 'red',\r\n        wickUpColor: 'green'\r\n      })\r\n\r\n      candleSeries.setData(formattedData)\r\n\r\n      var toolTip = document.createElement('div')\r\n      toolTip.setAttribute('id', 'tooltip-id')\r\n      toolTip.className = 'three-line-legend'\r\n      ref.current.appendChild(toolTip)\r\n      toolTip.style.display = 'block'\r\n      toolTip.style.left = (margin ? 116 : 10) + 'px'\r\n      toolTip.style.top = 50 + 'px'\r\n      toolTip.style.backgroundColor = 'transparent'\r\n\r\n      // get the title of the chart\r\n      function setLastBarText() {\r\n        toolTip.innerHTML = base\r\n          ? `<div style=\"font-size: 22px; margin: 4px 0px; color: ${textColor}\">` + valueFormatter(base) + '</div>'\r\n          : ''\r\n      }\r\n      setLastBarText()\r\n\r\n      // update the title when hovering on the chart\r\n      chart.subscribeCrosshairMove(function(param) {\r\n        if (\r\n          param === undefined ||\r\n          param.time === undefined ||\r\n          param.point.x < 0 ||\r\n          param.point.x > width ||\r\n          param.point.y < 0 ||\r\n          param.point.y > height\r\n        ) {\r\n          setLastBarText()\r\n        } else {\r\n          var price = param.seriesPrices.get(candleSeries).close\r\n          const time = dayjs.unix(param.time).format('MM/DD h:mm A')\r\n          toolTip.innerHTML =\r\n            `<div style=\"font-size: 22px; margin: 4px 0px; color: ${textColor}\">` +\r\n            valueFormatter(price) +\r\n            `<span style=\"font-size: 12px; margin: 4px 6px; color: ${textColor}\">` +\r\n            time +\r\n            ' UTC' +\r\n            '</span>' +\r\n            '</div>'\r\n        }\r\n      })\r\n\r\n      chart.timeScale().fitContent()\r\n\r\n      setChartCreated(chart)\r\n    }\r\n  }, [chartCreated, formattedData, width, height, valueFormatter, base, margin, textColor])\r\n\r\n  // responsiveness\r\n  useEffect(() => {\r\n    if (width) {\r\n      chartCreated && chartCreated.resize(width, height)\r\n      chartCreated && chartCreated.timeScale().scrollToPosition(0)\r\n    }\r\n  }, [chartCreated, height, width])\r\n\r\n  return (\r\n    <div>\r\n      <div ref={ref} id=\"test-id\" />\r\n      <IconWrapper>\r\n        <Play\r\n          onClick={() => {\r\n            chartCreated && chartCreated.timeScale().fitContent()\r\n          }}\r\n        />\r\n      </IconWrapper>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CandleStickChart\r\n","import React, { useState, useRef, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Area, XAxis, YAxis, ResponsiveContainer, Tooltip, AreaChart, BarChart, Bar } from 'recharts'\r\nimport { AutoRow, RowBetween, RowFixed } from '../Row'\r\n\r\nimport { toK, toNiceDate, toNiceDateYear, formattedNum, getTimeframe } from '../../utils'\r\nimport { OptionButton } from '../ButtonStyled'\r\nimport { darken } from 'polished'\r\nimport { useMedia, usePrevious } from 'react-use'\r\nimport { timeframeOptions } from '../../constants'\r\nimport { useTokenChartData, useTokenPriceData } from '../../contexts/TokenData'\r\nimport DropdownSelect from '../DropdownSelect'\r\nimport CandleStickChart from '../CandleChart'\r\nimport LocalLoader from '../LocalLoader'\r\nimport { AutoColumn } from '../Column'\r\nimport { Activity } from 'react-feather'\r\nimport { useDarkModeManager } from '../../contexts/LocalStorage'\r\n\r\nconst ChartWrapper = styled.div`\r\n  height: 100%;\r\n  min-height: 300px;\r\n\r\n  @media screen and (max-width: 600px) {\r\n    min-height: 200px;\r\n  }\r\n`\r\n\r\nconst PriceOption = styled(OptionButton)`\r\n  border-radius: 2px;\r\n`\r\n\r\nconst CHART_VIEW = {\r\n  VOLUME: 'Volume',\r\n  LIQUIDITY: 'Liquidity',\r\n  PRICE: 'Price',\r\n  LINE_PRICE: 'Price (Line)'\r\n}\r\n\r\nconst DATA_FREQUENCY = {\r\n  DAY: 'DAY',\r\n  HOUR: 'HOUR',\r\n  LINE: 'LINE'\r\n}\r\n\r\nconst TokenChart = ({ address, color, base }) => {\r\n  // settings for the window and candle width\r\n  const [chartFilter, setChartFilter] = useState(CHART_VIEW.PRICE)\r\n  const [frequency, setFrequency] = useState(DATA_FREQUENCY.HOUR)\r\n\r\n  const [darkMode] = useDarkModeManager()\r\n  const textColor = darkMode ? 'white' : 'black'\r\n\r\n  // reset view on new address\r\n  const addressPrev = usePrevious(address)\r\n  useEffect(() => {\r\n    if (address !== addressPrev && addressPrev) {\r\n      setChartFilter(CHART_VIEW.LIQUIDITY)\r\n    }\r\n  }, [address, addressPrev])\r\n\r\n  let chartData = useTokenChartData(address)\r\n\r\n  const [timeWindow, setTimeWindow] = useState(timeframeOptions.WEEK)\r\n  const prevWindow = usePrevious(timeWindow)\r\n\r\n  // hourly and daily price data based on the current time window\r\n  const hourlyWeek = useTokenPriceData(address, timeframeOptions.WEEK, 3600)\r\n  const hourlyMonth = useTokenPriceData(address, timeframeOptions.MONTH, 3600)\r\n  const hourlyAll = useTokenPriceData(address, timeframeOptions.ALL_TIME, 3600)\r\n  const dailyWeek = useTokenPriceData(address, timeframeOptions.WEEK, 86400)\r\n  const dailyMonth = useTokenPriceData(address, timeframeOptions.MONTH, 86400)\r\n  const dailyAll = useTokenPriceData(address, timeframeOptions.ALL_TIME, 86400)\r\n\r\n  const priceData =\r\n    timeWindow === timeframeOptions.MONTH\r\n      ? // monthly selected\r\n        frequency === DATA_FREQUENCY.DAY\r\n        ? dailyMonth\r\n        : hourlyMonth\r\n      : // weekly selected\r\n      timeWindow === timeframeOptions.WEEK\r\n      ? frequency === DATA_FREQUENCY.DAY\r\n        ? dailyWeek\r\n        : hourlyWeek\r\n      : // all time selected\r\n      frequency === DATA_FREQUENCY.DAY\r\n      ? dailyAll\r\n      : hourlyAll\r\n\r\n  // switch to hourly data when switched to week window\r\n  useEffect(() => {\r\n    if (timeWindow === timeframeOptions.WEEK && prevWindow && prevWindow !== timeframeOptions.WEEK) {\r\n      setFrequency(DATA_FREQUENCY.HOUR)\r\n    }\r\n  }, [prevWindow, timeWindow])\r\n\r\n  // switch to daily data if switche to month or all time view\r\n  useEffect(() => {\r\n    if (timeWindow === timeframeOptions.MONTH && prevWindow && prevWindow !== timeframeOptions.MONTH) {\r\n      setFrequency(DATA_FREQUENCY.DAY)\r\n    }\r\n    if (timeWindow === timeframeOptions.ALL_TIME && prevWindow && prevWindow !== timeframeOptions.ALL_TIME) {\r\n      setFrequency(DATA_FREQUENCY.DAY)\r\n    }\r\n  }, [prevWindow, timeWindow])\r\n\r\n  const below1080 = useMedia('(max-width: 1080px)')\r\n  const below600 = useMedia('(max-width: 600px)')\r\n\r\n  let utcStartTime = getTimeframe(timeWindow)\r\n  const domain = [dataMin => (dataMin > utcStartTime ? dataMin : utcStartTime), 'dataMax']\r\n  const aspect = below1080 ? 60 / 32 : below600 ? 60 / 42 : 60 / 22\r\n\r\n  chartData = chartData?.filter(entry => entry.date >= utcStartTime)\r\n\r\n  // update the width on a window resize\r\n  const ref = useRef()\r\n  const isClient = typeof window === 'object'\r\n  const [width, setWidth] = useState(ref?.current?.container?.clientWidth)\r\n  useEffect(() => {\r\n    if (!isClient) {\r\n      return false\r\n    }\r\n    function handleResize() {\r\n      setWidth(ref?.current?.container?.clientWidth ?? width)\r\n    }\r\n    window.addEventListener('resize', handleResize)\r\n    return () => window.removeEventListener('resize', handleResize)\r\n  }, [isClient, width]) // Empty array ensures that effect is only run on mount and unmount\r\n\r\n  return (\r\n    <ChartWrapper>\r\n      {below600 ? (\r\n        <RowBetween mb={40}>\r\n          <DropdownSelect options={CHART_VIEW} active={chartFilter} setActive={setChartFilter} color={color} />\r\n          <DropdownSelect options={timeframeOptions} active={timeWindow} setActive={setTimeWindow} color={color} />\r\n        </RowBetween>\r\n      ) : (\r\n        <RowBetween\r\n          mb={\r\n            chartFilter === CHART_VIEW.LIQUIDITY ||\r\n            chartFilter === CHART_VIEW.VOLUME ||\r\n            (chartFilter === CHART_VIEW.PRICE && frequency === DATA_FREQUENCY.LINE)\r\n              ? 40\r\n              : 0\r\n          }\r\n          align=\"flex-start\"\r\n        >\r\n          <AutoColumn gap=\"8px\">\r\n            <RowFixed>\r\n              <OptionButton\r\n                active={chartFilter === CHART_VIEW.LIQUIDITY}\r\n                onClick={() => setChartFilter(CHART_VIEW.LIQUIDITY)}\r\n                style={{ marginRight: '6px' }}\r\n              >\r\n                Liquidity\r\n              </OptionButton>\r\n              <OptionButton\r\n                active={chartFilter === CHART_VIEW.VOLUME}\r\n                onClick={() => setChartFilter(CHART_VIEW.VOLUME)}\r\n                style={{ marginRight: '6px' }}\r\n              >\r\n                Volume\r\n              </OptionButton>\r\n              <OptionButton\r\n                active={chartFilter === CHART_VIEW.PRICE}\r\n                onClick={() => {\r\n                  setChartFilter(CHART_VIEW.PRICE)\r\n                }}\r\n              >\r\n                Price\r\n              </OptionButton>\r\n            </RowFixed>\r\n            {chartFilter === CHART_VIEW.PRICE && (\r\n              <AutoRow gap=\"4px\">\r\n                <PriceOption\r\n                  active={frequency === DATA_FREQUENCY.DAY}\r\n                  onClick={() => {\r\n                    setTimeWindow(timeframeOptions.MONTH)\r\n                    setFrequency(DATA_FREQUENCY.DAY)\r\n                  }}\r\n                >\r\n                  D\r\n                </PriceOption>\r\n                <PriceOption\r\n                  active={frequency === DATA_FREQUENCY.HOUR}\r\n                  onClick={() => setFrequency(DATA_FREQUENCY.HOUR)}\r\n                >\r\n                  H\r\n                </PriceOption>\r\n                <PriceOption\r\n                  active={frequency === DATA_FREQUENCY.LINE}\r\n                  onClick={() => setFrequency(DATA_FREQUENCY.LINE)}\r\n                >\r\n                  <Activity size={14} />\r\n                </PriceOption>\r\n              </AutoRow>\r\n            )}\r\n          </AutoColumn>\r\n          <AutoRow justify=\"flex-end\" gap=\"6px\" align=\"flex-start\">\r\n            <OptionButton\r\n              active={timeWindow === timeframeOptions.WEEK}\r\n              onClick={() => setTimeWindow(timeframeOptions.WEEK)}\r\n            >\r\n              1W\r\n            </OptionButton>\r\n            <OptionButton\r\n              active={timeWindow === timeframeOptions.MONTH}\r\n              onClick={() => setTimeWindow(timeframeOptions.MONTH)}\r\n            >\r\n              1M\r\n            </OptionButton>\r\n            <OptionButton\r\n              active={timeWindow === timeframeOptions.ALL_TIME}\r\n              onClick={() => setTimeWindow(timeframeOptions.ALL_TIME)}\r\n            >\r\n              All\r\n            </OptionButton>\r\n          </AutoRow>\r\n        </RowBetween>\r\n      )}\r\n      {chartFilter === CHART_VIEW.LIQUIDITY && chartData && (\r\n        <ResponsiveContainer aspect={aspect}>\r\n          <AreaChart margin={{ top: 0, right: 10, bottom: 6, left: 0 }} barCategoryGap={1} data={chartData}>\r\n            <defs>\r\n              <linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                <stop offset=\"5%\" stopColor={color} stopOpacity={0.35} />\r\n                <stop offset=\"95%\" stopColor={color} stopOpacity={0} />\r\n              </linearGradient>\r\n            </defs>\r\n            <XAxis\r\n              tickLine={false}\r\n              axisLine={false}\r\n              interval=\"preserveEnd\"\r\n              tickMargin={16}\r\n              minTickGap={120}\r\n              tickFormatter={tick => toNiceDate(tick)}\r\n              dataKey=\"date\"\r\n              tick={{ fill: textColor }}\r\n              type={'number'}\r\n              domain={['dataMin', 'dataMax']}\r\n            />\r\n            <YAxis\r\n              type=\"number\"\r\n              orientation=\"right\"\r\n              tickFormatter={tick => '$' + toK(tick)}\r\n              axisLine={false}\r\n              tickLine={false}\r\n              interval=\"preserveEnd\"\r\n              minTickGap={80}\r\n              yAxisId={0}\r\n              tick={{ fill: textColor }}\r\n            />\r\n            <Tooltip\r\n              cursor={true}\r\n              formatter={val => formattedNum(val, true)}\r\n              labelFormatter={label => toNiceDateYear(label)}\r\n              labelStyle={{ paddingTop: 4 }}\r\n              contentStyle={{\r\n                padding: '10px 14px',\r\n                borderRadius: 10,\r\n                borderColor: color,\r\n                color: 'black'\r\n              }}\r\n              wrapperStyle={{ top: -70, left: -10 }}\r\n            />\r\n            <Area\r\n              key={'other'}\r\n              dataKey={'totalLiquidityUSD'}\r\n              stackId=\"2\"\r\n              strokeWidth={2}\r\n              dot={false}\r\n              type=\"monotone\"\r\n              name={'Liquidity'}\r\n              yAxisId={0}\r\n              stroke={darken(0.12, color)}\r\n              fill=\"url(#colorUv)\"\r\n            />\r\n          </AreaChart>\r\n        </ResponsiveContainer>\r\n      )}\r\n      {chartFilter === CHART_VIEW.PRICE &&\r\n        (frequency === DATA_FREQUENCY.LINE ? (\r\n          <ResponsiveContainer aspect={below1080 ? 60 / 32 : 60 / 16}>\r\n            <AreaChart margin={{ top: 0, right: 10, bottom: 6, left: 0 }} barCategoryGap={1} data={chartData}>\r\n              <defs>\r\n                <linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                  <stop offset=\"5%\" stopColor={color} stopOpacity={0.35} />\r\n                  <stop offset=\"95%\" stopColor={color} stopOpacity={0} />\r\n                </linearGradient>\r\n              </defs>\r\n              <XAxis\r\n                tickLine={false}\r\n                axisLine={false}\r\n                interval=\"preserveEnd\"\r\n                tickMargin={16}\r\n                minTickGap={120}\r\n                tickFormatter={tick => toNiceDate(tick)}\r\n                dataKey=\"date\"\r\n                tick={{ fill: textColor }}\r\n                type={'number'}\r\n                domain={domain}\r\n              />\r\n              <YAxis\r\n                type=\"number\"\r\n                orientation=\"right\"\r\n                tickFormatter={tick => '$' + toK(tick)}\r\n                axisLine={false}\r\n                tickLine={false}\r\n                interval=\"preserveEnd\"\r\n                minTickGap={80}\r\n                yAxisId={0}\r\n                tick={{ fill: textColor }}\r\n              />\r\n              <Tooltip\r\n                cursor={true}\r\n                formatter={val => formattedNum(val, true)}\r\n                labelFormatter={label => toNiceDateYear(label)}\r\n                labelStyle={{ paddingTop: 4 }}\r\n                contentStyle={{\r\n                  padding: '10px 14px',\r\n                  borderRadius: 10,\r\n                  borderColor: color,\r\n                  color: 'black'\r\n                }}\r\n                wrapperStyle={{ top: -70, left: -10 }}\r\n              />\r\n              <Area\r\n                key={'other'}\r\n                dataKey={'priceUSD'}\r\n                stackId=\"2\"\r\n                strokeWidth={2}\r\n                dot={false}\r\n                type=\"monotone\"\r\n                name={'Price'}\r\n                yAxisId={0}\r\n                stroke={darken(0.12, color)}\r\n                fill=\"url(#colorUv)\"\r\n              />\r\n            </AreaChart>\r\n          </ResponsiveContainer>\r\n        ) : priceData ? (\r\n          <ResponsiveContainer aspect={aspect} ref={ref}>\r\n            <CandleStickChart data={priceData} width={width} base={base} />\r\n          </ResponsiveContainer>\r\n        ) : (\r\n          <LocalLoader />\r\n        ))}\r\n\r\n      {chartFilter === CHART_VIEW.VOLUME && (\r\n        <ResponsiveContainer aspect={aspect}>\r\n          <BarChart margin={{ top: 0, right: 10, bottom: 6, left: 10 }} barCategoryGap={1} data={chartData}>\r\n            <XAxis\r\n              tickLine={false}\r\n              axisLine={false}\r\n              interval=\"preserveEnd\"\r\n              minTickGap={80}\r\n              tickMargin={14}\r\n              tickFormatter={tick => toNiceDate(tick)}\r\n              dataKey=\"date\"\r\n              tick={{ fill: textColor }}\r\n              type={'number'}\r\n              domain={['dataMin', 'dataMax']}\r\n            />\r\n            <YAxis\r\n              type=\"number\"\r\n              axisLine={false}\r\n              tickMargin={16}\r\n              tickFormatter={tick => '$' + toK(tick)}\r\n              tickLine={false}\r\n              orientation=\"right\"\r\n              interval=\"preserveEnd\"\r\n              minTickGap={80}\r\n              yAxisId={0}\r\n              tick={{ fill: textColor }}\r\n            />\r\n            <Tooltip\r\n              cursor={{ fill: color, opacity: 0.1 }}\r\n              formatter={val => formattedNum(val, true)}\r\n              labelFormatter={label => toNiceDateYear(label)}\r\n              labelStyle={{ paddingTop: 4 }}\r\n              contentStyle={{\r\n                padding: '10px 14px',\r\n                borderRadius: 10,\r\n                borderColor: color,\r\n                color: 'black'\r\n              }}\r\n              wrapperStyle={{ top: -70, left: -10 }}\r\n            />\r\n            <Bar\r\n              type=\"monotone\"\r\n              name={'Volume'}\r\n              dataKey={'dailyVolumeUSD'}\r\n              fill={color}\r\n              opacity={'0.4'}\r\n              yAxisId={0}\r\n              stroke={color}\r\n            />\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      )}\r\n    </ChartWrapper>\r\n  )\r\n}\r\n\r\nexport default TokenChart\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { useCopyClipboard } from '../../hooks'\r\nimport { CheckCircle, Copy } from 'react-feather'\r\nimport { StyledIcon } from '..'\r\n\r\nconst CopyIcon = styled.div`\r\n  color: #aeaeae;\r\n  flex-shrink: 0;\r\n  margin-right: 1rem;\r\n  margin-left: 0.5rem;\r\n  text-decoration: none;\r\n  :hover,\r\n  :active,\r\n  :focus {\r\n    text-decoration: none;\r\n    opacity: 0.8;\r\n    cursor: pointer;\r\n  }\r\n`\r\nconst TransactionStatusText = styled.span`\r\n  margin-left: 0.25rem;\r\n  ${({ theme }) => theme.flexRowNoWrap};\r\n  align-items: center;\r\n  color: black;\r\n`\r\n\r\nexport default function CopyHelper({ toCopy }) {\r\n  const [isCopied, setCopied] = useCopyClipboard()\r\n\r\n  return (\r\n    <CopyIcon onClick={() => setCopied(toCopy)}>\r\n      {isCopied ? (\r\n        <TransactionStatusText>\r\n          <StyledIcon>\r\n            <CheckCircle size={'14'} />\r\n          </StyledIcon>\r\n        </TransactionStatusText>\r\n      ) : (\r\n        <TransactionStatusText>\r\n          <StyledIcon>\r\n            <Copy size={'14'} />\r\n          </StyledIcon>\r\n        </TransactionStatusText>\r\n      )}\r\n    </CopyIcon>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport 'feather-icons'\r\nimport styled from 'styled-components'\r\nimport { Text } from 'rebass'\r\nimport { AlertTriangle } from 'react-feather'\r\nimport { RowBetween, RowFixed } from '../Row'\r\nimport { ButtonDark } from '../ButtonStyled'\r\nimport { AutoColumn } from '../Column'\r\nimport { Hover } from '..'\r\nimport Link from '../Link'\r\nimport { useMedia } from 'react-use'\r\n\r\nconst WarningWrapper = styled.div`\r\n  border-radius: 20px;\r\n  border: 1px solid #f82d3a;\r\n  background: rgba(248, 45, 58, 0.05);\r\n  padding: 1rem;\r\n  color: #f82d3a;\r\n  display: ${({ show }) => !show && 'none'};\r\n  margin: 0 2rem 2rem 2rem;\r\n  position: relative;\r\n\r\n  @media screen and (max-width: 800px) {\r\n    width: 80% !important;\r\n    margin-left: 5%;\r\n  }\r\n`\r\n\r\nconst StyledWarningIcon = styled(AlertTriangle)`\r\n  min-height: 20px;\r\n  min-width: 20px;\r\n  stroke: red;\r\n`\r\n\r\nexport default function Warning({ type, show, setShow, address }) {\r\n  const below800 = useMedia('(max-width: 800px)')\r\n\r\n  const textContent = below800 ? (\r\n    <div>\r\n      <Text fontWeight={500} lineHeight={'145.23%'} mt={'10px'}>\r\n        Anyone can create and name any BEP20 token on Binance Smart Chain, including creating fake versions of existing tokens and\r\n        tokens that claim to represent projects that do not have a token.\r\n      </Text>\r\n      <Text fontWeight={500} lineHeight={'145.23%'} mt={'10px'}>\r\n        Similar to BscScan, this site automatically tracks analytics for all BEP20 tokens independent of token\r\n        integrity. Please do your own research before interacting with any BEP20 token.\r\n        If you have just created a token, feel free to add your token info on https://forms.gle/DgMuQsYHiw14uBiVA.\r\n      </Text>\r\n    </div>\r\n  ) : (\r\n    <Text fontWeight={500} lineHeight={'145.23%'} mt={'10px'}>\r\n      Anyone can create and name any BEP20 token on Binance Smart Chain, including creating fake versions of existing tokens and\r\n      tokens that claim to represent projects that do not have a token. Similar to BscScan, this site automatically\r\n      tracks analytics for all BEP20 tokens independent of token integrity. Please do your own research before\r\n      interacting with any BEP20 token.\r\n      If you have just created a token, feel free to add your token info on https://forms.gle/DgMuQsYHiw14uBiVA.\r\n    </Text>\r\n  )\r\n\r\n  return (\r\n    <WarningWrapper show={show}>\r\n      <AutoColumn gap=\"4px\">\r\n        <RowFixed>\r\n          <StyledWarningIcon />\r\n          <Text fontWeight={600} lineHeight={'145.23%'} ml={'10px'}>\r\n            Token Safety Alert\r\n          </Text>\r\n        </RowFixed>\r\n        {textContent}\r\n        {below800 ? (\r\n          <div>\r\n            <Hover style={{ marginTop: '10px' }}>\r\n              <Link\r\n                fontWeight={500}\r\n                lineHeight={'145.23%'}\r\n                color={'#2172E5'}\r\n                href={'https://forms.gle/DgMuQsYHiw14uBiVA'}\r\n                target=\"_blank\"\r\n              >\r\n                List your token on BSCswap\r\n              </Link>\r\n            </Hover>\r\n            <RowBetween style={{ marginTop: '20px' }}>\r\n              <div />\r\n              <ButtonDark color={'#f82d3a'} style={{ minWidth: '140px' }} onClick={() => setShow(false)}>\r\n                I understand\r\n              </ButtonDark>\r\n            </RowBetween>\r\n          </div>\r\n        ) : (\r\n          <RowBetween style={{ marginTop: '10px' }}>\r\n            <Hover>\r\n              <Link\r\n                fontWeight={500}\r\n                lineHeight={'145.23%'}\r\n                color={'#2172E5'}\r\n                href={'https://forms.gle/DgMuQsYHiw14uBiVA'}\r\n                target=\"_blank\"\r\n              >\r\n                List your token on BSCswap\r\n              </Link>\r\n            </Hover>\r\n            <ButtonDark color={'#f82d3a'} style={{ minWidth: '140px' }} onClick={() => setShow(false)}>\r\n              I understand\r\n            </ButtonDark>\r\n          </RowBetween>\r\n        )}\r\n      </AutoColumn>\r\n    </WarningWrapper>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport 'feather-icons'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Text } from 'rebass'\r\nimport styled from 'styled-components'\r\nimport Link from '../components/Link'\r\nimport Panel from '../components/Panel'\r\nimport TokenLogo from '../components/TokenLogo'\r\nimport PairList from '../components/PairList'\r\nimport Loader from '../components/LocalLoader'\r\nimport { AutoRow, RowBetween, RowFixed } from '../components/Row'\r\nimport Column, { AutoColumn } from '../components/Column'\r\nimport { ButtonLight, ButtonDark } from '../components/ButtonStyled'\r\nimport TxnList from '../components/TxnList'\r\nimport TokenChart from '../components/TokenChart'\r\nimport { BasicLink } from '../components/Link'\r\nimport Search from '../components/Search'\r\nimport { formattedNum, formattedPercent, getPoolLink, getSwapLink, localNumber } from '../utils'\r\nimport { useTokenData, useTokenTransactions, useTokenPairs } from '../contexts/TokenData'\r\nimport { TYPE, ThemedBackground } from '../Theme'\r\nimport { transparentize } from 'polished'\r\nimport { useColor } from '../hooks'\r\nimport CopyHelper from '../components/Copy'\r\nimport { useMedia } from 'react-use'\r\nimport { useDataForList } from '../contexts/PairData'\r\nimport { useEffect } from 'react'\r\nimport Warning from '../components/Warning'\r\nimport { usePathDismissed, useSavedTokens } from '../contexts/LocalStorage'\r\nimport { Hover, PageWrapper, ContentWrapper, StyledIcon } from '../components'\r\nimport { PlusCircle, Bookmark } from 'react-feather'\r\nimport FormattedName from '../components/FormattedName'\r\nimport { useListedTokens } from '../contexts/Application'\r\n\r\nconst DashboardWrapper = styled.div`\r\n  width: 100%;\r\n`\r\n\r\nconst PanelWrapper = styled.div`\r\n  grid-template-columns: repeat(3, 1fr);\r\n  grid-template-rows: max-content;\r\n  gap: 6px;\r\n  display: inline-grid;\r\n  width: 100%;\r\n  align-items: start;\r\n  @media screen and (max-width: 1024px) {\r\n    grid-template-columns: 1fr;\r\n    align-items: stretch;\r\n    > * {\r\n      grid-column: 1 / 4;\r\n    }\r\n\r\n    > * {\r\n      &:first-child {\r\n        width: 100%;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst TokenDetailsLayout = styled.div`\r\n  display: inline-grid;\r\n  width: 100%;\r\n  grid-template-columns: auto auto auto 1fr;\r\n  column-gap: 30px;\r\n  align-items: start;\r\n\r\n  &:last-child {\r\n    align-items: center;\r\n    justify-items: end;\r\n  }\r\n  @media screen and (max-width: 1024px) {\r\n    grid-template-columns: 1fr;\r\n    align-items: stretch;\r\n    > * {\r\n      grid-column: 1 / 4;\r\n      margin-bottom: 1rem;\r\n    }\r\n\r\n    &:last-child {\r\n      align-items: start;\r\n      justify-items: start;\r\n    }\r\n  }\r\n`\r\n\r\nconst WarningGrouping = styled.div`\r\n  opacity: ${({ disabled }) => disabled && '0.4'};\r\n  pointer-events: ${({ disabled }) => disabled && 'none'};\r\n`\r\n\r\nfunction TokenPage({ address, history }) {\r\n  const {\r\n    id,\r\n    name,\r\n    symbol,\r\n    priceUSD,\r\n    oneDayVolumeUSD,\r\n    totalLiquidityUSD,\r\n    volumeChangeUSD,\r\n    oneDayVolumeUT,\r\n    volumeChangeUT,\r\n    priceChangeUSD,\r\n    liquidityChangeUSD,\r\n    oneDayTxns,\r\n    txnChange\r\n  } = useTokenData(address)\r\n\r\n  useEffect(() => {\r\n    document.querySelector('body').scrollTo(0, 0)\r\n  }, [])\r\n\r\n  // detect color from token\r\n  const backgroundColor = useColor(id, symbol)\r\n\r\n  const allPairs = useTokenPairs(address)\r\n\r\n  // pairs to show in pair list\r\n  const fetchedPairsList = useDataForList(allPairs)\r\n\r\n  // all transactions with this token\r\n  const transactions = useTokenTransactions(address)\r\n\r\n  // price\r\n  const price = priceUSD ? formattedNum(priceUSD, true) : ''\r\n  const priceChange = priceChangeUSD ? formattedPercent(priceChangeUSD) : ''\r\n\r\n  // volume\r\n  const volume =\r\n    oneDayVolumeUSD || oneDayVolumeUSD === 0\r\n      ? formattedNum(oneDayVolumeUSD === 0 ? oneDayVolumeUT : oneDayVolumeUSD, true)\r\n      : oneDayVolumeUSD === 0\r\n      ? '$0'\r\n      : '-'\r\n\r\n  // mark if using untracked volume\r\n  const [usingUtVolume, setUsingUtVolume] = useState(false)\r\n  useEffect(() => {\r\n    setUsingUtVolume(oneDayVolumeUSD === 0 ? true : false)\r\n  }, [oneDayVolumeUSD])\r\n\r\n  const volumeChange = formattedPercent(!usingUtVolume ? volumeChangeUSD : volumeChangeUT)\r\n\r\n  // liquidity\r\n  const liquidity = totalLiquidityUSD ? formattedNum(totalLiquidityUSD, true) : totalLiquidityUSD === 0 ? '$0' : '-'\r\n  const liquidityChange = formattedPercent(liquidityChangeUSD)\r\n\r\n  // transactions\r\n  const txnChangeFormatted = formattedPercent(txnChange)\r\n\r\n  const below1080 = useMedia('(max-width: 1080px)')\r\n  const below800 = useMedia('(max-width: 800px)')\r\n  const below600 = useMedia('(max-width: 600px)')\r\n  const below500 = useMedia('(max-width: 500px)')\r\n\r\n  // format for long symbol\r\n  const LENGTH = below1080 ? 10 : 16\r\n  const formattedSymbol = symbol?.length > LENGTH ? symbol.slice(0, LENGTH) + '...' : symbol\r\n\r\n  const [dismissed, markAsDismissed] = usePathDismissed(history.location.pathname)\r\n  const [savedTokens, addToken] = useSavedTokens()\r\n  const listedTokens = useListedTokens()\r\n\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      behavior: 'smooth',\r\n      top: 0\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <ThemedBackground backgroundColor={transparentize(0.6, backgroundColor)} />\r\n\r\n      <Warning\r\n        type={'token'}\r\n        show={!dismissed && listedTokens && !listedTokens.includes(address)}\r\n        setShow={markAsDismissed}\r\n        address={address}\r\n      />\r\n      <ContentWrapper>\r\n        <RowBetween style={{ flexWrap: 'wrap', alingItems: 'start' }}>\r\n          <AutoRow align=\"flex-end\" style={{ width: 'fit-content' }}>\r\n            <TYPE.body>\r\n              <BasicLink to=\"/tokens\">{'Tokens '}</BasicLink>→ {symbol}\r\n              {'  '}\r\n            </TYPE.body>\r\n            <Link\r\n              style={{ width: 'fit-content' }}\r\n              color={backgroundColor}\r\n              external\r\n              href={'https://bscscan.com/address/' + address}\r\n            >\r\n              <Text style={{ marginLeft: '.15rem' }} fontSize={'14px'} fontWeight={400}>\r\n                ({address.slice(0, 8) + '...' + address.slice(36, 42)})\r\n              </Text>\r\n            </Link>\r\n          </AutoRow>\r\n          {!below600 && <Search small={true} />}\r\n        </RowBetween>\r\n\r\n        <WarningGrouping disabled={!dismissed && listedTokens && !listedTokens.includes(address)}>\r\n          <DashboardWrapper style={{ marginTop: below1080 ? '0' : '1rem' }}>\r\n            <RowBetween style={{ flexWrap: 'wrap', marginBottom: '2rem', alignItems: 'flex-start' }}>\r\n              <RowFixed style={{ flexWrap: 'wrap' }}>\r\n                <RowFixed style={{ alignItems: 'baseline' }}>\r\n                  <TokenLogo address={address} size=\"32px\" style={{ alignSelf: 'center' }} />\r\n                  <TYPE.main fontSize={below1080 ? '1.5rem' : '2rem'} fontWeight={500} style={{ margin: '0 1rem' }}>\r\n                    <RowFixed gap=\"6px\">\r\n                      <FormattedName text={name ? name + ' ' : ''} maxCharacters={16} style={{ marginRight: '6px' }} />{' '}\r\n                      {formattedSymbol ? `(${formattedSymbol})` : ''}\r\n                    </RowFixed>\r\n                  </TYPE.main>{' '}\r\n                  {!below1080 && (\r\n                    <>\r\n                      <TYPE.main fontSize={'1.5rem'} fontWeight={500} style={{ marginRight: '1rem' }}>\r\n                        {price}\r\n                      </TYPE.main>\r\n                      {priceChange}\r\n                    </>\r\n                  )}\r\n                </RowFixed>\r\n              </RowFixed>\r\n              <span>\r\n                <RowFixed ml={below500 ? '0' : '2.5rem'} mt={below500 ? '1rem' : '0'}>\r\n                  {!!!savedTokens[address] && !below800 ? (\r\n                    <Hover onClick={() => addToken(address, symbol)}>\r\n                      <StyledIcon>\r\n                        <PlusCircle style={{ marginRight: '0.5rem' }} />\r\n                      </StyledIcon>\r\n                    </Hover>\r\n                  ) : !below1080 ? (\r\n                    <StyledIcon>\r\n                      <Bookmark style={{ marginRight: '0.5rem', opacity: 0.4 }} />\r\n                    </StyledIcon>\r\n                  ) : (\r\n                    <></>\r\n                  )}\r\n                  <Link href={getPoolLink(address)} target=\"_blank\">\r\n                    <ButtonLight color={backgroundColor}>+ Add Liquidity</ButtonLight>\r\n                  </Link>\r\n                  <Link href={getSwapLink(address)} target=\"_blank\">\r\n                    <ButtonDark ml={'.5rem'} mr={below1080 && '.5rem'} color={backgroundColor}>\r\n                      Trade\r\n                    </ButtonDark>\r\n                  </Link>\r\n                </RowFixed>\r\n              </span>\r\n            </RowBetween>\r\n\r\n            <>\r\n              <PanelWrapper style={{ marginTop: below1080 ? '0' : '1rem' }}>\r\n                {below1080 && price && (\r\n                  <Panel>\r\n                    <AutoColumn gap=\"20px\">\r\n                      <RowBetween>\r\n                        <TYPE.main>Price</TYPE.main>\r\n                        <div />\r\n                      </RowBetween>\r\n                      <RowBetween align=\"flex-end\">\r\n                        {' '}\r\n                        <TYPE.main fontSize={'1.5rem'} lineHeight={1} fontWeight={500}>\r\n                          {price}\r\n                        </TYPE.main>\r\n                        <TYPE.main>{priceChange}</TYPE.main>\r\n                      </RowBetween>\r\n                    </AutoColumn>\r\n                  </Panel>\r\n                )}\r\n                <Panel>\r\n                  <AutoColumn gap=\"20px\">\r\n                    <RowBetween>\r\n                      <TYPE.main>Total Liquidity</TYPE.main>\r\n                      <div />\r\n                    </RowBetween>\r\n                    <RowBetween align=\"flex-end\">\r\n                      <TYPE.main fontSize={'1.5rem'} lineHeight={1} fontWeight={500}>\r\n                        {liquidity}\r\n                      </TYPE.main>\r\n                      <TYPE.main>{liquidityChange}</TYPE.main>\r\n                    </RowBetween>\r\n                  </AutoColumn>\r\n                </Panel>\r\n                <Panel>\r\n                  <AutoColumn gap=\"20px\">\r\n                    <RowBetween>\r\n                      <TYPE.main>Volume (24hrs) {usingUtVolume && '(Untracked)'}</TYPE.main>\r\n                      <div />\r\n                    </RowBetween>\r\n                    <RowBetween align=\"flex-end\">\r\n                      <TYPE.main fontSize={'1.5rem'} lineHeight={1} fontWeight={500}>\r\n                        {volume}\r\n                      </TYPE.main>\r\n                      <TYPE.main>{volumeChange}</TYPE.main>\r\n                    </RowBetween>\r\n                  </AutoColumn>\r\n                </Panel>\r\n\r\n                <Panel>\r\n                  <AutoColumn gap=\"20px\">\r\n                    <RowBetween>\r\n                      <TYPE.main>Transactions (24hrs)</TYPE.main>\r\n                      <div />\r\n                    </RowBetween>\r\n                    <RowBetween align=\"flex-end\">\r\n                      <TYPE.main fontSize={'1.5rem'} lineHeight={1} fontWeight={500}>\r\n                        {oneDayTxns ? localNumber(oneDayTxns) : oneDayTxns === 0 ? 0 : '-'}\r\n                      </TYPE.main>\r\n                      <TYPE.main>{txnChangeFormatted}</TYPE.main>\r\n                    </RowBetween>\r\n                  </AutoColumn>\r\n                </Panel>\r\n                <Panel style={{ gridColumn: below1080 ? '1' : '2/4', gridRow: below1080 ? '' : '1/4' }}>\r\n                  <TokenChart address={address} color={backgroundColor} base={priceUSD} />\r\n                </Panel>\r\n              </PanelWrapper>\r\n            </>\r\n\r\n            <span>\r\n              <TYPE.main fontSize={'1.125rem'} style={{ marginTop: '3rem' }}>\r\n                Top Pairs\r\n              </TYPE.main>\r\n            </span>\r\n            <Panel\r\n              rounded\r\n              style={{\r\n                marginTop: '1.5rem',\r\n                padding: '1.125rem 0 '\r\n              }}\r\n            >\r\n              {address && fetchedPairsList ? (\r\n                <PairList color={backgroundColor} address={address} pairs={fetchedPairsList} />\r\n              ) : (\r\n                <Loader />\r\n              )}\r\n            </Panel>\r\n            <RowBetween mt={40} mb={'1rem'}>\r\n              <TYPE.main fontSize={'1.125rem'}>Transactions</TYPE.main> <div />\r\n            </RowBetween>\r\n            <Panel rounded>\r\n              {transactions ? <TxnList color={backgroundColor} transactions={transactions} /> : <Loader />}\r\n            </Panel>\r\n            <>\r\n              <RowBetween style={{ marginTop: '3rem' }}>\r\n                <TYPE.main fontSize={'1.125rem'}>Token Information</TYPE.main>{' '}\r\n              </RowBetween>\r\n              <Panel\r\n                rounded\r\n                style={{\r\n                  marginTop: '1.5rem'\r\n                }}\r\n                p={20}\r\n              >\r\n                <TokenDetailsLayout>\r\n                  <Column>\r\n                    <TYPE.main>Symbol</TYPE.main>\r\n                    <Text style={{ marginTop: '.5rem' }} fontSize={24} fontWeight=\"500\">\r\n                      <FormattedName text={symbol} maxCharacters={12} />\r\n                    </Text>\r\n                  </Column>\r\n                  <Column>\r\n                    <TYPE.main>Name</TYPE.main>\r\n                    <TYPE.main style={{ marginTop: '.5rem' }} fontSize={24} fontWeight=\"500\">\r\n                      <FormattedName text={name} maxCharacters={16} />\r\n                    </TYPE.main>\r\n                  </Column>\r\n                  <Column>\r\n                    <TYPE.main>Address</TYPE.main>\r\n                    <AutoRow align=\"flex-end\">\r\n                      <TYPE.main style={{ marginTop: '.5rem' }} fontSize={24} fontWeight=\"500\">\r\n                        {address.slice(0, 8) + '...' + address.slice(36, 42)}\r\n                      </TYPE.main>\r\n                      <CopyHelper toCopy={address} />\r\n                    </AutoRow>\r\n                  </Column>\r\n                  <ButtonLight color={backgroundColor}>\r\n                    <Link color={backgroundColor} external href={'https://bscscan.com/address/' + address}>\r\n                      View on BscScan ↗\r\n                    </Link>\r\n                  </ButtonLight>\r\n                </TokenDetailsLayout>\r\n              </Panel>\r\n            </>\r\n          </DashboardWrapper>\r\n        </WarningGrouping>\r\n      </ContentWrapper>\r\n    </PageWrapper>\r\n  )\r\n}\r\n\r\nexport default withRouter(TokenPage)\r\n","import React, { useState, useRef, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Area, XAxis, YAxis, ResponsiveContainer, Tooltip, AreaChart, BarChart, Bar } from 'recharts'\r\nimport { RowBetween, AutoRow } from '../Row'\r\n\r\nimport { toK, toNiceDate, toNiceDateYear, formattedNum, getTimeframe } from '../../utils'\r\nimport { OptionButton } from '../ButtonStyled'\r\nimport { darken } from 'polished'\r\nimport { usePairChartData, useHourlyRateData, usePairData } from '../../contexts/PairData'\r\nimport { timeframeOptions } from '../../constants'\r\nimport { useMedia } from 'react-use'\r\nimport { EmptyCard } from '..'\r\nimport DropdownSelect from '../DropdownSelect'\r\nimport CandleStickChart from '../CandleChart'\r\nimport LocalLoader from '../LocalLoader'\r\nimport { useDarkModeManager } from '../../contexts/LocalStorage'\r\n\r\nconst ChartWrapper = styled.div`\r\n  height: 100%;\r\n  max-height: 340px;\r\n\r\n  @media screen and (max-width: 600px) {\r\n    min-height: 200px;\r\n  }\r\n`\r\n\r\nconst OptionsRow = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 100%;\r\n  margin-bottom: 40px;\r\n`\r\n\r\nconst CHART_VIEW = {\r\n  VOLUME: 'Volume',\r\n  LIQUIDITY: 'Liquidity',\r\n  RATE0: 'Rate 0',\r\n  RATE1: 'Rate 1'\r\n}\r\n\r\nconst PairChart = ({ address, color, base0, base1 }) => {\r\n  const [chartFilter, setChartFilter] = useState(CHART_VIEW.LIQUIDITY)\r\n\r\n  const [timeWindow, setTimeWindow] = useState(timeframeOptions.MONTH)\r\n\r\n  const [darkMode] = useDarkModeManager()\r\n  const textColor = darkMode ? 'white' : 'black'\r\n\r\n  // update the width on a window resize\r\n  const ref = useRef()\r\n  const isClient = typeof window === 'object'\r\n  const [width, setWidth] = useState(ref?.current?.container?.clientWidth)\r\n  const [height, setHeight] = useState(ref?.current?.container?.clientHeight)\r\n  useEffect(() => {\r\n    if (!isClient) {\r\n      return false\r\n    }\r\n    function handleResize() {\r\n      setWidth(ref?.current?.container?.clientWidth ?? width)\r\n      setHeight(ref?.current?.container?.clientHeight ?? height)\r\n    }\r\n    window.addEventListener('resize', handleResize)\r\n    return () => window.removeEventListener('resize', handleResize)\r\n  }, [height, isClient, width]) // Empty array ensures that effect is only run on mount and unmount\r\n\r\n  // get data for pair, and rates\r\n  const pairData = usePairData(address)\r\n  let chartData = usePairChartData(address)\r\n  const hourlyData = useHourlyRateData(address, timeWindow)\r\n  const hourlyRate0 = hourlyData && hourlyData[0]\r\n  const hourlyRate1 = hourlyData && hourlyData[1]\r\n\r\n  // formatted symbols for overflow\r\n  const formattedSymbol0 =\r\n    pairData?.token0?.symbol.length > 6 ? pairData?.token0?.symbol.slice(0, 5) + '...' : pairData?.token0?.symbol\r\n  const formattedSymbol1 =\r\n    pairData?.token1?.symbol.length > 6 ? pairData?.token1?.symbol.slice(0, 5) + '...' : pairData?.token1?.symbol\r\n\r\n  const below1600 = useMedia('(max-width: 1600px)')\r\n  const below1080 = useMedia('(max-width: 1080px)')\r\n  const below600 = useMedia('(max-width: 600px)')\r\n\r\n  let utcStartTime = getTimeframe(timeWindow)\r\n  chartData = chartData?.filter(entry => entry.date >= utcStartTime)\r\n\r\n  if (chartData && chartData.length === 0) {\r\n    return (\r\n      <ChartWrapper>\r\n        <EmptyCard height=\"300px\">No historical data yet.</EmptyCard>{' '}\r\n      </ChartWrapper>\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Used to format values on chart on scroll\r\n   * Needs to be raw html for chart API to parse styles\r\n   * @param {*} val\r\n   */\r\n  function valueFormatter(val) {\r\n    if (chartFilter === CHART_VIEW.RATE0) {\r\n      return (\r\n        formattedNum(val) +\r\n        `<span style=\"font-size: 12px; margin-left: 4px;\">${formattedSymbol1}/${formattedSymbol0}<span>`\r\n      )\r\n    }\r\n    if (chartFilter === CHART_VIEW.RATE1) {\r\n      return (\r\n        formattedNum(val) +\r\n        `<span style=\"font-size: 12px; margin-left: 4px;\">${formattedSymbol0}/${formattedSymbol1}<span>`\r\n      )\r\n    }\r\n  }\r\n\r\n  const aspect = below1080 ? 60 / 20 : below1600 ? 60 / 28 : 60 / 22\r\n\r\n  return (\r\n    <ChartWrapper>\r\n      {below600 ? (\r\n        <RowBetween mb={40}>\r\n          <DropdownSelect options={CHART_VIEW} active={chartFilter} setActive={setChartFilter} color={color} />\r\n          <DropdownSelect options={timeframeOptions} active={timeWindow} setActive={setTimeWindow} color={color} />\r\n        </RowBetween>\r\n      ) : (\r\n        <OptionsRow>\r\n          <AutoRow gap=\"6px\" style={{ flexWrap: 'nowrap' }}>\r\n            <OptionButton\r\n              active={chartFilter === CHART_VIEW.LIQUIDITY}\r\n              onClick={() => {\r\n                setTimeWindow(timeframeOptions.ALL_TIME)\r\n                setChartFilter(CHART_VIEW.LIQUIDITY)\r\n              }}\r\n            >\r\n              Liquidity\r\n            </OptionButton>\r\n            <OptionButton\r\n              active={chartFilter === CHART_VIEW.VOLUME}\r\n              onClick={() => {\r\n                setTimeWindow(timeframeOptions.ALL_TIME)\r\n                setChartFilter(CHART_VIEW.VOLUME)\r\n              }}\r\n            >\r\n              Volume\r\n            </OptionButton>\r\n            <OptionButton\r\n              active={chartFilter === CHART_VIEW.RATE0}\r\n              onClick={() => {\r\n                setTimeWindow(timeframeOptions.WEEK)\r\n                setChartFilter(CHART_VIEW.RATE0)\r\n              }}\r\n            >\r\n              {pairData.token0 ? formattedSymbol1 + '/' + formattedSymbol0 : '-'}\r\n            </OptionButton>\r\n            <OptionButton\r\n              active={chartFilter === CHART_VIEW.RATE1}\r\n              onClick={() => {\r\n                setTimeWindow(timeframeOptions.WEEK)\r\n                setChartFilter(CHART_VIEW.RATE1)\r\n              }}\r\n            >\r\n              {pairData.token0 ? formattedSymbol0 + '/' + formattedSymbol1 : '-'}\r\n            </OptionButton>\r\n          </AutoRow>\r\n          <AutoRow justify=\"flex-end\" gap=\"6px\">\r\n            <OptionButton\r\n              active={timeWindow === timeframeOptions.WEEK}\r\n              onClick={() => setTimeWindow(timeframeOptions.WEEK)}\r\n            >\r\n              1W\r\n            </OptionButton>\r\n            <OptionButton\r\n              active={timeWindow === timeframeOptions.MONTH}\r\n              onClick={() => setTimeWindow(timeframeOptions.MONTH)}\r\n            >\r\n              1M\r\n            </OptionButton>\r\n            <OptionButton\r\n              active={timeWindow === timeframeOptions.ALL_TIME}\r\n              onClick={() => setTimeWindow(timeframeOptions.ALL_TIME)}\r\n            >\r\n              All\r\n            </OptionButton>\r\n          </AutoRow>\r\n        </OptionsRow>\r\n      )}\r\n      {chartFilter === CHART_VIEW.LIQUIDITY && (\r\n        <ResponsiveContainer aspect={aspect}>\r\n          <AreaChart margin={{ top: 0, right: 10, bottom: 6, left: 0 }} barCategoryGap={1} data={chartData}>\r\n            <defs>\r\n              <linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                <stop offset=\"5%\" stopColor={color} stopOpacity={0.35} />\r\n                <stop offset=\"95%\" stopColor={color} stopOpacity={0} />\r\n              </linearGradient>\r\n            </defs>\r\n            <XAxis\r\n              tickLine={false}\r\n              axisLine={false}\r\n              interval=\"preserveEnd\"\r\n              tickMargin={14}\r\n              minTickGap={80}\r\n              tickFormatter={tick => toNiceDate(tick)}\r\n              dataKey=\"date\"\r\n              tick={{ fill: textColor }}\r\n              type={'number'}\r\n              domain={['dataMin', 'dataMax']}\r\n            />\r\n            <YAxis\r\n              type=\"number\"\r\n              orientation=\"right\"\r\n              tickFormatter={tick => '$' + toK(tick)}\r\n              axisLine={false}\r\n              tickLine={false}\r\n              interval=\"preserveEnd\"\r\n              minTickGap={80}\r\n              yAxisId={0}\r\n              tickMargin={16}\r\n              tick={{ fill: textColor }}\r\n            />\r\n            <Tooltip\r\n              cursor={true}\r\n              formatter={val => formattedNum(val, true)}\r\n              labelFormatter={label => toNiceDateYear(label)}\r\n              labelStyle={{ paddingTop: 4 }}\r\n              contentStyle={{\r\n                padding: '10px 14px',\r\n                borderRadius: 10,\r\n                borderColor: color,\r\n                color: 'black'\r\n              }}\r\n              wrapperStyle={{ top: -70, left: -10 }}\r\n            />\r\n            <Area\r\n              strokeWidth={2}\r\n              dot={false}\r\n              type=\"monotone\"\r\n              name={' (USD)'}\r\n              dataKey={'reserveUSD'}\r\n              yAxisId={0}\r\n              stroke={darken(0.12, color)}\r\n              fill=\"url(#colorUv)\"\r\n            />\r\n          </AreaChart>\r\n        </ResponsiveContainer>\r\n      )}\r\n\r\n      {chartFilter === CHART_VIEW.RATE1 &&\r\n        (hourlyRate1 ? (\r\n          <ResponsiveContainer aspect={aspect} ref={ref}>\r\n            <CandleStickChart\r\n              data={hourlyRate1}\r\n              base={base0}\r\n              margin={false}\r\n              width={width}\r\n              valueFormatter={valueFormatter}\r\n            />\r\n          </ResponsiveContainer>\r\n        ) : (\r\n          <LocalLoader />\r\n        ))}\r\n\r\n      {chartFilter === CHART_VIEW.RATE0 &&\r\n        (hourlyRate0 ? (\r\n          <ResponsiveContainer aspect={aspect} ref={ref}>\r\n            <CandleStickChart\r\n              data={hourlyRate0}\r\n              base={base1}\r\n              margin={false}\r\n              width={width}\r\n              valueFormatter={valueFormatter}\r\n            />\r\n          </ResponsiveContainer>\r\n        ) : (\r\n          <LocalLoader />\r\n        ))}\r\n\r\n      {chartFilter === CHART_VIEW.VOLUME && (\r\n        <ResponsiveContainer aspect={aspect}>\r\n          <BarChart\r\n            margin={{ top: 0, right: 0, bottom: 6, left: below1080 ? 0 : 10 }}\r\n            barCategoryGap={1}\r\n            data={chartData}\r\n          >\r\n            <XAxis\r\n              tickLine={false}\r\n              axisLine={false}\r\n              interval=\"preserveEnd\"\r\n              minTickGap={80}\r\n              tickMargin={14}\r\n              tickFormatter={tick => toNiceDate(tick)}\r\n              dataKey=\"date\"\r\n              tick={{ fill: textColor }}\r\n              type={'number'}\r\n              domain={['dataMin', 'dataMax']}\r\n            />\r\n            <YAxis\r\n              type=\"number\"\r\n              axisLine={false}\r\n              tickMargin={16}\r\n              tickFormatter={tick => '$' + toK(tick)}\r\n              tickLine={false}\r\n              interval=\"preserveEnd\"\r\n              orientation=\"right\"\r\n              minTickGap={80}\r\n              yAxisId={0}\r\n              tick={{ fill: textColor }}\r\n            />\r\n            <Tooltip\r\n              cursor={{ fill: color, opacity: 0.1 }}\r\n              formatter={val => formattedNum(val, true)}\r\n              labelFormatter={label => toNiceDateYear(label)}\r\n              labelStyle={{ paddingTop: 4 }}\r\n              contentStyle={{\r\n                padding: '10px 14px',\r\n                borderRadius: 10,\r\n                borderColor: color,\r\n                color: 'black'\r\n              }}\r\n              wrapperStyle={{ top: -70, left: -10 }}\r\n            />\r\n            <Bar\r\n              type=\"monotone\"\r\n              name={'Volume'}\r\n              dataKey={'dailyVolumeUSD'}\r\n              fill={color}\r\n              opacity={'0.4'}\r\n              yAxisId={0}\r\n              stroke={color}\r\n            />\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      )}\r\n    </ChartWrapper>\r\n  )\r\n}\r\n\r\nexport default PairChart\r\n","import React, { useEffect, useState } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Text } from 'rebass'\r\nimport 'feather-icons'\r\nimport styled from 'styled-components'\r\nimport Panel from '../components/Panel'\r\nimport { PageWrapper, ContentWrapperLarge, StyledIcon } from '../components/index'\r\nimport { AutoRow, RowBetween, RowFixed } from '../components/Row'\r\nimport Column, { AutoColumn } from '../components/Column'\r\nimport { ButtonLight, ButtonDark } from '../components/ButtonStyled'\r\nimport PairChart from '../components/PairChart'\r\nimport Link from '../components/Link'\r\nimport TxnList from '../components/TxnList'\r\nimport Loader from '../components/LocalLoader'\r\nimport { BasicLink } from '../components/Link'\r\nimport Search from '../components/Search'\r\nimport { formattedNum, formattedPercent, getPoolLink, getAstroLink, getSwapLink } from '../utils'\r\nimport { useColor } from '../hooks'\r\nimport { usePairData, usePairTransactions } from '../contexts/PairData'\r\nimport { TYPE, ThemedBackground } from '../Theme'\r\nimport { transparentize } from 'polished'\r\nimport CopyHelper from '../components/Copy'\r\nimport { useMedia } from 'react-use'\r\nimport DoubleTokenLogo from '../components/DoubleLogo'\r\nimport TokenLogo from '../components/TokenLogo'\r\nimport { Hover } from '../components'\r\nimport { useBnbPrice } from '../contexts/GlobalData'\r\nimport Warning from '../components/Warning'\r\nimport { usePathDismissed, useSavedPairs } from '../contexts/LocalStorage'\r\n\r\nimport { Bookmark, PlusCircle } from 'react-feather'\r\nimport FormattedName from '../components/FormattedName'\r\nimport { useListedTokens } from '../contexts/Application'\r\n\r\nconst DashboardWrapper = styled.div`\r\n  width: 100%;\r\n`\r\n\r\nconst PanelWrapper = styled.div`\r\n  grid-template-columns: repeat(3, 1fr);\r\n  grid-template-rows: max-content;\r\n  gap: 6px;\r\n  display: inline-grid;\r\n  width: 100%;\r\n  align-items: start;\r\n  @media screen and (max-width: 1024px) {\r\n    grid-template-columns: 1fr;\r\n    align-items: stretch;\r\n    > * {\r\n      grid-column: 1 / 4;\r\n    }\r\n\r\n    > * {\r\n      &:first-child {\r\n        width: 100%;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst TokenDetailsLayout = styled.div`\r\n  display: inline-grid;\r\n  width: 100%;\r\n  grid-template-columns: auto auto auto auto 1fr;\r\n  column-gap: 60px;\r\n  align-items: start;\r\n\r\n  &:last-child {\r\n    align-items: center;\r\n    justify-items: end;\r\n  }\r\n  @media screen and (max-width: 1024px) {\r\n    grid-template-columns: 1fr;\r\n    align-items: stretch;\r\n    > * {\r\n      grid-column: 1 / 4;\r\n      margin-bottom: 1rem;\r\n    }\r\n\r\n    &:last-child {\r\n      align-items: start;\r\n      justify-items: start;\r\n    }\r\n  }\r\n`\r\n\r\nconst FixedPanel = styled(Panel)`\r\n  width: fit-content;\r\n  padding: 8px 12px;\r\n  border-radius: 10px;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n    background-color: ${({ theme }) => theme.bg2};\r\n  }\r\n`\r\n\r\nconst HoverSpan = styled.span`\r\n  :hover {\r\n    cursor: pointer;\r\n    opacity: 0.7;\r\n  }\r\n`\r\n\r\nconst WarningGrouping = styled.div`\r\n  opacity: ${({ disabled }) => disabled && '0.4'};\r\n  pointer-events: ${({ disabled }) => disabled && 'none'};\r\n`\r\n\r\nfunction PairPage({ pairAddress, history }) {\r\n  const {\r\n    token0,\r\n    token1,\r\n    reserve0,\r\n    reserve1,\r\n    reserveUSD,\r\n    trackedReserveUSD,\r\n    oneDayVolumeUSD,\r\n    volumeChangeUSD,\r\n    oneDayVolumeUntracked,\r\n    volumeChangeUntracked,\r\n    liquidityChangeUSD\r\n  } = usePairData(pairAddress)\r\n\r\n  useEffect(() => {\r\n    document.querySelector('body').scrollTo(0, 0)\r\n  }, [])\r\n\r\n  const transactions = usePairTransactions(pairAddress)\r\n  const backgroundColor = useColor(pairAddress)\r\n\r\n  // liquidity\r\n  const liquidity = trackedReserveUSD\r\n    ? formattedNum(trackedReserveUSD, true)\r\n    : reserveUSD\r\n    ? formattedNum(reserveUSD, true)\r\n    : '-'\r\n  const liquidityChange = formattedPercent(liquidityChangeUSD)\r\n\r\n  // mark if using untracked liquidity\r\n  const [usingTracked, setUsingTracked] = useState(true)\r\n  useEffect(() => {\r\n    setUsingTracked(!trackedReserveUSD ? false : true)\r\n  }, [trackedReserveUSD])\r\n\r\n  // volume\t  // volume\r\n  const volume =\r\n    oneDayVolumeUSD || oneDayVolumeUSD === 0\r\n      ? formattedNum(oneDayVolumeUSD === 0 ? oneDayVolumeUntracked : oneDayVolumeUSD, true)\r\n      : oneDayVolumeUSD === 0\r\n      ? '$0'\r\n      : '-'\r\n\r\n  // mark if using untracked volume\r\n  const [usingUtVolume, setUsingUtVolume] = useState(false)\r\n  useEffect(() => {\r\n    setUsingUtVolume(oneDayVolumeUSD === 0 ? true : false)\r\n  }, [oneDayVolumeUSD])\r\n\r\n  const volumeChange = formattedPercent(!usingUtVolume ? volumeChangeUSD : volumeChangeUntracked)\r\n\r\n  // get fees\t  // get fees\r\n  const fees =\r\n    oneDayVolumeUSD || oneDayVolumeUSD === 0\r\n      ? usingUtVolume\r\n        ? formattedNum(oneDayVolumeUntracked * 0.003, true)\r\n        : formattedNum(oneDayVolumeUSD * 0.003, true)\r\n      : '-'\r\n\r\n  // token data for usd\r\n  const [bnbPrice] = useBnbPrice()\r\n  const token0USD =\r\n    token0?.derivedBNB && bnbPrice ? formattedNum(parseFloat(token0.derivedBNB) * parseFloat(bnbPrice), true) : ''\r\n\r\n  const token1USD =\r\n    token1?.derivedBNB && bnbPrice ? formattedNum(parseFloat(token1.derivedBNB) * parseFloat(bnbPrice), true) : ''\r\n\r\n  // rates\r\n  const token0Rate = reserve0 && reserve1 ? formattedNum(reserve1 / reserve0) : '-'\r\n  const token1Rate = reserve0 && reserve1 ? formattedNum(reserve0 / reserve1) : '-'\r\n\r\n  // formatted symbols for overflow\r\n  const formattedSymbol0 = token0?.symbol.length > 6 ? token0?.symbol.slice(0, 5) + '...' : token0?.symbol\r\n  const formattedSymbol1 = token1?.symbol.length > 6 ? token1?.symbol.slice(0, 5) + '...' : token1?.symbol\r\n\r\n  const below1080 = useMedia('(max-width: 1080px)')\r\n  const below900 = useMedia('(max-width: 900px)')\r\n  const below600 = useMedia('(max-width: 600px)')\r\n\r\n  const [dismissed, markAsDismissed] = usePathDismissed(history.location.pathname)\r\n\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      behavior: 'smooth',\r\n      top: 0\r\n    })\r\n  }, [])\r\n\r\n  const [savedPairs, addPair] = useSavedPairs()\r\n\r\n  const listedTokens = useListedTokens()\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <ThemedBackground backgroundColor={transparentize(0.6, backgroundColor)} />\r\n      <span />\r\n      <Warning\r\n        type={'pair'}\r\n        show={!dismissed && listedTokens && !(listedTokens.includes(token0?.id) && listedTokens.includes(token1?.id))}\r\n        setShow={markAsDismissed}\r\n        address={pairAddress}\r\n      />\r\n      <ContentWrapperLarge>\r\n        <RowBetween>\r\n        <AutoRow align=\"flex-end\" style={{ width: 'fit-content' }}>\r\n          <TYPE.body>\r\n            <BasicLink to=\"/pairs\">{'Pairs '}</BasicLink>→ {token0?.symbol}-{token1?.symbol}\r\n          </TYPE.body>\r\n          <Link\r\n            style={{ width: 'fit-content' }}\r\n            color={backgroundColor}\r\n            external\r\n            href={'https://bscscan.com/address/' + pairAddress}\r\n          >\r\n            <Text style={{ marginLeft: '.15rem' }} fontSize={'14px'} fontWeight={400}>\r\n              ({pairAddress.slice(0, 8) + '...' + pairAddress.slice(36, 42)})\r\n            </Text>\r\n          </Link>\r\n          </AutoRow>\r\n          {!below600 && <Search small={true} />}\r\n        </RowBetween>\r\n        <WarningGrouping\r\n          disabled={\r\n            !dismissed && listedTokens && !(listedTokens.includes(token0?.id) && listedTokens.includes(token1?.id))\r\n          }\r\n        >\r\n          <DashboardWrapper>\r\n            <AutoColumn gap=\"40px\" style={{ marginBottom: '1.5rem' }}>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', flexWrap: 'wrap', width: '100%' }}>\r\n                <RowFixed style={{ flexWrap: 'wrap', minWidth: '100px' }}>\r\n                  <RowFixed>\r\n                    {token0 && token1 && (\r\n                      <DoubleTokenLogo a0={token0?.id || ''} a1={token1?.id || ''} size={32} margin={true} />\r\n                    )}{' '}\r\n                    <TYPE.main fontSize={below1080 ? '1.5rem' : '2rem'} style={{ margin: '0 1rem' }}>\r\n                      {token0 && token1 ? (\r\n                        <>\r\n                          <HoverSpan onClick={() => history.push(`/token/${token0?.id}`)}>{token0.symbol}</HoverSpan>\r\n                          <span>-</span>\r\n                          <HoverSpan onClick={() => history.push(`/token/${token1?.id}`)}>\r\n                            {token1.symbol}\r\n                          </HoverSpan>{' '}\r\n                          Pair\r\n                        </>\r\n                      ) : (\r\n                        ''\r\n                      )}\r\n                    </TYPE.main>\r\n                  </RowFixed>\r\n                </RowFixed>\r\n                <RowFixed\r\n                  ml={below900 ? '0' : '2.5rem'}\r\n                  mt={below1080 && '1rem'}\r\n                  style={{ flexDirection: below1080 ? 'row-reverse' : 'initial' }}\r\n                >\r\n                  {!!!savedPairs[pairAddress] && !below1080 ? (\r\n                    <Hover onClick={() => addPair(pairAddress, token0.id, token1.id, token0.symbol, token1.symbol)}>\r\n                      <StyledIcon>\r\n                        <PlusCircle style={{ marginRight: '0.5rem' }} />\r\n                      </StyledIcon>\r\n                    </Hover>\r\n                  ) : !below1080 ? (\r\n                    <StyledIcon>\r\n                      <Bookmark style={{ marginRight: '0.5rem', opacity: 0.4 }} />\r\n                    </StyledIcon>\r\n                  ) : (\r\n                    <></>\r\n                  )}\r\n\r\n                  <Link external href={getPoolLink(token0?.id, token1?.id)}>\r\n                    <ButtonLight color={backgroundColor}>+ Add Liquidity</ButtonLight>\r\n                  </Link>\r\n                  <Link external href={getSwapLink(token0?.id, token1?.id)}>\r\n                    <ButtonDark ml={!below1080 && '.5rem'} mr={below1080 && '.5rem'} color={backgroundColor}>\r\n                      Trade\r\n                    </ButtonDark>\r\n                  </Link>\r\n                  <Link href={getAstroLink(pairAddress)} target=\"_blank\">\r\n                    <ButtonDark ml={'.5rem'} mr={below1080 && '.5rem'} color={backgroundColor}>\r\n                      AstroTools\r\n                    </ButtonDark>\r\n                  </Link>\r\n                </RowFixed>\r\n              </div>\r\n            </AutoColumn>\r\n            <AutoRow\r\n              gap=\"6px\"\r\n              style={{\r\n                width: 'fit-content',\r\n                marginTop: below900 ? '1rem' : '0',\r\n                marginBottom: below900 ? '0' : '2rem',\r\n                flexWrap: 'wrap'\r\n              }}\r\n            >\r\n              <FixedPanel onClick={() => history.push(`/token/${token0?.id}`)}>\r\n                <RowFixed>\r\n                  <TokenLogo address={token0?.id} size={'16px'} />\r\n                  <TYPE.main fontSize={'16px'} lineHeight={1} fontWeight={500} ml={'4px'}>\r\n                    {token0 && token1\r\n                      ? `1 ${formattedSymbol0} = ${token0Rate} ${formattedSymbol1} ${\r\n                          parseFloat(token0?.derivedBNB) ? '(' + token0USD + ')' : ''\r\n                        }`\r\n                      : '-'}\r\n                  </TYPE.main>\r\n                </RowFixed>\r\n              </FixedPanel>\r\n              <FixedPanel onClick={() => history.push(`/token/${token1?.id}`)}>\r\n                <RowFixed>\r\n                  <TokenLogo address={token1?.id} size={'16px'} />\r\n                  <TYPE.main fontSize={'16px'} lineHeight={1} fontWeight={500} ml={'4px'}>\r\n                    {token0 && token1\r\n                      ? `1 ${formattedSymbol1} = ${token1Rate} ${formattedSymbol0}  ${\r\n                          parseFloat(token1?.derivedBNB) ? '(' + token1USD + ')' : ''\r\n                        }`\r\n                      : '-'}\r\n                  </TYPE.main>\r\n                </RowFixed>\r\n              </FixedPanel>\r\n            </AutoRow>\r\n            <>\r\n              {!below1080 && <TYPE.main fontSize={'1.125rem'}>Pair Stats</TYPE.main>}\r\n              <PanelWrapper style={{ marginTop: '1.5rem' }}>\r\n                <Panel style={{ height: '100%' }}>\r\n                  <AutoColumn gap=\"20px\">\r\n                    <RowBetween>\r\n                      <TYPE.main>Total Liquidity {!usingTracked ? '(Untracked)' : ''}</TYPE.main>\r\n                      <div />\r\n                    </RowBetween>\r\n                    <RowBetween align=\"flex-end\">\r\n                      <TYPE.main fontSize={'1.5rem'} lineHeight={1} fontWeight={500}>\r\n                        {liquidity}\r\n                      </TYPE.main>\r\n                      <TYPE.main>{liquidityChange}</TYPE.main>\r\n                    </RowBetween>\r\n                  </AutoColumn>\r\n                </Panel>\r\n                <Panel style={{ height: '100%' }}>\r\n                  <AutoColumn gap=\"20px\">\r\n                    <RowBetween>\r\n                      <TYPE.main>Volume (24hrs) {usingUtVolume && '(Untracked)'}</TYPE.main>\r\n                      <div />\r\n                    </RowBetween>\r\n                    <RowBetween align=\"flex-end\">\r\n                      <TYPE.main fontSize={'1.5rem'} lineHeight={1} fontWeight={500}>\r\n                        {volume}\r\n                      </TYPE.main>\r\n                      <TYPE.main>{volumeChange}</TYPE.main>\r\n                    </RowBetween>\r\n                  </AutoColumn>\r\n                </Panel>\r\n                <Panel style={{ height: '100%' }}>\r\n                  <AutoColumn gap=\"20px\">\r\n                    <RowBetween>\r\n                      <TYPE.main>Fees (24hrs)</TYPE.main>\r\n                      <div />\r\n                    </RowBetween>\r\n                    <RowBetween align=\"flex-end\">\r\n                      <TYPE.main fontSize={'1.5rem'} lineHeight={1} fontWeight={500}>\r\n                        {fees}\r\n                      </TYPE.main>\r\n                      <TYPE.main>{volumeChange}</TYPE.main>\r\n                    </RowBetween>\r\n                  </AutoColumn>\r\n                </Panel>\r\n\r\n                <Panel style={{ height: '100%' }}>\r\n                  <AutoColumn gap=\"20px\">\r\n                    <RowBetween>\r\n                      <TYPE.main>Pooled Tokens</TYPE.main>\r\n                      <div />\r\n                    </RowBetween>\r\n                    <Hover onClick={() => history.push(`/token/${token0?.id}`)} fade={true}>\r\n                      <AutoRow gap=\"4px\">\r\n                        <TokenLogo address={token0?.id} />\r\n                        <TYPE.main fontSize={20} lineHeight={1} fontWeight={500}>\r\n                          <RowFixed>\r\n                            {reserve0 ? formattedNum(reserve0) : ''}{' '}\r\n                            <FormattedName text={token0?.symbol ?? ''} maxCharacters={8} margin={true} />\r\n                          </RowFixed>\r\n                        </TYPE.main>\r\n                      </AutoRow>\r\n                    </Hover>\r\n                    <Hover onClick={() => history.push(`/token/${token1?.id}`)} fade={true}>\r\n                      <AutoRow gap=\"4px\">\r\n                        <TokenLogo address={token1?.id} />\r\n                        <TYPE.main fontSize={20} lineHeight={1} fontWeight={500}>\r\n                          <RowFixed>\r\n                            {reserve1 ? formattedNum(reserve1) : ''}{' '}\r\n                            <FormattedName text={token1?.symbol ?? ''} maxCharacters={8} margin={true} />\r\n                          </RowFixed>\r\n                        </TYPE.main>\r\n                      </AutoRow>\r\n                    </Hover>\r\n                  </AutoColumn>\r\n                </Panel>\r\n                <Panel style={{ gridColumn: below1080 ? '1' : '2/4', gridRow: below1080 ? '' : '1/5' }}>\r\n                  <PairChart\r\n                    address={pairAddress}\r\n                    color={backgroundColor}\r\n                    base0={reserve1 / reserve0}\r\n                    base1={reserve0 / reserve1}\r\n                  />\r\n                </Panel>\r\n              </PanelWrapper>\r\n              <TYPE.main fontSize={'1.125rem'} style={{ marginTop: '3rem' }}>\r\n                Transactions\r\n              </TYPE.main>{' '}\r\n              <Panel\r\n                style={{\r\n                  marginTop: '1.5rem'\r\n                }}\r\n              >\r\n                {transactions ? <TxnList transactions={transactions} /> : <Loader />}\r\n              </Panel>\r\n              <RowBetween style={{ marginTop: '3rem' }}>\r\n                <TYPE.main fontSize={'1.125rem'}>Pair Information</TYPE.main>{' '}\r\n              </RowBetween>\r\n              <Panel\r\n                rounded\r\n                style={{\r\n                  marginTop: '1.5rem'\r\n                }}\r\n                p={20}\r\n              >\r\n                <TokenDetailsLayout>\r\n                  <Column>\r\n                    <TYPE.main>Pair Name</TYPE.main>\r\n                    <TYPE.main style={{ marginTop: '.5rem' }}>\r\n                      <RowFixed>\r\n                        <FormattedName text={token0?.symbol ?? ''} maxCharacters={8} />-\r\n                        <FormattedName text={token1?.symbol ?? ''} maxCharacters={8} />\r\n                      </RowFixed>\r\n                    </TYPE.main>\r\n                  </Column>\r\n                  <Column>\r\n                    <TYPE.main>Pair Address</TYPE.main>\r\n                    <AutoRow align=\"flex-end\">\r\n                      <TYPE.main style={{ marginTop: '.5rem' }}>\r\n                        {pairAddress.slice(0, 6) + '...' + pairAddress.slice(38, 42)}\r\n                      </TYPE.main>\r\n                      <CopyHelper toCopy={pairAddress} />\r\n                    </AutoRow>\r\n                  </Column>\r\n                  <Column>\r\n                    <TYPE.main>\r\n                      <RowFixed>\r\n                        <FormattedName text={token0?.symbol ?? ''} maxCharacters={8} />{' '}\r\n                        <span style={{ marginLeft: '4px' }}>Address</span>\r\n                      </RowFixed>\r\n                    </TYPE.main>\r\n                    <AutoRow align=\"flex-end\">\r\n                      <TYPE.main style={{ marginTop: '.5rem' }}>\r\n                        {token0 && token0.id.slice(0, 6) + '...' + token0.id.slice(38, 42)}\r\n                      </TYPE.main>\r\n                      <CopyHelper toCopy={token0?.id} />\r\n                    </AutoRow>\r\n                  </Column>\r\n                  <Column>\r\n                    <TYPE.main>\r\n                      <RowFixed>\r\n                        <FormattedName text={token1?.symbol ?? ''} maxCharacters={8} />{' '}\r\n                        <span style={{ marginLeft: '4px' }}>Address</span>\r\n                      </RowFixed>\r\n                    </TYPE.main>\r\n                    <AutoRow align=\"flex-end\">\r\n                      <TYPE.main style={{ marginTop: '.5rem' }} fontSize={16}>\r\n                        {token1 && token1.id.slice(0, 6) + '...' + token1.id.slice(38, 42)}\r\n                      </TYPE.main>\r\n                      <CopyHelper toCopy={token1?.id} />\r\n                    </AutoRow>\r\n                  </Column>\r\n                  <ButtonLight color={backgroundColor}>\r\n                    <Link color={backgroundColor} external href={'https://bscscan.com/address/' + pairAddress}>\r\n                      View on BscScan ↗\r\n                    </Link>\r\n                  </ButtonLight>\r\n                </TokenDetailsLayout>\r\n              </Panel>\r\n            </>\r\n          </DashboardWrapper>\r\n        </WarningGrouping>\r\n      </ContentWrapperLarge>\r\n    </PageWrapper>\r\n  )\r\n}\r\n\r\nexport default withRouter(PairPage)\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Area, XAxis, YAxis, ResponsiveContainer, Tooltip, AreaChart } from 'recharts'\r\nimport { AutoRow, RowBetween } from '../Row'\r\nimport { toK, toNiceDate, toNiceDateYear, formattedNum, getTimeframe } from '../../utils'\r\nimport { OptionButton } from '../ButtonStyled'\r\nimport { darken } from 'polished'\r\nimport { useMedia } from 'react-use'\r\nimport { timeframeOptions } from '../../constants'\r\nimport DropdownSelect from '../DropdownSelect'\r\nimport { useUserLiquidityChart } from '../../contexts/User'\r\nimport LocalLoader from '../LocalLoader'\r\nimport { useDarkModeManager } from '../../contexts/LocalStorage'\r\nimport { TYPE } from '../../Theme'\r\n\r\nconst ChartWrapper = styled.div`\r\n  height: 100%;\r\n  max-height: 390px;\r\n\r\n  @media screen and (max-width: 600px) {\r\n    min-height: 200px;\r\n  }\r\n`\r\n\r\nconst UserChart = ({ account }) => {\r\n  const chartData = useUserLiquidityChart(account)\r\n\r\n  const [timeWindow, setTimeWindow] = useState(timeframeOptions.ALL_TIME)\r\n  let utcStartTime = getTimeframe(timeWindow)\r\n\r\n  const below600 = useMedia('(max-width: 600px)')\r\n  const above1600 = useMedia('(min-width: 1600px)')\r\n\r\n  const domain = [dataMin => (dataMin > utcStartTime ? dataMin : utcStartTime), 'dataMax']\r\n\r\n  const aspect = above1600 ? 60 / 12 : below600 ? 60 / 42 : 60 / 16\r\n\r\n  const [darkMode] = useDarkModeManager()\r\n  const textColor = darkMode ? 'white' : 'black'\r\n\r\n  return (\r\n    <ChartWrapper>\r\n      {below600 ? (\r\n        <RowBetween mb={40}>\r\n          <div />\r\n          <DropdownSelect options={timeframeOptions} active={timeWindow} setActive={setTimeWindow} color={'#FFBB00'} />\r\n        </RowBetween>\r\n      ) : (\r\n        <RowBetween mb={40}>\r\n          <AutoRow gap=\"10px\">\r\n            <TYPE.main>Liquidity Value</TYPE.main>\r\n          </AutoRow>\r\n          <AutoRow justify=\"flex-end\" gap=\"4px\">\r\n            <OptionButton\r\n              active={timeWindow === timeframeOptions.MONTH}\r\n              onClick={() => setTimeWindow(timeframeOptions.MONTH)}\r\n            >\r\n              1M\r\n            </OptionButton>\r\n            <OptionButton\r\n              active={timeWindow === timeframeOptions.WEEK}\r\n              onClick={() => setTimeWindow(timeframeOptions.WEEK)}\r\n            >\r\n              1W\r\n            </OptionButton>\r\n            <OptionButton\r\n              active={timeWindow === timeframeOptions.ALL_TIME}\r\n              onClick={() => setTimeWindow(timeframeOptions.ALL_TIME)}\r\n            >\r\n              All\r\n            </OptionButton>\r\n          </AutoRow>\r\n        </RowBetween>\r\n      )}\r\n      {chartData ? (\r\n        <ResponsiveContainer aspect={aspect} style={{ height: 'inherit' }}>\r\n          <AreaChart margin={{ top: 0, right: 10, bottom: 6, left: 0 }} barCategoryGap={1} data={chartData}>\r\n            <defs>\r\n              <linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                <stop offset=\"5%\" stopColor={'#FFBB00'} stopOpacity={0.35} />\r\n                <stop offset=\"95%\" stopColor={'#FFBB00'} stopOpacity={0} />\r\n              </linearGradient>\r\n            </defs>\r\n            <XAxis\r\n              tickLine={false}\r\n              axisLine={false}\r\n              interval=\"preserveEnd\"\r\n              tickMargin={16}\r\n              minTickGap={0}\r\n              tickFormatter={tick => toNiceDate(tick)}\r\n              dataKey=\"date\"\r\n              tick={{ fill: textColor }}\r\n              type={'number'}\r\n              domain={domain}\r\n            />\r\n            <YAxis\r\n              type=\"number\"\r\n              orientation=\"right\"\r\n              tickFormatter={tick => '$' + toK(tick)}\r\n              axisLine={false}\r\n              tickLine={false}\r\n              interval=\"preserveEnd\"\r\n              minTickGap={6}\r\n              yAxisId={0}\r\n              tick={{ fill: textColor }}\r\n            />\r\n            <Tooltip\r\n              cursor={true}\r\n              formatter={val => formattedNum(val, true)}\r\n              labelFormatter={label => toNiceDateYear(label)}\r\n              labelStyle={{ paddingTop: 4 }}\r\n              contentStyle={{\r\n                padding: '10px 14px',\r\n                borderRadius: 10,\r\n                borderColor: '#FFBB00',\r\n                color: 'black'\r\n              }}\r\n              wrapperStyle={{ top: -70, left: -10 }}\r\n            />\r\n            <Area\r\n              key={'other'}\r\n              dataKey={'valueUSD'}\r\n              stackId=\"2\"\r\n              strokeWidth={2}\r\n              dot={false}\r\n              type=\"monotone\"\r\n              name={'Liquidity'}\r\n              yAxisId={0}\r\n              stroke={darken(0.12, '#FFBB00')}\r\n              fill=\"url(#colorUv)\"\r\n            />\r\n          </AreaChart>\r\n        </ResponsiveContainer>\r\n      ) : (\r\n        <LocalLoader />\r\n      )}\r\n    </ChartWrapper>\r\n  )\r\n}\r\n\r\nexport default UserChart\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { XAxis, YAxis, ResponsiveContainer, Tooltip, LineChart, Line, CartesianGrid } from 'recharts'\r\nimport { AutoRow, RowBetween } from '../Row'\r\n\r\nimport { toK, toNiceDate, toNiceDateYear, formattedNum, getTimeframe } from '../../utils'\r\nimport { OptionButton } from '../ButtonStyled'\r\nimport { useMedia } from 'react-use'\r\nimport { timeframeOptions } from '../../constants'\r\nimport DropdownSelect from '../DropdownSelect'\r\nimport { useUserPositionChart } from '../../contexts/User'\r\nimport { useTimeframe } from '../../contexts/Application'\r\nimport LocalLoader from '../LocalLoader'\r\nimport { useColor } from '../../hooks'\r\nimport { useDarkModeManager } from '../../contexts/LocalStorage'\r\n\r\nconst ChartWrapper = styled.div`\r\n  max-height: 420px;\r\n\r\n  @media screen and (max-width: 600px) {\r\n    min-height: 200px;\r\n  }\r\n`\r\n\r\nconst OptionsRow = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 100%;\r\n  margin-bottom: 40px;\r\n`\r\n\r\nconst CHART_VIEW = {\r\n  VALUE: 'Value',\r\n  FEES: 'Fees'\r\n}\r\n\r\nconst PairReturnsChart = ({ account, position }) => {\r\n  let data = useUserPositionChart(position, account)\r\n\r\n  const [timeWindow, setTimeWindow] = useTimeframe()\r\n\r\n  const below600 = useMedia('(max-width: 600px)')\r\n\r\n  const color = useColor(position?.pair.token0.id)\r\n\r\n  const [chartView, setChartView] = useState(CHART_VIEW.VALUE)\r\n\r\n  // based on window, get starttime\r\n  let utcStartTime = getTimeframe(timeWindow)\r\n  data = data?.filter(entry => entry.date >= utcStartTime)\r\n\r\n  const aspect = below600 ? 60 / 42 : 60 / 16\r\n\r\n  const [darkMode] = useDarkModeManager()\r\n  const textColor = darkMode ? 'white' : 'black'\r\n\r\n  return (\r\n    <ChartWrapper>\r\n      {below600 ? (\r\n        <RowBetween mb={40}>\r\n          <div />\r\n          <DropdownSelect options={timeframeOptions} active={timeWindow} setActive={setTimeWindow} />\r\n        </RowBetween>\r\n      ) : (\r\n        <OptionsRow>\r\n          <AutoRow gap=\"6px\" style={{ flexWrap: 'nowrap' }}>\r\n            <OptionButton active={chartView === CHART_VIEW.VALUE} onClick={() => setChartView(CHART_VIEW.VALUE)}>\r\n              Liquidity\r\n            </OptionButton>\r\n            <OptionButton active={chartView === CHART_VIEW.FEES} onClick={() => setChartView(CHART_VIEW.FEES)}>\r\n              Fees\r\n            </OptionButton>\r\n          </AutoRow>\r\n          <AutoRow justify=\"flex-end\" gap=\"6px\">\r\n            <OptionButton\r\n              active={timeWindow === timeframeOptions.WEEK}\r\n              onClick={() => setTimeWindow(timeframeOptions.WEEK)}\r\n            >\r\n              1W\r\n            </OptionButton>\r\n            <OptionButton\r\n              active={timeWindow === timeframeOptions.MONTH}\r\n              onClick={() => setTimeWindow(timeframeOptions.MONTH)}\r\n            >\r\n              1M\r\n            </OptionButton>\r\n            <OptionButton\r\n              active={timeWindow === timeframeOptions.ALL_TIME}\r\n              onClick={() => setTimeWindow(timeframeOptions.ALL_TIME)}\r\n            >\r\n              All\r\n            </OptionButton>\r\n          </AutoRow>\r\n        </OptionsRow>\r\n      )}\r\n      <ResponsiveContainer aspect={aspect}>\r\n        {data ? (\r\n          <LineChart margin={{ top: 0, right: 0, bottom: 0, left: 0 }} barCategoryGap={1} data={data}>\r\n            <defs>\r\n              <linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                <stop offset=\"5%\" stopColor={color} stopOpacity={0.35} />\r\n                <stop offset=\"95%\" stopColor={color} stopOpacity={0} />\r\n              </linearGradient>\r\n            </defs>\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <XAxis\r\n              tickLine={false}\r\n              axisLine={false}\r\n              interval=\"preserveEnd\"\r\n              tickMargin={14}\r\n              tickFormatter={tick => toNiceDate(tick)}\r\n              dataKey=\"date\"\r\n              tick={{ fill: textColor }}\r\n              type={'number'}\r\n              domain={['dataMin', 'dataMax']}\r\n            />\r\n            <YAxis\r\n              type=\"number\"\r\n              orientation=\"right\"\r\n              tickFormatter={tick => '$' + toK(tick)}\r\n              axisLine={false}\r\n              tickLine={false}\r\n              interval=\"preserveStartEnd\"\r\n              minTickGap={0}\r\n              yAxisId={0}\r\n              tick={{ fill: textColor }}\r\n            />\r\n            <Tooltip\r\n              cursor={true}\r\n              formatter={val => formattedNum(val, true)}\r\n              labelFormatter={label => toNiceDateYear(label)}\r\n              labelStyle={{ paddingTop: 4 }}\r\n              contentStyle={{\r\n                padding: '10px 14px',\r\n                borderRadius: 10,\r\n                borderColor: color,\r\n                color: 'black'\r\n              }}\r\n              wrapperStyle={{ top: -70, left: -10 }}\r\n            />\r\n\r\n            <Line\r\n              type=\"monotone\"\r\n              dataKey={chartView === CHART_VIEW.VALUE ? 'usdValue' : 'fees'}\r\n              stroke={color}\r\n              yAxisId={0}\r\n              name={chartView === CHART_VIEW.VALUE ? 'Liquidity' : 'Fees Earned (Cumulative)'}\r\n            />\r\n          </LineChart>\r\n        ) : (\r\n          <LocalLoader />\r\n        )}\r\n      </ResponsiveContainer>\r\n    </ChartWrapper>\r\n  )\r\n}\r\n\r\nexport default PairReturnsChart\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useMedia } from 'react-use'\r\nimport dayjs from 'dayjs'\r\nimport LocalLoader from '../LocalLoader'\r\nimport utc from 'dayjs/plugin/utc'\r\nimport { Box, Flex, Text } from 'rebass'\r\nimport styled from 'styled-components'\r\nimport Link, { CustomLink } from '../Link'\r\nimport { Divider } from '../../components'\r\nimport DoubleTokenLogo from '../DoubleLogo'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { formattedNum, getPoolLink } from '../../utils'\r\nimport { AutoColumn } from '../Column'\r\nimport { useBnbPrice } from '../../contexts/GlobalData'\r\nimport { RowFixed } from '../Row'\r\nimport { ButtonLight } from '../ButtonStyled'\r\nimport { TYPE } from '../../Theme'\r\nimport FormattedName from '../FormattedName'\r\n\r\ndayjs.extend(utc)\r\n\r\nconst PageButtons = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 2em;\r\n  margin-bottom: 0.5em;\r\n`\r\n\r\nconst Arrow = styled.div`\r\n  color: ${({ theme }) => theme.primary1};\r\n  opacity: ${props => (props.faded ? 0.3 : 1)};\r\n  padding: 0 20px;\r\n  user-select: none;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst List = styled(Box)`\r\n  -webkit-overflow-scrolling: touch;\r\n`\r\n\r\nconst DashGrid = styled.div`\r\n  display: grid;\r\n  grid-gap: 1em;\r\n  grid-template-columns: 5px 0.5fr 1fr 1fr;\r\n  grid-template-areas: 'number name bscswap return';\r\n  align-items: flex-start;\r\n  padding: 20px 0;\r\n\r\n  > * {\r\n    justify-content: flex-end;\r\n    width: 100%;\r\n\r\n    :first-child {\r\n      justify-content: flex-start;\r\n      text-align: left;\r\n      width: 20px;\r\n    }\r\n  }\r\n\r\n  @media screen and (min-width: 1200px) {\r\n    grid-template-columns: 35px 2.5fr 1fr 1fr;\r\n    grid-template-areas: 'number name bscswap return';\r\n  }\r\n\r\n  @media screen and (max-width: 740px) {\r\n    grid-template-columns: 2.5fr 1fr 1fr;\r\n    grid-template-areas: 'name bscswap return';\r\n  }\r\n\r\n  @media screen and (max-width: 500px) {\r\n    grid-template-columns: 2.5fr 1fr;\r\n    grid-template-areas: 'name bscswap';\r\n  }\r\n`\r\n\r\nconst ListWrapper = styled.div``\r\n\r\nconst ClickableText = styled(Text)`\r\n  color: ${({ theme }) => theme.text1};\r\n  &:hover {\r\n    cursor: pointer;\r\n    opacity: 0.6;\r\n  }\r\n\r\n  text-align: end;\r\n  user-select: none;\r\n`\r\n\r\nconst DataText = styled(Flex)`\r\n  align-items: center;\r\n  text-align: center;\r\n  color: ${({ theme }) => theme.text1};\r\n  & > * {\r\n    font-size: 1em;\r\n  }\r\n\r\n  @media screen and (max-width: 600px) {\r\n    font-size: 13px;\r\n  }\r\n`\r\n\r\nconst SORT_FIELD = {\r\n  VALUE: 'VALUE',\r\n  BSCSWAP_RETURN: 'BSCSWAP_RETURN'\r\n}\r\n\r\nfunction PositionList({ positions }) {\r\n  const below500 = useMedia('(max-width: 500px)')\r\n  const below740 = useMedia('(max-width: 740px)')\r\n\r\n  // pagination\r\n  const [page, setPage] = useState(1)\r\n  const [maxPage, setMaxPage] = useState(1)\r\n  const ITEMS_PER_PAGE = 10\r\n\r\n  // sorting\r\n  const [sortDirection, setSortDirection] = useState(true)\r\n  const [sortedColumn, setSortedColumn] = useState(SORT_FIELD.VALUE)\r\n\r\n  useEffect(() => {\r\n    setMaxPage(1) // edit this to do modular\r\n    setPage(1)\r\n  }, [positions])\r\n\r\n  useEffect(() => {\r\n    if (positions) {\r\n      let extraPages = 1\r\n      if (positions.length % ITEMS_PER_PAGE === 0) {\r\n        extraPages = 0\r\n      }\r\n      setMaxPage(Math.floor(positions.length / ITEMS_PER_PAGE) + extraPages || 1)\r\n    }\r\n  }, [positions])\r\n\r\n  const [bnbPrice] = useBnbPrice()\r\n\r\n  const ListItem = ({ position, index }) => {\r\n    const poolOwnership = position.liquidityTokenBalance / position.pair.totalSupply\r\n    const valueUSD = poolOwnership * position.pair.reserveUSD\r\n\r\n    return (\r\n      <DashGrid style={{ opacity: poolOwnership > 0 ? 1 : 0.6 }} focus={true}>\r\n        {!below740 && <DataText area=\"number\">{index}</DataText>}\r\n        <DataText area=\"name\" justifyContent=\"flex-start\" alignItems=\"flex-start\">\r\n          <AutoColumn gap=\"8px\" justify=\"flex-start\" align=\"flex-start\">\r\n            <DoubleTokenLogo size={16} a0={position.pair.token0.id} a1={position.pair.token1.id} margin={!below740} />\r\n          </AutoColumn>\r\n          <AutoColumn gap=\"8px\" justify=\"flex-start\" style={{ marginLeft: '20px' }}>\r\n            <CustomLink to={'/pair/' + position.pair.id}>\r\n              <TYPE.main style={{ whiteSpace: 'nowrap' }} to={'/pair/'}>\r\n                <FormattedName\r\n                  text={position.pair.token0.symbol + '-' + position.pair.token1.symbol}\r\n                  maxCharacters={below740 ? 10 : 18}\r\n                />\r\n              </TYPE.main>\r\n            </CustomLink>\r\n\r\n            <RowFixed gap=\"8px\" justify=\"flex-start\">\r\n              <Link\r\n                external\r\n                href={getPoolLink(position.pair.token0.id, position.pair.token1.id)}\r\n                style={{ marginRight: '.5rem' }}\r\n              >\r\n                <ButtonLight style={{ padding: '4px 6px', borderRadius: '4px' }}>Add</ButtonLight>\r\n              </Link>\r\n              {poolOwnership > 0 && (\r\n                <Link external href={getPoolLink(position.pair.token0.id, position.pair.token1.id, true)}>\r\n                  <ButtonLight style={{ padding: '4px 6px', borderRadius: '4px' }}>Remove</ButtonLight>\r\n                </Link>\r\n              )}\r\n            </RowFixed>\r\n          </AutoColumn>\r\n        </DataText>\r\n        <DataText area=\"bscswap\">\r\n          <AutoColumn gap=\"12px\" justify=\"flex-end\">\r\n            <TYPE.main>{formattedNum(valueUSD, true, true)}</TYPE.main>\r\n            <AutoColumn gap=\"4px\" justify=\"flex-end\">\r\n              <RowFixed>\r\n                <TYPE.small fontWeight={400}>\r\n                  {formattedNum(poolOwnership * parseFloat(position.pair.reserve0))}{' '}\r\n                </TYPE.small>\r\n                <FormattedName\r\n                  text={position.pair.token0.symbol}\r\n                  maxCharacters={below740 ? 10 : 18}\r\n                  margin={true}\r\n                  fontSize={'11px'}\r\n                />\r\n              </RowFixed>\r\n              <RowFixed>\r\n                <TYPE.small fontWeight={400}>\r\n                  {formattedNum(poolOwnership * parseFloat(position.pair.reserve1))}{' '}\r\n                </TYPE.small>\r\n                <FormattedName\r\n                  text={position.pair.token1.symbol}\r\n                  maxCharacters={below740 ? 10 : 18}\r\n                  margin={true}\r\n                  fontSize={'11px'}\r\n                />\r\n              </RowFixed>\r\n            </AutoColumn>\r\n          </AutoColumn>\r\n        </DataText>\r\n        {!below500 && (\r\n          <DataText area=\"return\">\r\n            <AutoColumn gap=\"12px\" justify=\"flex-end\">\r\n              <TYPE.main color={'green'}>\r\n                <RowFixed>{formattedNum(position?.fees.sum, true, true)}</RowFixed>\r\n              </TYPE.main>\r\n              <AutoColumn gap=\"4px\" justify=\"flex-end\">\r\n                <RowFixed>\r\n                  <TYPE.small fontWeight={400}>\r\n                    {parseFloat(position.pair.token0.derivedBNB)\r\n                      ? formattedNum(\r\n                          position?.fees.sum / (parseFloat(position.pair.token0.derivedBNB) * bnbPrice) / 2,\r\n                          false,\r\n                          true\r\n                        )\r\n                      : 0}{' '}\r\n                  </TYPE.small>\r\n                  <FormattedName\r\n                    text={position.pair.token0.symbol}\r\n                    maxCharacters={below740 ? 10 : 18}\r\n                    margin={true}\r\n                    fontSize={'11px'}\r\n                  />\r\n                </RowFixed>\r\n                <RowFixed>\r\n                  <TYPE.small fontWeight={400}>\r\n                    {parseFloat(position.pair.token1.derivedBNB)\r\n                      ? formattedNum(\r\n                          position?.fees.sum / (parseFloat(position.pair.token1.derivedBNB) * bnbPrice) / 2,\r\n                          false,\r\n                          true\r\n                        )\r\n                      : 0}{' '}\r\n                  </TYPE.small>\r\n                  <FormattedName\r\n                    text={position.pair.token1.symbol}\r\n                    maxCharacters={below740 ? 10 : 18}\r\n                    margin={true}\r\n                    fontSize={'11px'}\r\n                  />\r\n                </RowFixed>\r\n              </AutoColumn>\r\n            </AutoColumn>\r\n          </DataText>\r\n        )}\r\n      </DashGrid>\r\n    )\r\n  }\r\n\r\n  const positionsSorted =\r\n    positions &&\r\n    positions\r\n\r\n      .sort((p0, p1) => {\r\n        if (sortedColumn === SORT_FIELD.PRINCIPAL) {\r\n          return p0?.principal?.usd > p1?.principal?.usd ? (sortDirection ? -1 : 1) : sortDirection ? 1 : -1\r\n        }\r\n        if (sortedColumn === SORT_FIELD.HODL) {\r\n          return p0?.hodl?.sum > p1?.hodl?.sum ? (sortDirection ? -1 : 1) : sortDirection ? 1 : -1\r\n        }\r\n        if (sortedColumn === SORT_FIELD.BSCSWAP_RETURN) {\r\n          return p0?.bscswap?.return > p1?.bscswap?.return ? (sortDirection ? -1 : 1) : sortDirection ? 1 : -1\r\n        }\r\n        if (sortedColumn === SORT_FIELD.VALUE) {\r\n          const bal0 = (p0.liquidityTokenBalance / p0.pair.totalSupply) * p0.pair.reserveUSD\r\n          const bal1 = (p1.liquidityTokenBalance / p1.pair.totalSupply) * p1.pair.reserveUSD\r\n          return bal0 > bal1 ? (sortDirection ? -1 : 1) : sortDirection ? 1 : -1\r\n        }\r\n        return 1\r\n      })\r\n      .slice(ITEMS_PER_PAGE * (page - 1), page * ITEMS_PER_PAGE)\r\n      .map((position, index) => {\r\n        return (\r\n          <div key={index}>\r\n            <ListItem key={index} index={(page - 1) * 10 + index + 1} position={position} />\r\n            <Divider />\r\n          </div>\r\n        )\r\n      })\r\n\r\n  return (\r\n    <ListWrapper>\r\n      <DashGrid center={true} style={{ height: '32px', padding: 0 }}>\r\n        {!below740 && (\r\n          <Flex alignItems=\"flex-start\" justifyContent=\"flexStart\">\r\n            <TYPE.main area=\"number\">#</TYPE.main>\r\n          </Flex>\r\n        )}\r\n        <Flex alignItems=\"flex-start\" justifyContent=\"flex-start\">\r\n          <TYPE.main area=\"number\">Name</TYPE.main>\r\n        </Flex>\r\n        <Flex alignItems=\"center\" justifyContent=\"flexEnd\">\r\n          <ClickableText\r\n            area=\"bscswap\"\r\n            onClick={e => {\r\n              setSortedColumn(SORT_FIELD.VALUE)\r\n              setSortDirection(sortedColumn !== SORT_FIELD.VALUE ? true : !sortDirection)\r\n            }}\r\n          >\r\n            {below740 ? 'Value' : 'Liquidity'} {sortedColumn === SORT_FIELD.VALUE ? (!sortDirection ? '↑' : '↓') : ''}\r\n          </ClickableText>\r\n        </Flex>\r\n        {!below500 && (\r\n          <Flex alignItems=\"center\" justifyContent=\"flexEnd\">\r\n            <ClickableText\r\n              area=\"return\"\r\n              onClick={() => {\r\n                setSortedColumn(SORT_FIELD.BSCSWAP_RETURN)\r\n                setSortDirection(sortedColumn !== SORT_FIELD.BSCSWAP_RETURN ? true : !sortDirection)\r\n              }}\r\n            >\r\n              {below740 ? 'Fees' : 'Total Fees Earned'}{' '}\r\n              {sortedColumn === SORT_FIELD.BSCSWAP_RETURN ? (!sortDirection ? '↑' : '↓') : ''}\r\n            </ClickableText>\r\n          </Flex>\r\n        )}\r\n      </DashGrid>\r\n      <Divider />\r\n      <List p={0}>{!positionsSorted ? <LocalLoader /> : positionsSorted}</List>\r\n      <PageButtons>\r\n        <div onClick={() => setPage(page === 1 ? page : page - 1)}>\r\n          <Arrow faded={page === 1 ? true : false}>←</Arrow>\r\n        </div>\r\n        <TYPE.body>{'Page ' + page + ' of ' + maxPage}</TYPE.body>\r\n        <div onClick={() => setPage(page === maxPage ? page : page + 1)}>\r\n          <Arrow faded={page === maxPage ? true : false}>→</Arrow>\r\n        </div>\r\n      </PageButtons>\r\n    </ListWrapper>\r\n  )\r\n}\r\n\r\nexport default withRouter(PositionList)\r\n","import React, { useState, useMemo, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { useUserTransactions, useUserPositions } from '../contexts/User'\r\nimport TxnList from '../components/TxnList'\r\nimport Panel from '../components/Panel'\r\nimport { formattedNum } from '../utils'\r\nimport Row, { AutoRow, RowFixed, RowBetween } from '../components/Row'\r\nimport { AutoColumn } from '../components/Column'\r\nimport UserChart from '../components/UserChart'\r\nimport PairReturnsChart from '../components/PairReturnsChart'\r\nimport PositionList from '../components/PositionList'\r\nimport { TYPE } from '../Theme'\r\nimport { ButtonDropdown } from '../components/ButtonStyled'\r\nimport { PageWrapper, ContentWrapper, StyledIcon } from '../components'\r\nimport DoubleTokenLogo from '../components/DoubleLogo'\r\nimport { Bookmark, Activity } from 'react-feather'\r\nimport Link from '../components/Link'\r\nimport { FEE_WARNING_TOKENS } from '../constants'\r\nimport { BasicLink } from '../components/Link'\r\nimport { useMedia } from 'react-use'\r\nimport Search from '../components/Search'\r\n\r\nconst AccountWrapper = styled.div`\r\n  background-color: rgba(255, 255, 255, 0.2);\r\n  padding: 6px 16px;\r\n  border-radius: 100px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\n\r\nconst Header = styled.div``\r\n\r\nconst DashboardWrapper = styled.div`\r\n  width: 100%;\r\n`\r\n\r\nconst DropdownWrapper = styled.div`\r\n  position: relative;\r\n  margin-bottom: 1rem;\r\n  border: 1px solid #edeef2;\r\n  border-radius: 12px;\r\n`\r\n\r\nconst Flyout = styled.div`\r\n  position: absolute;\r\n  top: 38px;\r\n  left: -1px;\r\n  width: 100%;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  z-index: 999;\r\n  border-bottom-right-radius: 10px;\r\n  border-bottom-left-radius: 10px;\r\n  padding-top: 4px;\r\n  border: 1px solid #edeef2;\r\n  border-top: none;\r\n`\r\n\r\nconst MenuRow = styled(Row)`\r\n  width: 100%;\r\n  padding: 12px 0;\r\n  padding-left: 12px;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n    background-color: ${({ theme }) => theme.bg2};\r\n  }\r\n`\r\n\r\nconst PanelWrapper = styled.div`\r\n  grid-template-columns: 1fr;\r\n  grid-template-rows: max-content;\r\n  gap: 6px;\r\n  display: inline-grid;\r\n  width: 100%;\r\n  align-items: start;\r\n`\r\n\r\nconst Warning = styled.div`\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  color: ${({ theme }) => theme.text1};\r\n  padding: 1rem;\r\n  font-weight: 600;\r\n  border-radius: 10px;\r\n  margin-bottom: 1rem;\r\n  width: calc(100% - 2rem);\r\n`\r\n\r\nfunction AccountPage({ account }) {\r\n  // get data for this account\r\n  const transactions = useUserTransactions(account)\r\n  const positions = useUserPositions(account)\r\n\r\n  // get data for user stats\r\n  const transactionCount = transactions?.swaps?.length + transactions?.burns?.length + transactions?.mints?.length\r\n\r\n  // get derived totals\r\n  let totalSwappedUSD = useMemo(() => {\r\n    return transactions?.swaps\r\n      ? transactions?.swaps.reduce((total, swap) => {\r\n          return total + parseFloat(swap.amountUSD)\r\n        }, 0)\r\n      : 0\r\n  }, [transactions])\r\n\r\n  // if any position has token from fee warning list, show warning\r\n  const [showWarning, setShowWarning] = useState(false)\r\n  useEffect(() => {\r\n    if (positions) {\r\n      for (let i = 0; i < positions.length; i++) {\r\n        if (\r\n          FEE_WARNING_TOKENS.includes(positions[i].pair.token0.id) ||\r\n          FEE_WARNING_TOKENS.includes(positions[i].pair.token1.id)\r\n        ) {\r\n          setShowWarning(true)\r\n        }\r\n      }\r\n    }\r\n  }, [positions])\r\n\r\n  // settings for list view and dropdowns\r\n  const hideLPContent = positions && positions.length === 0\r\n  const [showDropdown, setShowDropdown] = useState(false)\r\n  const [activePosition, setActivePosition] = useState()\r\n\r\n  const dynamicPositions = activePosition ? [activePosition] : positions\r\n\r\n  const aggregateFees = dynamicPositions?.reduce(function(total, position) {\r\n    return total + position.fees.sum\r\n  }, 0)\r\n\r\n  const positionValue = useMemo(() => {\r\n    return dynamicPositions\r\n      ? dynamicPositions.reduce((total, position) => {\r\n          return (\r\n            total +\r\n            (parseFloat(position?.liquidityTokenBalance) / parseFloat(position?.pair?.totalSupply)) *\r\n              position?.pair?.reserveUSD\r\n          )\r\n        }, 0)\r\n      : null\r\n  }, [dynamicPositions])\r\n\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      behavior: 'smooth',\r\n      top: 0\r\n    })\r\n  }, [])\r\n\r\n  const below600 = useMedia('(max-width: 600px)')\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <ContentWrapper>\r\n        <RowBetween>\r\n          <TYPE.body>\r\n            <BasicLink to=\"/accounts\">{'Accounts '}</BasicLink>→{' '}\r\n            <Link lineHeight={'145.23%'} href={'https://bscscan.com/address/' + account} target=\"_blank\">\r\n              {' '}\r\n              {account?.slice(0, 42)}{' '}\r\n            </Link>\r\n          </TYPE.body>\r\n          {!below600 && <Search small={true} />}\r\n        </RowBetween>\r\n        <Header>\r\n          <RowBetween>\r\n            <span>\r\n              <TYPE.header fontSize={24}>{account?.slice(0, 6) + '...' + account?.slice(38, 42)}</TYPE.header>\r\n              <Link lineHeight={'145.23%'} href={'https://bscscan.com/address/' + account} target=\"_blank\">\r\n                <TYPE.main fontSize={14}>View on BscScan</TYPE.main>\r\n              </Link>\r\n            </span>\r\n            <AccountWrapper>\r\n              <StyledIcon>\r\n                <Bookmark style={{ opacity: 0.4 }} />\r\n              </StyledIcon>\r\n            </AccountWrapper>\r\n          </RowBetween>\r\n        </Header>\r\n        <DashboardWrapper>\r\n          {showWarning && <Warning>Fees cannot currently be calculated for pairs that include AMPL.</Warning>}\r\n          {!hideLPContent && (\r\n            <DropdownWrapper>\r\n              <ButtonDropdown width=\"100%\" onClick={() => setShowDropdown(!showDropdown)} open={showDropdown}>\r\n                {!activePosition && (\r\n                  <RowFixed>\r\n                    <StyledIcon>\r\n                      <Activity size={16} />\r\n                    </StyledIcon>\r\n                    <TYPE.body ml={'10px'}>All Positions</TYPE.body>\r\n                  </RowFixed>\r\n                )}\r\n                {activePosition && (\r\n                  <RowFixed>\r\n                    <DoubleTokenLogo a0={activePosition.pair.token0.id} a1={activePosition.pair.token1.id} size={16} />\r\n                    <TYPE.body ml={'16px'}>\r\n                      {activePosition.pair.token0.symbol}-{activePosition.pair.token1.symbol} Position\r\n                    </TYPE.body>\r\n                  </RowFixed>\r\n                )}\r\n              </ButtonDropdown>\r\n              {showDropdown && (\r\n                <Flyout>\r\n                  <AutoColumn gap=\"0px\">\r\n                    {positions?.map((p, i) => {\r\n                      if (p.pair.token1.symbol === 'WBNB') {\r\n                        p.pair.token1.symbol = 'BNB'\r\n                      }\r\n                      if (p.pair.token0.symbol === 'WBNB') {\r\n                        p.pair.token0.symbol = 'BNB'\r\n                      }\r\n                      return (\r\n                        p.pair.id !== activePosition?.pair.id && (\r\n                          <MenuRow\r\n                            onClick={() => {\r\n                              setActivePosition(p)\r\n                              setShowDropdown(false)\r\n                            }}\r\n                            key={i}\r\n                          >\r\n                            <DoubleTokenLogo a0={p.pair.token0.id} a1={p.pair.token1.id} size={16} />\r\n                            <TYPE.body ml={'16px'}>\r\n                              {p.pair.token0.symbol}-{p.pair.token1.symbol} Position\r\n                            </TYPE.body>\r\n                          </MenuRow>\r\n                        )\r\n                      )\r\n                    })}\r\n                    {activePosition && (\r\n                      <MenuRow\r\n                        onClick={() => {\r\n                          setActivePosition()\r\n                          setShowDropdown(false)\r\n                        }}\r\n                      >\r\n                        <RowFixed>\r\n                          <StyledIcon>\r\n                            <Activity size={16} />\r\n                          </StyledIcon>\r\n                          <TYPE.body ml={'10px'}>All Positions</TYPE.body>\r\n                        </RowFixed>\r\n                      </MenuRow>\r\n                    )}\r\n                  </AutoColumn>\r\n                </Flyout>\r\n              )}\r\n            </DropdownWrapper>\r\n          )}\r\n          {!hideLPContent && (\r\n            <Panel style={{ height: '100%', marginBottom: '1rem' }}>\r\n              <AutoRow gap=\"20px\">\r\n                <AutoColumn gap=\"10px\">\r\n                  <RowBetween>\r\n                    <TYPE.body>Liquidity (Including Fees)</TYPE.body>\r\n                    <div />\r\n                  </RowBetween>\r\n                  <RowFixed align=\"flex-end\">\r\n                    <TYPE.header fontSize={'24px'} lineHeight={1}>\r\n                      {positionValue\r\n                        ? formattedNum(positionValue, true)\r\n                        : positionValue === 0\r\n                        ? formattedNum(0, true)\r\n                        : '-'}\r\n                    </TYPE.header>\r\n                  </RowFixed>\r\n                </AutoColumn>\r\n                <AutoColumn gap=\"10px\">\r\n                  <RowBetween>\r\n                    <TYPE.body>Fees Earned (Cumulative)</TYPE.body>\r\n                    <div />\r\n                  </RowBetween>\r\n                  <RowFixed align=\"flex-end\">\r\n                    <TYPE.header fontSize={'24px'} lineHeight={1} color={aggregateFees && 'green'}>\r\n                      {aggregateFees ? formattedNum(aggregateFees, true, true) : '-'}\r\n                    </TYPE.header>\r\n                  </RowFixed>\r\n                </AutoColumn>\r\n              </AutoRow>\r\n            </Panel>\r\n          )}\r\n          {!hideLPContent && (\r\n            <PanelWrapper>\r\n              <Panel style={{ gridColumn: '1' }}>\r\n                {activePosition ? (\r\n                  <PairReturnsChart account={account} position={activePosition} />\r\n                ) : (\r\n                  <UserChart account={account} position={activePosition} />\r\n                )}\r\n              </Panel>\r\n            </PanelWrapper>\r\n          )}\r\n          <TYPE.main fontSize={'1.125rem'} style={{ marginTop: '3rem' }}>\r\n            Positions\r\n          </TYPE.main>{' '}\r\n          <Panel\r\n            style={{\r\n              marginTop: '1.5rem'\r\n            }}\r\n          >\r\n            <PositionList positions={positions} />\r\n          </Panel>\r\n          <TYPE.main fontSize={'1.125rem'} style={{ marginTop: '3rem' }}>\r\n            Transactions\r\n          </TYPE.main>{' '}\r\n          <Panel\r\n            style={{\r\n              marginTop: '1.5rem'\r\n            }}\r\n          >\r\n            <TxnList transactions={transactions} />\r\n          </Panel>\r\n          <TYPE.main fontSize={'1.125rem'} style={{ marginTop: '3rem' }}>\r\n            Wallet Stats\r\n          </TYPE.main>{' '}\r\n          <Panel\r\n            style={{\r\n              marginTop: '1.5rem'\r\n            }}\r\n          >\r\n            <AutoRow gap=\"20px\">\r\n              <AutoColumn gap=\"8px\">\r\n                <TYPE.header fontSize={24}>{totalSwappedUSD ? formattedNum(totalSwappedUSD, true) : '-'}</TYPE.header>\r\n                <TYPE.main>Total Value Swapped</TYPE.main>\r\n              </AutoColumn>\r\n              <AutoColumn gap=\"8px\">\r\n                <TYPE.header fontSize={24}>\r\n                  {totalSwappedUSD ? formattedNum(totalSwappedUSD * 0.003, true) : '-'}\r\n                </TYPE.header>\r\n                <TYPE.main>Total Fees Paid</TYPE.main>\r\n              </AutoColumn>\r\n              <AutoColumn gap=\"8px\">\r\n                <TYPE.header fontSize={24}>{transactionCount ? transactionCount : '-'}</TYPE.header>\r\n                <TYPE.main>Total Transactions</TYPE.main>\r\n              </AutoColumn>\r\n            </AutoRow>\r\n          </Panel>\r\n        </DashboardWrapper>\r\n      </ContentWrapper>\r\n    </PageWrapper>\r\n  )\r\n}\r\n\r\nexport default AccountPage\r\n","import React, { useEffect } from 'react'\r\nimport 'feather-icons'\r\n\r\nimport TopTokenList from '../components/TokenList'\r\nimport { TYPE } from '../Theme'\r\nimport Panel from '../components/Panel'\r\nimport { useAllTokenData } from '../contexts/TokenData'\r\nimport { PageWrapper, FullWrapper } from '../components'\r\nimport { RowBetween } from '../components/Row'\r\nimport Search from '../components/Search'\r\nimport { useMedia } from 'react-use'\r\n\r\nfunction AllTokensPage() {\r\n  const allTokens = useAllTokenData()\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [])\r\n\r\n  const below600 = useMedia('(max-width: 800px)')\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <FullWrapper>\r\n        <RowBetween>\r\n          <TYPE.largeHeader>Top Tokens</TYPE.largeHeader>\r\n          {!below600 && <Search small={true} />}\r\n        </RowBetween>\r\n        <Panel style={{ marginTop: '6px', padding: below600 && '1rem 0 0 0 ' }}>\r\n          <TopTokenList tokens={allTokens} itemMax={50} />\r\n        </Panel>\r\n      </FullWrapper>\r\n    </PageWrapper>\r\n  )\r\n}\r\n\r\nexport default AllTokensPage\r\n","import React, { useEffect } from 'react'\r\nimport 'feather-icons'\r\n\r\nimport { TYPE } from '../Theme'\r\nimport Panel from '../components/Panel'\r\nimport { useAllPairData } from '../contexts/PairData'\r\nimport PairList from '../components/PairList'\r\nimport { PageWrapper, FullWrapper } from '../components'\r\nimport { RowBetween } from '../components/Row'\r\nimport Search from '../components/Search'\r\nimport { useMedia } from 'react-use'\r\n\r\nfunction AllPairsPage() {\r\n  const allPairs = useAllPairData()\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [])\r\n\r\n  const below800 = useMedia('(max-width: 800px)')\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <FullWrapper>\r\n        <RowBetween>\r\n          <TYPE.largeHeader>Top Pairs</TYPE.largeHeader>\r\n          {!below800 && <Search small={true} />}\r\n        </RowBetween>\r\n        <Panel style={{ padding: below800 && '1rem 0 0 0 ' }}>\r\n          <PairList pairs={allPairs} disbaleLinks={true} maxItems={50} />\r\n        </Panel>\r\n      </FullWrapper>\r\n    </PageWrapper>\r\n  )\r\n}\r\n\r\nexport default AllPairsPage\r\n","import React, { useState } from 'react'\r\nimport 'feather-icons'\r\nimport { withRouter } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { ButtonLight, ButtonFaded } from '../ButtonStyled'\r\nimport { AutoRow, RowBetween } from '../Row'\r\nimport { isAddress } from '../../utils'\r\nimport { useSavedAccounts } from '../../contexts/LocalStorage'\r\nimport { AutoColumn } from '../Column'\r\nimport { TYPE } from '../../Theme'\r\nimport { Hover, StyledIcon } from '..'\r\nimport Panel from '../Panel'\r\nimport { Divider } from '..'\r\nimport { Flex } from 'rebass'\r\n\r\nimport { X } from 'react-feather'\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  width: 100%;\r\n  border-radius: 12px;\r\n`\r\n\r\nconst Input = styled.input`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  white-space: nowrap;\r\n  background: none;\r\n  border: none;\r\n  outline: none;\r\n  padding: 12px 16px;\r\n  border-radius: 12px;\r\n  color: ${({ theme }) => theme.text1};\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  font-size: 16px;\r\n  margin-right: 1rem;\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n\r\n  ::placeholder {\r\n    color: ${({ theme }) => theme.text3};\r\n    font-size: 14px;\r\n  }\r\n\r\n  @media screen and (max-width: 640px) {\r\n    ::placeholder {\r\n      font-size: 1rem;\r\n    }\r\n  }\r\n`\r\n\r\nconst AccountLink = styled.span`\r\n  display: flex;\r\n  cursor: pointer;\r\n  color: ${({ theme }) => theme.link};\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n`\r\n\r\nconst DashGrid = styled.div`\r\n  display: grid;\r\n  grid-gap: 1em;\r\n  grid-template-columns: 1fr;\r\n  grid-template-areas: 'account';\r\n  padding: 0 4px;\r\n\r\n  > * {\r\n    justify-content: flex-end;\r\n  }\r\n`\r\n\r\nfunction AccountSearch({ history, small }) {\r\n  const [accountValue, setAccountValue] = useState()\r\n  const [savedAccounts, addAccount, removeAccount] = useSavedAccounts()\r\n\r\n  function handleAccountSearch() {\r\n    if (isAddress(accountValue)) {\r\n      history.push('/account/' + accountValue)\r\n      if (!savedAccounts.includes(accountValue)) {\r\n        addAccount(accountValue)\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <AutoColumn gap={'1rem'}>\r\n      {!small && (\r\n        <>\r\n          <AutoRow>\r\n            <Wrapper>\r\n              <Input\r\n                placeholder=\"0x...\"\r\n                onChange={e => {\r\n                  setAccountValue(e.target.value)\r\n                }}\r\n              />\r\n            </Wrapper>\r\n            <ButtonLight onClick={handleAccountSearch}>Load Account Details</ButtonLight>\r\n          </AutoRow>\r\n        </>\r\n      )}\r\n\r\n      <AutoColumn gap={'12px'}>\r\n        {!small && (\r\n          <Panel>\r\n            <DashGrid center={true} style={{ height: 'fit-content', padding: '0 0 1rem 0' }}>\r\n              <TYPE.main area=\"account\">Saved Accounts</TYPE.main>\r\n            </DashGrid>\r\n            <Divider />\r\n            {savedAccounts?.length > 0 ? (\r\n              savedAccounts.map(account => {\r\n                return (\r\n                  <DashGrid key={account} center={true} style={{ height: 'fit-content', padding: '1rem 0 0 0' }}>\r\n                    <Flex\r\n                      area=\"account\"\r\n                      justifyContent=\"space-between\"\r\n                      onClick={() => history.push('/account/' + account)}\r\n                    >\r\n                      <AccountLink>{account?.slice(0, 42)}</AccountLink>\r\n                      <Hover onClick={() => removeAccount(account)}>\r\n                        <StyledIcon>\r\n                          <X size={16} />\r\n                        </StyledIcon>\r\n                      </Hover>\r\n                    </Flex>\r\n                  </DashGrid>\r\n                )\r\n              })\r\n            ) : (\r\n              <TYPE.light style={{ marginTop: '1rem' }}>No saved accounts</TYPE.light>\r\n            )}\r\n          </Panel>\r\n        )}\r\n\r\n        {small && (\r\n          <>\r\n            <TYPE.main>{'Accounts'}</TYPE.main>\r\n            {savedAccounts?.length > 0 ? (\r\n              savedAccounts.map(account => {\r\n                return (\r\n                  <RowBetween key={account}>\r\n                    <ButtonFaded onClick={() => history.push('/account/' + account)}>\r\n                      {small ? (\r\n                        <TYPE.header>{account?.slice(0, 6) + '...' + account?.slice(38, 42)}</TYPE.header>\r\n                      ) : (\r\n                        <AccountLink>{account?.slice(0, 42)}</AccountLink>\r\n                      )}\r\n                    </ButtonFaded>\r\n                    <Hover onClick={() => removeAccount(account)}>\r\n                      <StyledIcon>\r\n                        <X size={16} />\r\n                      </StyledIcon>\r\n                    </Hover>\r\n                  </RowBetween>\r\n                )\r\n              })\r\n            ) : (\r\n              <TYPE.light>No pinned wallets</TYPE.light>\r\n            )}\r\n          </>\r\n        )}\r\n      </AutoColumn>\r\n    </AutoColumn>\r\n  )\r\n}\r\n\r\nexport default withRouter(AccountSearch)\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { RowBetween, RowFixed } from '../Row'\r\nimport { AutoColumn } from '../Column'\r\nimport { TYPE } from '../../Theme'\r\nimport { useSavedTokens, useSavedPairs } from '../../contexts/LocalStorage'\r\nimport { Hover } from '..'\r\nimport TokenLogo from '../TokenLogo'\r\nimport AccountSearch from '../AccountSearch'\r\nimport { Bookmark, ChevronRight, X } from 'react-feather'\r\nimport { ButtonFaded } from '../ButtonStyled'\r\nimport FormattedName from '../FormattedName'\r\n\r\nconst RightColumn = styled.div`\r\n  position: fixed;\r\n  right: 0;\r\n  top: 0px;\r\n  height: 100vh;\r\n  width: ${({ open }) => (open ? '160px' : '23px')};\r\n  padding: 1.25rem;\r\n  border-left: ${({ theme, open }) => '1px solid' + theme.bg3};\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  z-index: 9999;\r\n  overflow: scroll;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst SavedButton = styled(RowBetween)`\r\n  padding-bottom: ${({ open }) => open && '20px'};\r\n  border-bottom: ${({ theme, open }) => open && '1px solid' + theme.bg3};\r\n  margin-bottom: ${({ open }) => open && '1.25rem'};\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst ScrollableDiv = styled(AutoColumn)`\r\n  overflow: scroll;\r\n  padding-bottom: 60px;\r\n`\r\n\r\nconst StyledIcon = styled.div`\r\n  color: ${({ theme }) => theme.text2};\r\n`\r\n\r\nfunction PinnedData({ history, open, setSavedOpen }) {\r\n  const [savedPairs, , removePair] = useSavedPairs()\r\n  const [savedTokens, , removeToken] = useSavedTokens()\r\n\r\n  return !open ? (\r\n    <RightColumn open={open} onClick={() => setSavedOpen(true)}>\r\n      <SavedButton open={open}>\r\n        <StyledIcon>\r\n          <Bookmark size={20} />\r\n        </StyledIcon>\r\n      </SavedButton>\r\n    </RightColumn>\r\n  ) : (\r\n    <RightColumn gap=\"1rem\" open={open}>\r\n      <SavedButton onClick={() => setSavedOpen(false)} open={open}>\r\n        <RowFixed>\r\n          <StyledIcon>\r\n            <Bookmark size={16} />\r\n          </StyledIcon>\r\n          <TYPE.main ml={'4px'}>Saved</TYPE.main>\r\n        </RowFixed>\r\n        <StyledIcon>\r\n          <ChevronRight />\r\n        </StyledIcon>\r\n      </SavedButton>\r\n      <AccountSearch small={true} />\r\n      <AutoColumn gap=\"40px\" style={{ marginTop: '2rem' }}>\r\n        <AutoColumn gap={'12px'}>\r\n          <TYPE.main>Pinned Pairs</TYPE.main>\r\n          {Object.keys(savedPairs).filter(key => {\r\n            return !!savedPairs[key]\r\n          }).length > 0 ? (\r\n            Object.keys(savedPairs)\r\n              .filter(address => {\r\n                return !!savedPairs[address]\r\n              })\r\n              .map(address => {\r\n                const pair = savedPairs[address]\r\n                return (\r\n                  <RowBetween key={pair.address}>\r\n                    <ButtonFaded onClick={() => history.push('/pair/' + address)}>\r\n                      <RowFixed>\r\n                        <TYPE.header>\r\n                          <FormattedName\r\n                            text={pair.token0Symbol + '/' + pair.token1Symbol}\r\n                            maxCharacters={12}\r\n                            fontSize={'12px'}\r\n                          />\r\n                        </TYPE.header>\r\n                      </RowFixed>\r\n                    </ButtonFaded>\r\n                    <Hover onClick={() => removePair(pair.address)}>\r\n                      <StyledIcon>\r\n                        <X size={16} />\r\n                      </StyledIcon>\r\n                    </Hover>\r\n                  </RowBetween>\r\n                )\r\n              })\r\n          ) : (\r\n            <TYPE.light>Pinned pairs will appear here.</TYPE.light>\r\n          )}\r\n        </AutoColumn>\r\n        <ScrollableDiv gap={'12px'}>\r\n          <TYPE.main>Pinned Tokens</TYPE.main>\r\n          {Object.keys(savedTokens).filter(key => {\r\n            return !!savedTokens[key]\r\n          }).length > 0 ? (\r\n            Object.keys(savedTokens)\r\n              .filter(address => {\r\n                return !!savedTokens[address]\r\n              })\r\n              .map(address => {\r\n                const token = savedTokens[address]\r\n                return (\r\n                  <RowBetween key={address}>\r\n                    <ButtonFaded onClick={() => history.push('/token/' + address)}>\r\n                      <RowFixed>\r\n                        <TokenLogo address={address} size={'14px'} />\r\n                        <TYPE.header ml={'6px'}>\r\n                          <FormattedName text={token.symbol} maxCharacters={12} fontSize={'12px'} />\r\n                        </TYPE.header>\r\n                      </RowFixed>\r\n                    </ButtonFaded>\r\n                    <Hover onClick={() => removeToken(address)}>\r\n                      <StyledIcon>\r\n                        <X size={16} />\r\n                      </StyledIcon>\r\n                    </Hover>\r\n                  </RowBetween>\r\n                )\r\n              })\r\n          ) : (\r\n            <TYPE.light>Pinned tokens will appear here.</TYPE.light>\r\n          )}\r\n        </ScrollableDiv>\r\n      </AutoColumn>\r\n    </RightColumn>\r\n  )\r\n}\r\n\r\nexport default withRouter(PinnedData)\r\n","import React from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\n\r\nimport { Flex } from 'rebass'\r\nimport Link from '../Link'\r\nimport { RowFixed } from '../Row'\r\nimport Logo from '../../assets/logo_white.png'\r\nimport Wordmark from '../../assets/wordmark_white.png'\r\n\r\nconst TitleWrapper = styled.div`\r\n  text-decoration: none;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  z-index: 10;\r\n`\r\n\r\nconst UniIcon = styled(Link)`\r\n  transition: transform 0.3s ease;\r\n  :hover {\r\n    transform: rotate(-5deg);\r\n  }\r\n`\r\n\r\nexport default function Title() {\r\n  const history = useHistory()\r\n\r\n  return (\r\n    <TitleWrapper onClick={() => history.push('/')}>\r\n      <Flex alignItems=\"center\">\r\n        <RowFixed>\r\n          <UniIcon id=\"link\" onClick={() => history.push('/')}>\r\n            <img width={'24px'} src={Logo} alt=\"logo\" />\r\n          </UniIcon>\r\n          <img width={'84px'} style={{ marginLeft: '8px', marginTop: '0px' }} src={Wordmark} alt=\"logo\" />\r\n        </RowFixed>\r\n      </Flex>\r\n    </TitleWrapper>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Sun, Moon } from 'react-feather'\r\n\r\nconst IconWrapper = styled.div<{ isActive?: boolean }>`\r\n  opacity: ${({ isActive }) => (isActive ? 0.8 : 0.4)};\r\n\r\n  :hover {\r\n    opacity: 1;\r\n  }\r\n`\r\n\r\nconst StyledToggle = styled.div`\r\n  display: flex;\r\n  width: fit-content;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n  margin-top: 1rem;\r\n  color: white;\r\n\r\n  :hover {\r\n    text-decoration: none;\r\n  }\r\n`\r\n\r\nexport interface ToggleProps {\r\n  isActive: boolean\r\n  toggle: () => void\r\n}\r\n\r\nexport default function Toggle({ isActive, toggle }: ToggleProps) {\r\n  return (\r\n    <StyledToggle onClick={toggle}>\r\n      <span>\r\n        <IconWrapper isActive={!isActive}>\r\n          <Sun size={20} />\r\n        </IconWrapper>\r\n      </span>\r\n      <span style={{ padding: '0 .5rem' }}>{' / '}</span>\r\n      <span>\r\n        <IconWrapper isActive={isActive}>\r\n          <Moon size={20} />\r\n        </IconWrapper>\r\n      </span>\r\n    </StyledToggle>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { AutoColumn } from '../Column'\r\nimport Title from '../Title'\r\nimport { BasicLink } from '../Link'\r\nimport { useMedia } from 'react-use'\r\nimport { transparentize } from 'polished'\r\nimport { TYPE } from '../../Theme'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { TrendingUp, List, PieChart, Disc } from 'react-feather'\r\nimport Link from '../Link'\r\nimport { useSessionStart } from '../../contexts/Application'\r\nimport { useDarkModeManager } from '../../contexts/LocalStorage'\r\nimport Toggle from '../Toggle'\r\n\r\nconst Wrapper = styled.div`\r\n  height: ${({ isMobile }) => (isMobile ? 'initial' : '100vh')};\r\n  background-color: ${({ theme }) => transparentize(0.4, theme.bg1)};\r\n  color: ${({ theme }) => theme.text1};\r\n  padding: 0.5rem 0.5rem 0.5rem 0.75rem;\r\n  position: sticky;\r\n  top: 0px;\r\n  z-index: 9999;\r\n  box-sizing: border-box;\r\n  /* background-color: #1b1c22; */\r\n  background: linear-gradient(193.68deg, #000030 0.68%, rgb(112, 82, 64) 100.48%);\r\n  color: ${({ theme }) => theme.bg2};\r\n\r\n  @media screen and (max-width: 800px) {\r\n    grid-template-columns: 1fr;\r\n    position: relative;\r\n  }\r\n\r\n  @media screen and (max-width: 600px) {\r\n    padding: 1rem;\r\n  }\r\n`\r\n\r\nconst Option = styled.div`\r\n  font-weight: 500;\r\n  font-size: 14px;\r\n  opacity: ${({ activeText }) => (activeText ? 1 : 0.6)};\r\n  color: ${({ theme }) => theme.white};\r\n  display: flex;\r\n  :hover {\r\n    opacity: 1;\r\n  }\r\n`\r\n\r\nconst DesktopWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  height: 100vh;\r\n`\r\n\r\nconst MobileWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`\r\n\r\nconst HeaderText = styled.div`\r\n  margin-right: 0.75rem;\r\n  font-size: 0.825rem;\r\n  font-weight: 500;\r\n  display: inline-box;\r\n  display: -webkit-inline-box;\r\n  opacity: 0.8;\r\n  :hover {\r\n    opacity: 1;\r\n  }\r\n  a {\r\n    color: ${({ theme }) => theme.white};\r\n  }\r\n`\r\n\r\nconst Polling = styled.div`\r\n  position: fixed;\r\n  display: flex;\r\n  left: 0;\r\n  bottom: 0;\r\n  padding: 1rem;\r\n  color: white;\r\n  opacity: 0.4;\r\n  transition: opacity 0.25s ease;\r\n  :hover {\r\n    opacity: 1;\r\n  }\r\n`\r\nconst PollingDot = styled.div`\r\n  width: 8px;\r\n  height: 8px;\r\n  min-height: 8px;\r\n  min-width: 8px;\r\n  margin-right: 0.5rem;\r\n  margin-top: 3px;\r\n  border-radius: 50%;\r\n  background-color: ${({ theme }) => theme.green1};\r\n`\r\n\r\nfunction SideNav({ history }) {\r\n  const below1080 = useMedia('(max-width: 1080px)')\r\n\r\n  const below1180 = useMedia('(max-width: 1180px)')\r\n\r\n  const seconds = useSessionStart()\r\n\r\n  const [isDark, toggleDarkMode] = useDarkModeManager()\r\n\r\n  return (\r\n    <Wrapper isMobile={below1080}>\r\n      {!below1080 ? (\r\n        <DesktopWrapper>\r\n          <AutoColumn gap=\"1rem\" style={{ marginLeft: '.75rem', marginTop: '1.5rem' }}>\r\n            <Title />\r\n            {!below1080 && (\r\n              <AutoColumn gap=\"1.25rem\" style={{ marginTop: '1rem' }}>\r\n                <BasicLink to=\"/home\">\r\n                  <Option activeText={history.location.pathname === '/home' ?? undefined}>\r\n                    <TrendingUp size={20} style={{ marginRight: '.75rem' }} />\r\n                    Overview\r\n                  </Option>\r\n                </BasicLink>\r\n                <BasicLink to=\"/tokens\">\r\n                  <Option\r\n                    activeText={\r\n                      (history.location.pathname.split('/')[1] === 'tokens' ||\r\n                        history.location.pathname.split('/')[1] === 'token') ??\r\n                      undefined\r\n                    }\r\n                  >\r\n                    <Disc size={20} style={{ marginRight: '.75rem' }} />\r\n                    Tokens\r\n                  </Option>\r\n                </BasicLink>\r\n                <BasicLink to=\"/pairs\">\r\n                  <Option\r\n                    activeText={\r\n                      (history.location.pathname.split('/')[1] === 'pairs' ||\r\n                        history.location.pathname.split('/')[1] === 'pair') ??\r\n                      undefined\r\n                    }\r\n                  >\r\n                    <PieChart size={20} style={{ marginRight: '.75rem' }} />\r\n                    Pairs\r\n                  </Option>\r\n                </BasicLink>\r\n\r\n                <BasicLink to=\"/accounts\">\r\n                  <Option\r\n                    activeText={\r\n                      (history.location.pathname.split('/')[1] === 'accounts' ||\r\n                        history.location.pathname.split('/')[1] === 'account') ??\r\n                      undefined\r\n                    }\r\n                  >\r\n                    <List size={20} style={{ marginRight: '.75rem' }} />\r\n                    Accounts\r\n                  </Option>\r\n                </BasicLink>\r\n              </AutoColumn>\r\n            )}\r\n          </AutoColumn>\r\n          <AutoColumn gap=\"0.5rem\" style={{ marginLeft: '.75rem', marginBottom: '4rem' }}>\r\n            <HeaderText>\r\n              <Link href=\"https://bscswap.com\" target=\"_blank\">\r\n                BSCswap.com\r\n              </Link>\r\n            </HeaderText>\r\n            <HeaderText>\r\n              <Link href=\"https://t.me/bscswap\" target=\"_blank\">\r\n                Telegram\r\n              </Link>\r\n            </HeaderText>\r\n            <HeaderText>\r\n              <Link href=\"https://discord.gg/mCZSA3w\" target=\"_blank\">\r\n                Discord\r\n              </Link>\r\n            </HeaderText>\r\n            <HeaderText>\r\n              <Link href=\"https://twitter.com/BSCswapProtocol\" target=\"_blank\">\r\n                Twitter\r\n              </Link>\r\n            </HeaderText>\r\n            <HeaderText>\r\n              <Link href=\"https://app.astrotools.io/bsc-tokens-explorer\" target=\"_blank\">\r\n                AstroTools.io\r\n              </Link>\r\n            </HeaderText>\r\n            <HeaderText>\r\n              <Link href=\"https://dappradar.com/binance-smart-chain/exchanges/bscswap\" target=\"_blank\">\r\n                DappRadar\r\n              </Link>\r\n            </HeaderText>\r\n            <HeaderText>\r\n              <Link href=\"https://www.coingecko.com/en/exchanges/bscswap\" target=\"_blank\">\r\n                CoinGecko\r\n              </Link>\r\n            </HeaderText>\r\n            <HeaderText>\r\n              <Link href=\"https://coinmarketcap.com/exchanges/bscswap\" target=\"_blank\">\r\n                CoinMarketCap\r\n              </Link>\r\n            </HeaderText>\r\n            <Toggle isActive={isDark} toggle={toggleDarkMode} />\r\n          </AutoColumn>\r\n          {!below1180 && (\r\n            <Polling style={{ marginLeft: '.5rem' }}>\r\n              <PollingDot />\r\n              <a href=\"/\" style={{ color: 'white' }}>\r\n                <TYPE.small color={'white'}>\r\n                  Updated {!!seconds ? seconds + 's' : '-'} ago <br />\r\n                </TYPE.small>\r\n              </a>\r\n            </Polling>\r\n          )}\r\n        </DesktopWrapper>\r\n      ) : (\r\n        <MobileWrapper>\r\n          <Title />\r\n        </MobileWrapper>\r\n      )}\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default withRouter(SideNav)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useMedia } from 'react-use'\r\nimport dayjs from 'dayjs'\r\nimport LocalLoader from '../LocalLoader'\r\nimport utc from 'dayjs/plugin/utc'\r\nimport { Box, Flex } from 'rebass'\r\nimport styled from 'styled-components'\r\n\r\nimport { CustomLink } from '../Link'\r\nimport { Divider } from '..'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { formattedNum } from '../../utils'\r\nimport { TYPE } from '../../Theme'\r\nimport DoubleTokenLogo from '../DoubleLogo'\r\nimport { RowFixed } from '../Row'\r\n\r\ndayjs.extend(utc)\r\n\r\nconst PageButtons = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 2em;\r\n  margin-bottom: 0.5em;\r\n`\r\n\r\nconst Arrow = styled.div`\r\n  color: ${({ theme }) => theme.primary1};\r\n  opacity: ${props => (props.faded ? 0.3 : 1)};\r\n  padding: 0 20px;\r\n  user-select: none;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst List = styled(Box)`\r\n  -webkit-overflow-scrolling: touch;\r\n`\r\n\r\nconst DashGrid = styled.div`\r\n  display: grid;\r\n  grid-gap: 1em;\r\n  grid-template-columns: 10px 1.5fr 1fr 1fr;\r\n  grid-template-areas: 'number name pair value';\r\n  padding: 0 4px;\r\n\r\n  > * {\r\n    justify-content: flex-end;\r\n  }\r\n\r\n  @media screen and (max-width: 1080px) {\r\n    grid-template-columns: 10px 1.5fr 1fr 1fr;\r\n    grid-template-areas: 'number name pair value';\r\n  }\r\n\r\n  @media screen and (max-width: 600px) {\r\n    grid-template-columns: 1fr 1fr 1fr;\r\n    grid-template-areas: 'name pair value';\r\n  }\r\n`\r\n\r\nconst ListWrapper = styled.div``\r\n\r\nconst DataText = styled(Flex)`\r\n  align-items: center;\r\n  text-align: center;\r\n  color: ${({ theme }) => theme.text1};\r\n  & > * {\r\n    font-size: 14px;\r\n  }\r\n\r\n  @media screen and (max-width: 600px) {\r\n    font-size: 13px;\r\n  }\r\n`\r\n\r\nfunction LPList({ lps, disbaleLinks, maxItems = 10 }) {\r\n  const below600 = useMedia('(max-width: 600px)')\r\n  const below800 = useMedia('(max-width: 800px)')\r\n\r\n  // pagination\r\n  const [page, setPage] = useState(1)\r\n  const [maxPage, setMaxPage] = useState(1)\r\n  const ITEMS_PER_PAGE = maxItems\r\n\r\n  useEffect(() => {\r\n    setMaxPage(1) // edit this to do modular\r\n    setPage(1)\r\n  }, [lps])\r\n\r\n  useEffect(() => {\r\n    if (lps) {\r\n      let extraPages = 1\r\n      if (Object.keys(lps).length % ITEMS_PER_PAGE === 0) {\r\n        extraPages = 0\r\n      }\r\n      setMaxPage(Math.floor(Object.keys(lps).length / ITEMS_PER_PAGE) + extraPages)\r\n    }\r\n  }, [ITEMS_PER_PAGE, lps])\r\n\r\n  const ListItem = ({ lp, index }) => {\r\n    return (\r\n      <DashGrid style={{ height: '48px' }} disbaleLinks={disbaleLinks} focus={true}>\r\n        {!below600 && (\r\n          <DataText area=\"number\" fontWeight=\"500\">\r\n            {index}\r\n          </DataText>\r\n        )}\r\n        <DataText area=\"name\" fontWeight=\"500\" justifyContent=\"flex-start\">\r\n          <CustomLink style={{ marginLeft: below600 ? 0 : '1rem', whiteSpace: 'nowrap' }} to={'/account/' + lp.user.id}>\r\n            {below800 ? lp.user.id.slice(0, 4) + '...' + lp.user.id.slice(38, 42) : lp.user.id}\r\n          </CustomLink>\r\n        </DataText>\r\n\r\n        {/* {!below1080 && (\r\n          <DataText area=\"type\" justifyContent=\"flex-end\">\r\n            {lp.type}\r\n          </DataText>\r\n        )} */}\r\n\r\n        <DataText>\r\n          <CustomLink area=\"pair\" to={'/pair/' + lp.pairAddress}>\r\n            <RowFixed>\r\n              {!below600 && <DoubleTokenLogo a0={lp.token0} a1={lp.token1} size={16} margin={true} />}\r\n              {lp.pairName}\r\n            </RowFixed>\r\n          </CustomLink>\r\n        </DataText>\r\n        <DataText area=\"value\">{formattedNum(lp.usd, true)}</DataText>\r\n      </DashGrid>\r\n    )\r\n  }\r\n\r\n  const lpList =\r\n    lps &&\r\n    lps.slice(ITEMS_PER_PAGE * (page - 1), page * ITEMS_PER_PAGE).map((lp, index) => {\r\n      return (\r\n        <div key={index}>\r\n          <ListItem key={index} index={(page - 1) * 10 + index + 1} lp={lp} />\r\n          <Divider />\r\n        </div>\r\n      )\r\n    })\r\n\r\n  return (\r\n    <ListWrapper>\r\n      <DashGrid center={true} disbaleLinks={disbaleLinks} style={{ height: 'fit-content', padding: ' 0 0 1rem 0' }}>\r\n        {!below600 && (\r\n          <Flex alignItems=\"center\" justifyContent=\"flex-start\">\r\n            <TYPE.main area=\"number\">#</TYPE.main>\r\n          </Flex>\r\n        )}\r\n        <Flex alignItems=\"center\" justifyContent=\"flex-start\">\r\n          <TYPE.main area=\"name\">Account</TYPE.main>\r\n        </Flex>\r\n        {/* {!below1080 && (\r\n          <Flex alignItems=\"center\" justifyContent=\"flexEnd\">\r\n            <TYPE.main area=\"type\">Type</TYPE.main>\r\n          </Flex>\r\n        )} */}\r\n        <Flex alignItems=\"center\" justifyContent=\"flexEnd\">\r\n          <TYPE.main area=\"pair\">Pair</TYPE.main>\r\n        </Flex>\r\n        <Flex alignItems=\"center\" justifyContent=\"flexEnd\">\r\n          <TYPE.main area=\"value\">Value</TYPE.main>\r\n        </Flex>\r\n      </DashGrid>\r\n      <Divider />\r\n      <List p={0}>{!lpList ? <LocalLoader /> : lpList}</List>\r\n      <PageButtons>\r\n        <div onClick={() => setPage(page === 1 ? page : page - 1)}>\r\n          <Arrow faded={page === 1 ? true : false}>←</Arrow>\r\n        </div>\r\n        <TYPE.body>{'Page ' + page + ' of ' + maxPage}</TYPE.body>\r\n        <div onClick={() => setPage(page === maxPage ? page : page + 1)}>\r\n          <Arrow faded={page === maxPage ? true : false}>→</Arrow>\r\n        </div>\r\n      </PageButtons>\r\n    </ListWrapper>\r\n  )\r\n}\r\n\r\nexport default withRouter(LPList)\r\n","import React, { useEffect } from 'react'\r\nimport 'feather-icons'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { TYPE } from '../Theme'\r\nimport { PageWrapper, FullWrapper } from '../components'\r\nimport Panel from '../components/Panel'\r\nimport LPList from '../components/LPList'\r\nimport styled from 'styled-components'\r\nimport AccountSearch from '../components/AccountSearch'\r\nimport { useTopLps } from '../contexts/GlobalData'\r\nimport LocalLoader from '../components/LocalLoader'\r\nimport { RowBetween } from '../components/Row'\r\nimport { useMedia } from 'react-use'\r\nimport Search from '../components/Search'\r\n\r\nconst AccountWrapper = styled.div`\r\n  @media screen and (max-width: 600px) {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nfunction AccountLookup() {\r\n  // scroll to top\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [])\r\n\r\n  const topLps = useTopLps()\r\n\r\n  const below600 = useMedia('(max-width: 600px)')\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <FullWrapper>\r\n        <RowBetween>\r\n          <TYPE.largeHeader>Wallet analytics</TYPE.largeHeader>\r\n          {!below600 && <Search small={true} />}\r\n        </RowBetween>\r\n        <AccountWrapper>\r\n          <AccountSearch />\r\n        </AccountWrapper>\r\n        <TYPE.main fontSize={'1.125rem'} style={{ marginTop: '2rem' }}>\r\n          Top Liquidity Positions\r\n        </TYPE.main>\r\n        <Panel>{topLps && topLps.length > 0 ? <LPList lps={topLps} maxItems={200} /> : <LocalLoader />}</Panel>\r\n      </FullWrapper>\r\n    </PageWrapper>\r\n  )\r\n}\r\n\r\nexport default withRouter(AccountLookup)\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { ApolloProvider } from 'react-apollo'\r\nimport { client } from './apollo/client'\r\nimport { Route, Switch, BrowserRouter, Redirect } from 'react-router-dom'\r\nimport GlobalPage from './pages/GlobalPage'\r\nimport TokenPage from './pages/TokenPage'\r\nimport PairPage from './pages/PairPage'\r\nimport { useGlobalData, useGlobalChartData } from './contexts/GlobalData'\r\nimport { isAddress } from './utils'\r\nimport AccountPage from './pages/AccountPage'\r\nimport AllTokensPage from './pages/AllTokensPage'\r\nimport AllPairsPage from './pages/AllPairsPage'\r\nimport PinnedData from './components/PinnedData'\r\n\r\nimport SideNav from './components/SideNav'\r\nimport AccountLookup from './pages/AccountLookup'\r\nimport { OVERVIEW_TOKEN_BLACKLIST, PAIR_BLACKLIST } from './constants'\r\nimport LocalLoader from './components/LocalLoader'\r\nimport { useLatestBlock } from './contexts/Application'\r\n\r\nconst AppWrapper = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n`\r\nconst ContentWrapper = styled.div`\r\n  display: grid;\r\n  grid-template-columns: ${({ open }) => (open ? '220px 1fr 200px' : '220px 1fr 64px')};\r\n\r\n  @media screen and (max-width: 1400px) {\r\n    grid-template-columns: 220px 1fr;\r\n  }\r\n\r\n  @media screen and (max-width: 1080px) {\r\n    grid-template-columns: 1fr;\r\n    max-width: 100vw;\r\n    overflow: hidden;\r\n    grid-gap: 0;\r\n  }\r\n`\r\n\r\nconst Right = styled.div`\r\n  position: fixed;\r\n  right: 0;\r\n  bottom: 0rem;\r\n  z-index: 99;\r\n  width: ${({ open }) => (open ? '220px' : '64px')};\r\n  height: ${({ open }) => (open ? 'fit-content' : '64px')};\r\n  overflow: scroll;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  @media screen and (max-width: 1400px) {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst Center = styled.div`\r\n  height: 100%;\r\n  z-index: 9999;\r\n  transition: width 0.25s ease;\r\n  background-color: ${({ theme }) => theme.onlyLight};\r\n`\r\n\r\n/**\r\n * Wrap the component with the header and sidebar pinned tab\r\n */\r\nconst LayoutWrapper = ({ children, savedOpen, setSavedOpen }) => {\r\n  return (\r\n    <>\r\n      <ContentWrapper open={savedOpen}>\r\n        <SideNav />\r\n        <Center id=\"center\">{children}</Center>\r\n        <Right open={savedOpen}>\r\n          <PinnedData open={savedOpen} setSavedOpen={setSavedOpen} />\r\n        </Right>\r\n      </ContentWrapper>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction App() {\r\n  const [savedOpen, setSavedOpen] = useState(false)\r\n\r\n  const globalData = useGlobalData()\r\n  const globalChartData = useGlobalChartData()\r\n  const latestBlock = useLatestBlock()\r\n\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <AppWrapper>\r\n        {latestBlock &&\r\n        globalData &&\r\n        Object.keys(globalData).length > 0 &&\r\n        globalChartData &&\r\n        Object.keys(globalChartData).length > 0 ? (\r\n          <BrowserRouter>\r\n            <Switch>\r\n              <Route\r\n                exacts\r\n                strict\r\n                path=\"/token/:tokenAddress\"\r\n                render={({ match }) => {\r\n                  if (OVERVIEW_TOKEN_BLACKLIST.includes(match.params.tokenAddress.toLowerCase())) {\r\n                    return <Redirect to=\"/home\" />\r\n                  }\r\n                  if (isAddress(match.params.tokenAddress.toLowerCase())) {\r\n                    return (\r\n                      <LayoutWrapper savedOpen={savedOpen} setSavedOpen={setSavedOpen}>\r\n                        <TokenPage address={match.params.tokenAddress.toLowerCase()} />\r\n                      </LayoutWrapper>\r\n                    )\r\n                  } else {\r\n                    return <Redirect to=\"/home\" />\r\n                  }\r\n                }}\r\n              />\r\n              <Route\r\n                exacts\r\n                strict\r\n                path=\"/pair/:pairAddress\"\r\n                render={({ match }) => {\r\n                  if (PAIR_BLACKLIST.includes(match.params.pairAddress.toLowerCase())) {\r\n                    return <Redirect to=\"/home\" />\r\n                  }\r\n                  if (isAddress(match.params.pairAddress.toLowerCase())) {\r\n                    return (\r\n                      <LayoutWrapper savedOpen={savedOpen} setSavedOpen={setSavedOpen}>\r\n                        <PairPage pairAddress={match.params.pairAddress.toLowerCase()} />\r\n                      </LayoutWrapper>\r\n                    )\r\n                  } else {\r\n                    return <Redirect to=\"/home\" />\r\n                  }\r\n                }}\r\n              />\r\n              <Route\r\n                exacts\r\n                strict\r\n                path=\"/account/:accountAddress\"\r\n                render={({ match }) => {\r\n                  if (isAddress(match.params.accountAddress.toLowerCase())) {\r\n                    return (\r\n                      <LayoutWrapper savedOpen={savedOpen} setSavedOpen={setSavedOpen}>\r\n                        <AccountPage account={match.params.accountAddress.toLowerCase()} />\r\n                      </LayoutWrapper>\r\n                    )\r\n                  } else {\r\n                    return <Redirect to=\"/home\" />\r\n                  }\r\n                }}\r\n              />\r\n\r\n              <Route path=\"/home\">\r\n                <LayoutWrapper savedOpen={savedOpen} setSavedOpen={setSavedOpen}>\r\n                  <GlobalPage />\r\n                </LayoutWrapper>\r\n              </Route>\r\n\r\n              <Route path=\"/tokens\">\r\n                <LayoutWrapper savedOpen={savedOpen} setSavedOpen={setSavedOpen}>\r\n                  <AllTokensPage />\r\n                </LayoutWrapper>\r\n              </Route>\r\n\r\n              <Route path=\"/pairs\">\r\n                <LayoutWrapper savedOpen={savedOpen} setSavedOpen={setSavedOpen}>\r\n                  <AllPairsPage />\r\n                </LayoutWrapper>\r\n              </Route>\r\n\r\n              <Route path=\"/accounts\">\r\n                <LayoutWrapper savedOpen={savedOpen} setSavedOpen={setSavedOpen}>\r\n                  <AccountLookup />\r\n                </LayoutWrapper>\r\n              </Route>\r\n\r\n              <Redirect to=\"/home\" />\r\n            </Switch>\r\n          </BrowserRouter>\r\n        ) : (\r\n          <LocalLoader fill=\"true\" />\r\n        )}\r\n      </AppWrapper>\r\n    </ApolloProvider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport ReactGA from 'react-ga'\r\nimport { isMobile } from 'react-device-detect'\r\nimport ThemeProvider, { GlobalStyle } from './Theme'\r\nimport LocalStorageContextProvider, { Updater as LocalStorageContextUpdater } from './contexts/LocalStorage'\r\nimport TokenDataContextProvider, { Updater as TokenDataContextUpdater } from './contexts/TokenData'\r\nimport GlobalDataContextProvider from './contexts/GlobalData'\r\nimport PairDataContextProvider, { Updater as PairDataContextUpdater } from './contexts/PairData'\r\nimport ApplicationContextProvider from './contexts/Application'\r\nimport UserContextProvider from './contexts/User'\r\nimport App from './App'\r\n\r\n// initialize GA\r\nconst GOOGLE_ANALYTICS_ID = process.env.REACT_APP_GOOGLE_ANALYTICS_ID\r\nif (typeof GOOGLE_ANALYTICS_ID === 'string') {\r\n  ReactGA.initialize(GOOGLE_ANALYTICS_ID)\r\n  ReactGA.set({\r\n    customBrowserType: !isMobile ? 'desktop' : 'web3' in window || 'ethereum' in window ? 'mobileWeb3' : 'mobileRegular'\r\n  })\r\n} else {\r\n  ReactGA.initialize('test', { testMode: true, debug: true })\r\n}\r\n\r\nfunction ContextProviders({ children }) {\r\n  return (\r\n    <LocalStorageContextProvider>\r\n      <ApplicationContextProvider>\r\n        <TokenDataContextProvider>\r\n          <GlobalDataContextProvider>\r\n            <PairDataContextProvider>\r\n              <UserContextProvider>{children}</UserContextProvider>\r\n            </PairDataContextProvider>\r\n          </GlobalDataContextProvider>\r\n        </TokenDataContextProvider>\r\n      </ApplicationContextProvider>\r\n    </LocalStorageContextProvider>\r\n  )\r\n}\r\n\r\nfunction Updaters() {\r\n  return (\r\n    <>\r\n      <LocalStorageContextUpdater />\r\n      <PairDataContextUpdater />\r\n      <TokenDataContextUpdater />\r\n    </>\r\n  )\r\n}\r\n\r\nReactDOM.render(\r\n  <ContextProviders>\r\n    <Updaters />\r\n    <ThemeProvider>\r\n      <>\r\n        <GlobalStyle />\r\n        <App />\r\n      </>\r\n    </ThemeProvider>\r\n  </ContextProviders>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}